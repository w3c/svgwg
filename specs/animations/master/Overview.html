<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional+edit//EN" "xhtml1-transitional+edit.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:edit="http://xmlns.grorg.org/SVGT12NG/">
<head>
  <title>SVG Animations</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="stylesheet" title="Default" type="text/css" href="style/default_svg.css"/>
  <link rel="alternate stylesheet" title="No issues/annotations" type="text/css" href="style/default_no_issues.css"/>
</head>
<body>

<div class="head">
  <p><a href="https://www.w3.org/"><img height="48" width="72" alt="W3C" src="https://www.w3.org/Icons/w3c_home"/></a></p>
  <h1 id="pagetitle">SVG Animations Level 2</h1>
  <h2 id="pagesubtitle">W3C <edit:maturity/> <em><edit:date/></em></h2>
  <dl>
    <dt>This version:</dt>
    <dd><edit:thisversion/></dd>
    <dt>Latest version:</dt>
    <dd><edit:latestversion/></dd>
    <edit:includelatesteditorsdraft/>
    <!--
    <dt>Previous version:</dt>
    <dd><edit:previousversion/></dd>
    -->
    <dt>GitHub repository:</dt>
    <dd><a href="https://github.com/w3c/svgwg/tree/main/specs/animations">https://github.com/w3c/svgwg/tree/main/specs/animations</a></dd>
    <dt>Feedback:</dt>
    <dd><a href="mailto:www-svg@w3.org" class='url'>www-svg@w3.org</a> with subject line “<code>[svg-animation] … <i>message topic</i> …</code>” (<a href="http://lists.w3.org/Archives/Public/www-svg/">archive</a>)</dd>
    <dt class="top-editors">Editor:</dt>
    <dd>Brian Birtles, Mozilla&lt;<a href="mailto:bbirtles@mozilla.com" class='url'>bbirtles@mozilla.com</a>&gt;</dd>
  </dl>
  <edit:copyright/>
</div>

<hr/>

<h2 id="abstract">Abstract</h2>

<p>This specification defines SVG Animations, a set of features based
on SMIL for declaratively animating SVG content.</p>

<h2 id="status">Status of This Document</h2>

<p><em>This section describes the status of this document at the time of its
publication. Other documents may supersede this document. A list of current W3C
publications and the latest revision of this technical report can be found in
the <a href="http://www.w3.org/TR/">W3C technical reports index</a> at http://www.w3.org/TR/</em>.</p>

<p>This document is the <edit:date/> <strong><edit:maturity/></strong> of <edit:shorttitle/>.
The purpose of this specification is to separate out SVG's animation
features into a separate document.</p>

<p>Comments on this <edit:maturity/> are welcome.
Comments can be sent to <a href="mailto:www-svg@w3.org" class='url'>www-svg@w3.org</a>,
the public email list for issues related to vector graphics on the Web. This list is
<a href="http://lists.w3.org/Archives/Public/www-svg/">archived</a> and
senders must agree to have their message publicly archived from their
first posting. To subscribe send an email to
<a href="mailto:www-svg-request@w3.org" class='url'>www-svg-request@w3.org</a> with
the word <code>subscribe</code> in the subject line.</p>

<p>This document has been produced by the
<a href="http://www.w3.org/Graphics/SVG/WG">W3C SVG Working Group</a> as part of
the <a href="http://www.w3.org/Graphics/Activity">Graphics Activity</a> within
the <a href="http://www.w3.org/Interaction/">W3C Interaction Domain</a>. The
goals of the W3C SVG Working Group are discussed in the
<a href="https://www.w3.org/Graphics/SVG/svg-2019.html">W3C SVG Charter</a>.
The W3C SVG Working Group maintains a public Web page,
<a href="http://www.w3.org/Graphics/SVG/" class='url'>http://www.w3.org/Graphics/SVG/</a>,
that contains further background information. The authors of
this document are the SVG Working Group participants.</p>

<p>This document was produced by a group operating under the
<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>.
W3C maintains a <a rel="disclosure" href="http://www.w3.org/2004/01/pp-impl/19480/status">public list of any patent disclosures</a>
made in connection with the deliverables of the group; that page also includes
instructions for disclosing a patent. An individual who has actual knowledge of
a patent which the individual believes contains
<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a>
must disclose the information in accordance with
<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>.</p>

<p>Publication as a <edit:maturity/> does not imply endorsement by the W3C Membership.
This is a draft document and may be updated, replaced or obsoleted by other documents
at any time. It is inappropriate to cite this document as other than work in progress.</p>

<p>A list of current W3C Recommendations and other technical documents can be found at
<a href="http://www.w3.org/TR/" class='url'>http://www.w3.org/TR/</a>. W3C publications
may be updated, replaced, or obsoleted by other documents at any time.</p>

<p>This document is governed by the
<a id="w3c_process_revision" href="http://www.w3.org/2014/Process-20140801/">1 August 2014 W3C Process Document</a>.</p>

<!--
<h2 id="feedback" edit:toc="no">How to read this document and give feedback</h2>

<p>This draft of SVG Integration introduces new normative prose for
integrating the SVG language into other markup languages. One of
the goals is that this specification can be re-used more easily by
other specifications that want to have well-defined interaction and
interoperability with SVG. Future drafts of this specification may
introduce syntax and markup for the SVG language that may not be
backwards compatible with older SVG User Agents, and the use of this
syntax should be accompanied by a fallback using the <a>'switch'</a>
element.</p>
-->

<nav id="toc">
  <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>

<edit:fulltoc/>
  <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
</nav>

<h2 id="intro">Introduction</h2>

<p><em>This section is non-normative.</em></p>

<p>SVG supports the ability to change vector graphics over time. SVG content can
be animated in the following ways:</p>

<ul>
  <li>Using SVG's <a href="#AnimationElements">animation elements</a>.
  SVG document fragments can describe time-based modifications
  to the document's elements. Using the various animation
  elements, authors can define motion paths, or interpolate the element's
  attributes and style properties. These effects can be chained together
  or triggered in response to other events in the document.</li>

  <li>Using <a href="http://www.w3.org/TR/2012/WD-css-animations-1-20120403/"><cite>CSS Animations</cite></a>
  [<a href="#ref-CSS3ANIMATIONS">CSSANIMATIONS</a>]. A CSS
  module that describes a way for authors to animate the values of
  CSS properties over time, using keyframes. The behavior of these
  keyframe animations can be controlled by specifying their duration,
  number of repeats, and repeating behavior.</li>

  <li>Using <a href="http://www.w3.org/TR/2012/WD-css-transitions-1-20120403/"><cite>CSS Transitions</cite></a>
  [<a href="#ref-CSS3TRANSITIONS">CSS3TRANSITIONS</a>]. A CSS
  module that allows changes to values of CSS properties to occur
  smoothly over a specified duration.</li>

  <li>Using the <a href="[SVG2]/svgdom.html">SVG DOM</a>. The SVG DOM
  is defined based on the DOM4 specification [<a href="#ref-DOM4">DOM4</a>].
  Every attribute and style sheet setting is
  accessible to scripting, and SVG offers a set of additional
  DOM interfaces to support efficient animation via scripting.
  (See <a href="#DOMAnimationExample">example</a> below.)</li>

</ul>


<h3 id="placement">Module interactions</h3>

<p>This module extends definitions in SVG 2.<a href='#ref-SVG2'>[SVG2]</a></p>


<h2 id="AnimationElements">Animation elements</h2>

<div class="ready-for-wider-review">

<h3 id="AnimationElementsIntro">Overview</h3>

<p>SVG's animation elements were developed in collaboration
with the W3C Synchronized Multimedia (SYMM) Working Group,
developers of the <a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/"><cite>Synchronized Multimedia Integration Language
(SMIL) 3.0 Specification</cite></a> [<a href="#ref-SMIL">SMIL</a>].</p>

<p>The SYMM Working Group, in collaboration with the SVG
Working Group, has authored the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation specification</cite></a>
[<a href="#ref-SMILANIM">SMILANIM</a>],
which represents a general-purpose XML animation feature set.
SVG incorporates the animation features defined in the SMIL
Animation specification and provides some SVG-specific
extensions.</p>

<p>For an introduction to the approach and features available
in any language that supports SMIL Animation, see
<a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#AnimationFramework">SMIL Animation overview</a>
and <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#AnimationModel">SMIL Animation animation model</a>
([<a href="#ref-SMILANIM">SMILANIM</a>], sections 2 and 3). For the list of animation
features which go beyond SMIL Animation, see
<a href="#SVGExtensionsToSMILAnimation">SVG extensions to SMIL Animation</a>.</p>

<h3 id="AnimationDefinitions">Definitions</h3>

<dl class='definitions'  data-dfn-type="dfn" data-export="">
  <dt id="TermAnimationElement"><dfn id="animation-element">animation element</dfn></dt>
  <dd>An animation element is an element that can be used to animate
  the attribute or property value of another element. The following elements
  are animation elements: <edit:elementcategory name='animation'/>.</dd>

  <dt id="TermAnimationEventAttribute"><dfn id="animation-event-attribute">animation event attribute</dfn></dt>
  <dd>An animation event attribute is an <a>event attribute</a> that specifies
  script to run for a particular animation-related event.  See
  <a href="[SVG2]/interact.html#AnimationEvents">Animation event attributes</a>.
  The animation event attributes are <edit:attributecategory name='animation event'/>.</dd>

</dl>

<h3 id="RelationshipToSMILAnimation">Relationship to SMIL Animation</h3>

<p>SVG is a host language in terms of SMIL Animation and
therefore introduces additional constraints and features as
permitted by that specification. Except for any SVG-specific
rules explicitly mentioned in this specification, the normative
definition for SVG's animation elements and attributes is the
<a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a>
specification [<a href="#ref-SMILANIM">SMILANIM</a>].</p>

<p>SVG supports the following three animation elements which are
defined in the SMIL Animation specification:</p>

    <table class='vert offset'>
      <tr>
        <td><a>'animate'</a></td>
        <td>allows attributes and properties to be assigned
        different values over time</td>
      </tr>
      <tr>
        <td><a>'set'</a></td>
        <td>a convenient shorthand for <a>'animate'</a>, which produces a
        discrete change to an animated attribute or property.
        It is most commonly used with values which do not support
        linear interpolation, such as the <a>'visibility'</a> property</td>
      </tr>
      <tr>
        <td><a>'animateMotion'</a></td>
        <td>moves an element along a motion path</td>
      </tr>
    </table>

<p id="SVGExtensionsToSMILAnimation">Additionally, SVG includes the following compatible
extensions to SMIL Animation:</p>

<table class='vert offset'>
  <tr>
    <td><a>'animateTransform'</a></td>
    <td>modifies one of SVG's transformation values over
    time, such as the <a>'transform'</a> property or the
    <a>'pattern/patternTransform'</a> attribute.</td>
  </tr>
  <tr>
    <td><a>'animateMotion/path'</a> attribute</td>
    <td>SVG allows any feature from SVG's <a
    href="[SVG2]/paths.html#PathData">path data</a> syntax to be
    specified in a <a>'animateMotion/path'</a> attribute to the <a>'animateMotion'</a> element
    (SMIL Animation only allows a subset of SVG's path data
    syntax within a <a>'animateMotion/path'</a> attribute)</td>
  </tr>
  <tr>
    <td><a>'mpath'</a> element</td>
    <td>SVG allows an <a>'animateMotion'</a> element to
    contain a child <a>'mpath'</a> element which
    references an SVG <a>'path'</a> element or <a>shape</a> element
    as the definition of the motion path</td>
  </tr>
  <tr>
    <td><a>'animateMotion/keyPoints'</a> attribute</td>
    <td>SVG adds a <a>'animateMotion/keyPoints'</a> attribute to the <a>'animateMotion'</a> to provide
    precise control of the velocity of motion path
    animations</td>
  </tr>
  <tr>
    <td><a>'animateMotion/rotate'</a> attribute</td>
    <td>SVG adds a <a>'animateMotion/rotate'</a> attribute to the <a>'animateMotion'</a> to control
    whether an object is automatically rotated so that its
    x-axis points in the same direction (or opposite direction)
    as the directional tangent vector of the motion path</td>
  </tr>
</table>

<p>For compatibility with other aspects of the language, SVG
uses <a>URL references</a> via an <a>'set/href'</a> attribute to
identify the elements which are to be targets of the animations,
as allowed in SMIL 3.0.</p>

<p>SMIL Animation requires that the host language define the
meaning for <em id='DocumentBegin'>document begin</em> and the
<em id='DocumentEnd'>document end</em>. Since an
<a>'svg'</a> is sometimes the root of
the XML document tree and other times can be a component of a
parent XML grammar, the document begin for a given <a>SVG
document fragment</a> is defined to be the exact time at which the
<a>'svg'</a> element's <a href="[SVG2]/interact.html#LoadEvent">load event</a> is
triggered. The document end of an SVG document
fragment is the point at which the document fragment has been
released and is no longer being processed by the user agent.
However, nested <a>'svg'</a> elements within an SVG
document do not constitute document fragments in this sense,
and do not define a separate document begin; all times within
the nested SVG fragment are relative to the document time
defined for the root <a>'svg'</a> element.</p>

<p>For SVG, the term <dfn id="PresentationTime">presentation time</dfn>
indicates the position in the timeline relative
to the document begin of a given document
fragment.</p>

<h3 id="AnimationElementsExample">Animation elements example</h3>

<div class="example">
<p id="ExampleAnim01"><span class="example-ref">Example anim01</span> below
demonstrates each of SVG's four animation elements.</p>

<pre><![CDATA[
<?xml version="1.0" standalone="no"?>
<svg width="8cm" height="3cm"  viewBox="0 0 800 300"
     xmlns="http://www.w3.org/2000/svg">
  <desc>Example anim01 - demonstrate animation elements</desc>
  <rect x="1" y="1" width="798" height="298"
        fill="none" stroke="blue" stroke-width="2" />
  <!-- The following illustrates the use of the 'animate' element
        to animate a rectangles x, y, and width attributes so that
        the rectangle grows to ultimately fill the viewport. -->
  <rect id="RectElement" x="300" y="100" width="300" height="100"
        fill="rgb(255,255,0)"  >
    <animate attributeName="x" begin="0s" dur="9s"
             fill="freeze" from="300" to="0" />
    <animate attributeName="y" begin="0s" dur="9s"
             fill="freeze" from="100" to="0" />
    <animate attributeName="width" begin="0s" dur="9s"
             fill="freeze" from="300" to="800" />
    <animate attributeName="height" begin="0s" dur="9s"
             fill="freeze" from="100" to="300" />
  </rect>
  <!-- Set up a new user coordinate system so that
        the text string's origin is at (0,0), allowing
        rotation and scale relative to the new origin -->
  <g transform="translate(100,100)" >
    <!-- The following illustrates the use of the 'set', 'animateMotion',
         'animate' and 'animateTransform' elements. The 'text' element
         below starts off hidden (i.e., invisible). At 3 seconds, it:
           * becomes visible
           * continuously moves diagonally across the viewport
           * changes color from blue to dark red
           * rotates from -30 to zero degrees
           * scales by a factor of three. -->
    <text id="TextElement" x="0" y="0"
          font-family="Verdana" font-size="35.27" visibility="hidden"  >
      It's alive!
      <set attributeName="visibility" to="visible"
           begin="3s" dur="6s" fill="freeze" />
      <animateMotion path="M 0 0 L 100 100"
           begin="3s" dur="6s" fill="freeze" />
      <animate attributeName="fill"
           from="rgb(0,0,255)" to="rgb(128,0,0)"
           begin="3s" dur="6s" fill="freeze" />
      <animateTransform attributeName="transform"
           type="rotate" from="-30" to="0"
           begin="3s" dur="6s" fill="freeze" />
      <animateTransform attributeName="transform"
           type="scale" from="1" to="3" additive="sum"
           begin="3s" dur="6s" fill="freeze" />
    </text>
  </g>
</svg>
]]></pre>

<!--
  Would be good to replace this with an <edit:example>, if that
  supported multiple images.
  -->
<div class="figure">
<table >
  <caption>
    Example anim01
  </caption>
  <tr>
    <td><img width="256" height="91"
    alt="Example anim01 - at zero seconds"
    src="images/anim01a.png" /> <span
    class="table-heading-1">At zero seconds</span></td>
    <td>&nbsp;</td>
    <td><img width="256" height="91"
    alt="Example anim01 - at three seconds"
    src="images/anim01b.png" /> <span
    class="table-heading-1">At three seconds</span></td>
  </tr>
  <tr>
    <td><img width="256" height="91"
    alt="Example anim01 - at six seconds"
    src="images/anim01c.png" /> <span
    class="table-heading-1">At six seconds</span></td>
    <td>&nbsp;</td>
    <td><img width="256" height="91"
    alt="Example anim01 - at nine seconds"
    src="images/anim01d.png" /> <span
    class="table-heading-1">At nine seconds</span></td>
  </tr>
</table>
</div>
<p class="view-as-svg"><a href="images/anim01.svg">View
this example as SVG (SVG-enabled browsers only)</a></p>
</div>

<p>The sections below describe the various animation attributes
and elements.</p>

</div>

<edit:with element='animate'>

<div class="ready-for-wider-review">

<h3 id="TargetElement">Attributes to identify the target element for an animation</h3>

<p>The following attribute is common to all animation
elements and identifies the target element for the animation.</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="HrefAttribute">href</dfn></td>
        <td>URL <a href="[SVG2]/types.html#attribute-url" class="syntax">[URL]</a></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>A <a>URL reference</a> to the element which is the target of this
    animation element and which therefore will be modified over
    time.</p>
    <p>The URL must point to exactly one target element which
    is capable of being the target of the given animation element.
    If the URL points to multiple target elements, if the given target
    element is not capable of being a target of the given animation
    element, or if the given target element is not part of the current
    document, then the animation element will not affect any target element.
    However, the animation element will still operate normally with regard
    to its timing properties.
    Specifically, <a>TimeEvent</a>s are dispatched and the animation
    element can be used as <a href="#syncbase">syncbase</a> in an identical
    fashion to when the URL refers to a valid target element.</p>
    <p>If the <a>'href'</a> attribute or the deprecated <a>'xlink:href'</a>
    attribute is not provided, then the target element will be the immediate
    parent element of the current animation element.
    The behavior when both <a>'href'</a> and <a>'xlink:href'</a> are
    specified is defined by the common handling for <a
    href="[SVG2]/linking.html#XLinkRefAttrs">deprecated XLink attributes</a>.</p>
    <p>Refer to the descriptions of the individual animation
    elements for any restrictions on what types of elements can
    be targets of particular types of animations.</p>
    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a>
    specification.
    In particular, see <a
    href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#SpecifyingAnimationTarget">
    SMIL Animation: Specifying the animation target</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.1).</p>
  </dd>
</dl>

<p class='issue' data-issue="9">Reference the deprecated <a>'xlink:href'</a>
attribute and its handling as defined in
<a href="[SVG2]/linking.html#XLinkRefAttrs">SVG 2</a>.</p>

<h3 id="TargetAttributes">Attributes to identify the target attribute or property for an animation</h3>

<p>The following attribute identifies the target attribute or property for the
given <a href="#TargetElement">target element</a> whose value
changes over time.</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="AttributeNameAttribute">attributeName</dfn></td>
        <td><a href="http://www.w3.org/TR/xml/#NT-Name">Name</a> <a href="[SVG2]/types.html#syntax" class="syntax">[EBNF]</a></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Specifies the name of the target property or attribute.</p>
    <p>Unlike <a
    href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL
    Animation</cite></a>, the <span class="element-name">attributeType</span>
    attribute is not supported by SVG.
    SVG's animation elements follow the behavior defined for the <span
    class="attr-value">auto</span> value of <span
    class="element-name">attributeType</span>. That is, when determining if
    <a>'attributeName'</a> corresponds to an attribute name or a CSS property
    name, the implementation must first search through the list of CSS
    properties for a matching property name.
    If no matching property is found, the implementation must search for a
    matching attribute on the target element.</p>
    <p>
    When referencing an attribute, an XMLNS prefix may be used to indicate the
    XML namespace for the attribute. The prefix will be interpreted in the
    scope of the current (i.e., the referencing) animation element.
    Otherwise the implementation must use the default XML
    namespace for the target element.
    </p>
    <div class="note">
      <p>
        Note that, as a result of the behavior, it is not possible to animate
        the list of coordinates specified by the <a>'text/x'</a> and
        <a>'text/y'</a> attributes on <a>'text'</a> and <a>'tspan'</a> elements.
        This is because <span class="property-name">'x'</span> and <span
        class="property-name">'y'</span> are also CSS properties where they
        only accept a single length as a value.
      </p>
      <p>
        Due to the complex mapping between characters and glyphs, using the
        list-based syntax for <a>'text/x'</a> and <a>'text/y'</a> to specify
        glyph positions does not scale well to anything beyond very simple Latin
        text and its use is discouraged.
        Authors who nevertheless wish to animate this list of coordinates
        may be able to achieve a comparable effect using the <a>'text/dx'</a>
        and <a>'text/dy'</a> attributes instead since these names to not overlap
        with CSS properties.
      </p>
    </div>
    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a>
    specification.
    In particular, see <a
    href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#SpecifyingAnimationTarget">
    SMIL Animation: Specifying the animation target</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.1).</p>
  </dd>
</dl>

</div>

<h3 id="Animation.nsexample">Animation with namespaces</h3>


<p id="ExampleNS01"><span class="example-ref">Example
animns01</span> below shows a namespace prefix being resolved
to a namespace name in the scope of the referencing element, and
that namespace name being used (regardless of the prefix which
happens to be used in the target scope) to identify the
attribute being animated.</p>

<edit:example href="images/animns01.svg" link="yes" image="no"/>


<h3 id="complexDistances">Paced animation and complex types</h3>

<p>Paced animations assume a notion of distance between the various
animation values defined by the
<a>'to'</a>, <a>'from'</a>, <a>'by'</a> and <a>'values'</a>
attributes.  Distance is defined only for scalar types (such as
<a>&lt;length&gt;</a>), colors
and the subset of transformation types that are supported by
<a>'animateTransform'</a>.
In the list of distance functions below, V<sub>a</sub> and V<sub>b</sub>
represent the two values the distance between which is being calculated.</p>

<p>Since paced animation is intended to produce an animation with an even
pace of change, it does not make sense to define distance functions
for all data types.  Distance can be usefully defined for types whose
values are <var>n</var>-dimensional vectors (including scalars, which are
1-dimensional vectors).  For example, a
<a>&lt;length&gt;</a> value is a scalar
value, and a <a>&lt;color&gt;</a> value
is a 3-dimensional vector. Thus attributes of these types can have paced
animation applied to them.  On the other hand, a <a>&lt;dasharray&gt;</a>
(as used by <a href="[SVG2]/painting.html#StrokeDasharrayProperty"><span class="property">'stroke-dasharray'</span></a>)
is a list of scalars (1-dimensional vectors), and
<a>&lt;points&gt;</a> (as used by
the <a href="[SVG2]/shapes.html#PolygonElementPointsAttribute"><span class="attr-name">'points'</span></a>
attribute on a <a href="[SVG2]/shapes.html#PolygonElement"><span class="element-name">'polygon'</span></a>)
is a list of 2-dimensional vectors.  Therefore, these types do not have a
distance function defined and cannot have paced animation applied to them.</p>

<p>The distance functions for types that support paced animation are as follows:</p>

<dl class='indented'>
  <dt><a>&lt;integer&gt;</a>,
  <a>&lt;length&gt;</a> and
  <a>&lt;number&gt;</a></dt>
  <dd>
    <p>distance(V<sub>a</sub>, V<sub>b</sub>) = |V<sub>a</sub> − V<sub>b</sub>|</p>
    <p>
      Examples: animating the
      <a>'text/x'</a> attribute on a
      <a>'text'</a>, or the
      <a>'stroke-width'</a>
      property on a <a>'circle'</a>.
    </p>
  </dd>

  <dt><a>&lt;color&gt;</a></dt>
  <dd>
    <p>distance(V<sub>a</sub>, V<sub>b</sub>) = sqrt((V<sub>a</sub>.red − V<sub>b</sub>.red)<sup>2</sup> + (V<sub>a</sub>.green − V<sub>b</sub>.green)<sup>2</sup> + (V<sub>a</sub>.blue − V<sub>b</sub>.blue)<sup>2</sup>), where:</p>
    <div class='vardefs'>
      <div>V<sub><var>i</var></sub>.red is the red component of the V<sub><var>i</var></sub> color value,</div>
      <div>V<sub><var>i</var></sub>.green is the green component of the V<sub><var>i</var></sub> color value, and</div>
      <div>V<sub><var>i</var></sub>.blue is the blue component of the V<sub><var>i</var></sub> color value.</div>
    </div>
    <p>
      Each of the color component values is usually in the range [0, 1],
      where 0 represents none of that color component, and 1 represents
      the maximum amount of that color component, in the sRGB gamut
      [<a href='#ref-SRGB'>SRGB</a>].  Since
      <a>&lt;color&gt;</a> values
      may specify colors outside of the sRGB gamut, these component
      values may lie outside the range [0, 1].
    </p>
    <p>
      Example: animating the <a>'fill property'</a>
      property on an <a>'ellipse'</a>.
    </p>
  </dd>

  <dt>Transform definitions of type <span class='attr-value'>'translate'</span></dt>
  <dd>
    <p>distance(V<sub>a</sub>, V<sub>b</sub>) = sqrt((V<sub>a</sub>.tx − V<sub>b</sub>.tx)<sup>2</sup> + (V<sub>a</sub>.ty − V<sub>b</sub>.ty)<sup>2</sup>), where:</p>
    <div class='vardefs'>
      <div>V<sub><var>i</var></sub>.tx is the <var>x</var> component of the V<sub><var>i</var></sub> translation transform value, and</div>
      <div>V<sub><var>i</var></sub>.ty is the <var>y</var> component of the V<sub><var>i</var></sub> translation transform value.</div>
    </div>
    <p>
      Example (for all transform definition types): animating the <a>'transform'</a>
      attribute on a <a>'g'</a> using <a>'animateTransform'</a>.
    </p>
  </dd>

  <dt>Transform definitions of type <span class='attr-value'>'scale'</span></dt>
  <dd>
    <p>distance(V<sub>a</sub>, V<sub>b</sub>) = sqrt((V<sub>a</sub>.sx − V<sub>b</sub>.sx)<sup>2</sup> + (V<sub>a</sub>.sy − V<sub>b</sub>.sy)<sup>2</sup>), where:</p>
    <div class='vardefs'>
      <div>V<sub><var>i</var></sub>.sx is the <var>x</var> component of the V<sub><var>i</var></sub> scale transform value, and</div>
      <div>V<sub><var>i</var></sub>.sy is the <var>y</var> component of the V<sub><var>i</var></sub> scale transform value.</div>
    </div>
    <p>
      Note that, as when specifying scale transformations in a
      <a>&lt;transform-list&gt;</a>, if the
      <var>y</var> component of the scale is omitted it is implicitly equal
      to the <var>x</var> component.
    </p>
  </dd>

  <dt>Transform definitions of type <span class='attr-value'>'rotate'</span>,
  <span class='attr-value'>'skewX'</span> and <span class='attr-value'>'skewY'</span></dt>
  <dd>
    <p>distance(V<sub>a</sub>, V<sub>b</sub>) = sqrt((V<sub>a</sub>.angle − V<sub>b</sub>.angle)<sup>2</sup>), where:</p>
    <div class='vardefs'>
      <div>
        V<sub><var>i</var></sub>.angle is the angle component of the
        V<sub><var>i</var></sub> rotation or skew transform value.
      </div>
    </div>
    <p>
      Since the distance function for rotations is not in terms of the
      rotation center point components, a paced animation that changes
      the rotation center point may not appear to have a paced
      movement when the animation is applied.
    </p>
  </dd>
</dl>

<p>Distance functions for all other data types are not defined.
If <span class='attr-value'>calcMode="paced"</span> is used on an
animation of an attribute or property whose type is not one of
those listed above, the animation effect is undefined.
<a>SVG user agents</a> may choose to
perform the animation as if <span class='attr-value'>calcMode="linear"</span>,
but this is not required.  Authors are recommended not to specify
paced animation on types not listed above.</p>


<h3 id="TimingAttributes">Attributes to control the timing of the animation</h3>

<p>The following attributes are the <dfn id='animation-timing-attributes'>animation timing attributes</dfn>.
They are common to all animation elements and control the timing of the animation,
including what causes the animation to start and end, whether the
animation runs repeatedly, and whether to retain the end state
the animation once the animation ends.</p>

<p id="optWSP">In the syntax specifications that follow, optional white
space is indicated as "S", defined as follows:</p>

<pre>
S ::= (#x20 | #x9 | #xD | #xA)*
</pre>
<p class="issue" data-issue="2">Align with whitespace used in CSS and SVG, adding #xC to S.</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="BeginAttribute">begin</dfn></td>
        <td><a href="#BeginValueListSyntax">begin-value-list</a></td>
        <td>0s</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="3">Attribute syntax needs fixing.</p>
    <p>Defines when the element should begin (i.e. become
    active).</p>
    <p>The attribute value is a semicolon separated list of
    values.</p>

    <dl>
      <dt id="BeginValueListSyntax">begin-value-list ::= <a
      href="#BeginValueSyntax">begin-value</a> (S? ";" S?
      begin-value-list )?</dt>
      <dd>A semicolon separated list of begin values. The
      interpretation of a list of begin times is detailed in
      SMIL Animation's section on <a
      href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Timing-EvaluationOfBeginEndTimeLists">
      "Evaluation of begin and end time lists"</a>.</dd>
      <dt id="BeginValueSyntax">begin-value ::= ( <a
      href="#OffsetValueSyntax">offset-value</a> | <a
      href="#SyncbaseValueSyntax">syncbase-value</a> | <a
      href="#EventValueSyntax">event-value</a> | <a
      href="#RepeatValueSyntax">repeat-value</a> | <a
      href="#AccessKeyValueSyntax">accessKey-value</a> | <a
      href="#WallclockSyncValueSyntax">wallclock-sync-value</a>
      | <a href="#IndefiniteValue">"indefinite"</a> )</dt>
      <dd>Describes the element begin.</dd>
      <dt id="OffsetValueSyntax">offset-value ::= ( S? "+" |
      "-" S? )? ( <a
      href="#ClockValueSyntax">Clock-value</a>
      )</dt>
      <dd>For SMIL Animation, this describes the element
      begin as an offset from an implicit syncbase. For SVG,
      the implicit syncbase begin is defined to be relative
      to the document begin. Negative begin times are
      entirely valid and easy to compute, as long as there is
      a resolved document begin time.</dd>
      <dt id="SyncbaseValueSyntax">syncbase-value ::= (
      Id-value "." ( "begin" | "end" ) ) ( S? ("+"|"-") S? <a
      href="#ClockValueSyntax">Clock-value</a>
      )?</dt>
      <dd>Describes a <dfn id='syncbase'>syncbase</dfn>
      and an optional offset from that syncbase. The element
      begin is defined relative to the begin or active end of
      another animation. A syncbase consists of an ID
      reference to another animation element followed by
      either <code>begin</code> or <code>end</code> to
      identify whether to synchronize with the beginning or
      active end of the referenced animation element.</dd>
      <dt id="EventValueSyntax">event-value ::= ( Id-value
      "." )? ( event-ref ) ( S? ("+"|"-") S? <a
      href="#ClockValueSyntax">Clock-value</a>
      )?</dt>
      <dd>Describes an event and an optional offset that
      determine the element begin. The animation begin is
      defined relative to the time that the event is raised.
      The list of event-symbols available for a given
      event-base element is the list of event attributes
      available for the given element as defined in the <a
      href="[SVG2]/interact.html">Scripting and Interactivity</a> chapter, with the one difference
      that the leading 'on' is removed from the event name
      (i.e., the animation event name is 'click', not
      'onclick'). A list of all events supported by SVG can
      be found in <a href="[SVG2]/interact.html#SVGEvents">Complete
      list of supported events</a>. Details of event-based
      timing are described in <a
      href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Unifying">
      SMIL Animation: Unifying Event-based and Scheduled
      Timing</a>.</dd>
      <dt id="RepeatValueSyntax">repeat-value ::= ( Id-value
      "." )? "repeat(" integer ")" ( S? ("+"|"-") S? <a
      href="#ClockValueSyntax">Clock-value</a>
      )?</dt>
      <dd>Describes a qualified repeat event. The element
      begin is defined relative to the time that the repeat
      event is raised with the specified iteration
      value.</dd>
      <dt id="AccessKeyValueSyntax">accessKey-value ::=
      "accessKey(" character ")" ( S? ("+"|"-") S? <a
      href="#ClockValueSyntax">Clock-value</a>
      )?</dt>
      <dd>Describes an accessKey that determines the element
      begin. The element begin is defined relative to the
      time that the accessKey character is input by the
      user.</dd>
      <dt id="WallclockSyncValueSyntax">wallclock-sync-value ::= "wallclock(" wallclock-value
      ")"</dt>
      <dd>Describes the element begin as a real-world clock
      time. The wallclock time syntax is based upon syntax
      defined in <cite>Representation of dates and times</cite>
      [<a href="#ref-ISO8601">ISO8601</a>].</dd>
      <dt id="IndefiniteValue">"indefinite"</dt>
      <dd><p>The begin of the animation will be determined by a
      "beginElement()" method call or a hyperlink targeted to
      the element.</p>
      <p>The animation DOM methods are described in <a
      href="#IDL">IDL</a>.</p>
      <p>Hyperlink-based timing is described in <a
      href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#HyperlinkSemantics">
      SMIL Animation: Hyperlinks and timing</a>.</p></dd>
    </dl>
    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a>
    specification.
    In particular, see <a
    href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#SpecifyingAnimationTarget">
    SMIL Animation: 'begin' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.2.1).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="DurAttribute">dur</dfn></td>
        <td><a href="#ClockValueSyntax">Clock-value</a> | "media" | "indefinite"</td>
        <td>indefinite</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="4">Attribute syntax needs fixing.</p>
    <p>Specifies the simple duration.</p>
    <p>The attribute value can be one of the following:</p>
    <dl>
      <dt><a href="#ClockValueSyntax">Clock-value</a></dt>
      <dd>Specifies the length of the simple duration in <a
      href="#PresentationTime">presentation time</a>. Value
      must be greater than 0.</dd>
      <dt>"media"</dt>
      <dd>Specifies the simple duration as the intrinsic
      media duration. This is only valid for elements that
      define media.<br />
       (For SVG's <a href="#AnimationElements">animation elements</a>, if <span
      class="attr-value">'media'</span> is specified, the
      attribute will be ignored.)</dd>
      <dt>"indefinite"</dt>
      <dd>Specifies the simple duration as indefinite.</dd>
    </dl>
    <p>If the animation does not have a <a>'dur'</a> attribute, the simple
    duration is indefinite. Note that interpolation will not
    work if the simple duration is indefinite (although this
    may still be useful for <a>'set'</a> elements). Except
    for any SVG-specific rules explicitly mentioned in this
    specification, the normative definition for this
    attribute is the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a>
    specification.
    In particular, see <a
    href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#DurAttribute">
    SMIL Animation: 'dur' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.2.1).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="EndAttribute">end</dfn></td>
        <td><a href="#EndValueListSyntax">end-value-list</a></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="5">Attribute syntax needs fixing.</p>
    <p>Defines an end value for the animation that can constrain
    the active duration. The attribute value is a semicolon
    separated list of values.</p>

    <dl>
      <dt id="EndValueListSyntax">end-value-list ::= <a
      href="#EndValueSyntax">end-value</a> (S? ";" S?
      end-value-list )?</dt>
      <dd>A semicolon separated list of end values. The
      interpretation of a list of end times is detailed
      below.</dd>
    </dl>

    <dl>
      <dt id="EndValueSyntax">end-value ::= ( <a
      href="#OffsetValueSyntax">offset-value</a> | <a
      href="#SyncbaseValueSyntax">syncbase-value</a> | <a
      href="#EventValueSyntax">event-value</a> | <a
      href="#RepeatValueSyntax">repeat-value</a> | <a
      href="#AccessKeyValueSyntax">accessKey-value</a> | <a
      href="#WallclockSyncValueSyntax">wallclock-sync-value</a>
      | "indefinite" )</dt>
      <dd>Describes the active end of the animation.</dd>
    </dl>
    <p>A value of <span class="attr-value">'indefinite'</span>
    specifies that the end of the animation will be
    determined by an <a>SVGAnimationElement::endElement</a> method call (the animation
    DOM methods are described in <a href="#IDL">IDL</a>).</p>
    <p>Except for any SVG-specific rules explicitly mentioned
    in this specification, the normative definition for this
    attribute is the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a>
    specification.
    In particular, see <a
    href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#EndActiveAttribute">
    SMIL Animation: 'end' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.2).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="MinAttribute">min</dfn></td>
        <td><a href="#ClockValueSyntax">Clock-value</a> | "media"</td>
        <td>0s</td>
        <td>no</td>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="MaxAttribute">max</dfn></td>
        <td><a href="#ClockValueSyntax">Clock-value</a> | "media"</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="6">Attribute syntax needs fixing.</p>
    <p>The <a>'min'</a> and <a>'max'</a> attributes specify the minimum and
    maximum value of the active duration, respectively.</p>
    <p>The attribute values can be either of the following:</p>
    <dl>
      <dt><a href="#ClockValueSyntax">Clock-value</a></dt>
      <dd><p>Specifies the length of the minimum or maximum value of the
      active duration, measured in local time.</p>
      <p>Value must be greater than 0.</p></dd>
      <dt>"media"</dt>
      <dd>Specifies the minimum value of the active duration
      as the intrinsic media duration. This is only valid for
      elements that define media. (For SVG's <a href="#AnimationElements">animation elements</a>,
      if <span class="attr-value">'media'</span> is specified, the
      attribute will be ignored.)</dd>
    </dl>
    <p>The initial value for <a>'min'</a> is <span class='attr-value'>'0'</span> and
    there is no initial value for <a>'max'</a>.  In both cases, this does not
    constrain the active duration at all.</p>
    <p>Except for any SVG-specific rules explicitly mentioned
    in this specification, the normative definition for these
    attributes is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#MinMax">SMIL Animation: The min and max attributes</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.3).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="RestartAttribute">restart</dfn></td>
        <td>always | whenNotActive | never</td>
        <td>always</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <dl>
      <dt><span class='attr-value'>always</span></dt>
      <dd>The animation can be restarted at any
      time.  This is the default value.</dd>
      <dt><span class='attr-value'>whenNotActive</span></dt>
      <dd>The animation can only be restarted when it is not
      active (i.e. after the active end). Attempts to restart
      the animation during its active duration are
      ignored.</dd>
      <dt><span class='attr-value'>never</span></dt>
      <dd>The element cannot be restarted for the remainder
      of the current simple duration of the parent time
      container. (In the case of SVG, since the parent time
      container is the SVG document fragment, then the
      animation cannot be restarted for the remainder of the
      document duration.)</dd>
    </dl>
    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#RestartAttribute">SMIL Animation: 'restart' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.7).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="RepeatCountAttribute">repeatCount</dfn></td>
        <td><a>&lt;number&gt;</a> | indefinite</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Specifies the number of iterations of the animation
    function. It can have the following attribute values:</p>
    <dl>
      <dt><a>&lt;number&gt;</a></dt>
      <dd>This is a (base 10) "floating point" numeric value
      that specifies the number of iterations. It can include
      partial iterations expressed as fraction values. A
      fractional value describes a portion of the <a
      href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#SpecifyingAnimationFunction">
      simple duration</a>. Values must be greater than
      0.</dd>
      <dt>indefinite</dt>
      <dd>The animation is defined to repeat indefinitely
      (i.e. until the document ends).</dd>
    </dl>
    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#RepeatCountAttribute">SMIL Animation: 'repeatCount' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.1).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="RepeatDurAttribute">repeatDur</dfn></td>
        <td><a href="#ClockValueSyntax">Clock-value</a> | "indefinite"</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="7">Attribute syntax needs fixing.</p>
    <p>Specifies the total duration for repeat. It can have the
    following attribute values:</p>
    <dl>
      <dt><a href="#ClockValueSyntax">Clock-value</a></dt>
      <dd>Specifies the duration in <a
      href="#PresentationTime">presentation time</a> to
      repeat the animation function
      <code><strong>f(t)</strong></code>.</dd>
      <dt>"indefinite"</dt>
      <dd>The animation is defined to repeat indefinitely
      (i.e. until the document ends).</dd>
    </dl>
    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#RepeatDurAttribute">SMIL Animation: 'repeatDur' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.1).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="FillAttribute">fill</dfn></td>
        <td>freeze | remove</td>
        <td>remove</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>This attribute can have the following values:</p>
    <dl>
      <dt><span class='attr-value'>freeze</span></dt>
      <dd>The animation effect <a
      href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#AnimationModel">
      F(t)</a> is defined to freeze the effect value at the
      last value of the active duration. The animation effect
      is "frozen" for the remainder of the document duration
      (or until the animation is restarted - see <a
      href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Restart">
      SMIL Animation: Restarting animation</a>).</dd>
      <dt><span class='attr-value'>remove</span></dt>
      <dd><p>The animation effect is removed (no longer applied)
      when the active duration of the animation is over.
      After the active end of the animation, the animation no
      longer affects the target (unless the animation is
      restarted - see <a
      href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Restart">
      SMIL Animation: Restarting animation</a>).</p></dd>
    </dl>
    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#FillAttribute">SMIL Animation: 'fill' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.5).</p>
  </dd>
</dl>

<p>The <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a>
specification [<a href="#ref-SMILANIM">SMILANIM</a>] defines the detailed processing
rules associated with the above attributes. Except for any SVG-specific
rules explicitly mentioned in this specification, the SMIL Animation
specification is the normative definition of the processing rules for
the above attributes.</p>

<h4 id="ClockValueSyntax">Clock values</h4>

<p>Clock values have the same syntax as in
<a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a>
specification [<a href="#ref-SMILANIM">SMILANIM</a>]. The grammar for
clock values is repeated here:</p>

<pre>
Clock-val         ::= Full-clock-val | Partial-clock-val
                      | Timecount-val
Full-clock-val    ::= Hours ":" Minutes ":" Seconds ("." Fraction)?
Partial-clock-val ::= Minutes ":" Seconds ("." Fraction)?
Timecount-val     ::= Timecount ("." Fraction)? (Metric)?
Metric            ::= "h" | "min" | "s" | "ms"
Hours             ::= DIGIT+; any positive number
Minutes           ::= 2DIGIT; range from 00 to 59
Seconds           ::= 2DIGIT; range from 00 to 59
Fraction          ::= DIGIT+
Timecount         ::= DIGIT+
2DIGIT            ::= DIGIT DIGIT
DIGIT             ::= [0-9]
</pre>

<p>For Timecount values, the default metric suffix is "s" (for
seconds). No embedded white space is allowed in clock values,
although leading and trailing white space characters will be
ignored.</p>

<p>Clock values describe <a href="#PresentationTime">presentation time</a>.</p>

<div class="example">
<p>The following are examples of legal clock values:</p>

<ul>
  <li>Full clock values:&nbsp;<code><br />
   &nbsp; 02:30:03&nbsp;&nbsp;&nbsp;</code> = 2 hours, 30 minutes and 3 seconds<br />
   <code>&nbsp; 50:00:10.25</code> = 50 hours, 10 seconds and 250 milliseconds</li>

  <li>Partial clock value:&nbsp;<code><br />
   &nbsp; 02:33&nbsp;&nbsp;</code> = 2 minutes and 33 seconds<br />
   <code>&nbsp; 00:10.5</code> = 10.5 seconds = 10 seconds and 500 milliseconds</li>

  <li>Timecount values:<br />
   <code>&nbsp; 3.2h&nbsp;&nbsp;&nbsp;</code> = 3.2 hours = 3 hours and 12 minutes<br />
   <code>&nbsp; 45min&nbsp;&nbsp;</code> = 45 minutes<br />
   <code>&nbsp; 30s&nbsp;&nbsp;&nbsp;&nbsp;</code> = 30 seconds<br />
   <code>&nbsp; 5ms&nbsp;&nbsp;&nbsp;&nbsp;</code> = 5 milliseconds<br />
   <code>&nbsp; 12.467&nbsp;</code> = 12 seconds and 467 milliseconds</li>
</ul>

<p>Fractional values are just (base 10) floating point definitions of seconds.
Thus:</p>

<p><code>&nbsp; 00.5s&nbsp;&nbsp;&nbsp;&nbsp;</code> = 500 milliseconds<br />
<code>&nbsp; 00:00.005</code> = 5 milliseconds</p>
</div>

<h3 id="ValueAttributes">Attributes that define animation values over time</h3>

<p>The following attributes are the <dfn id='animation-value-attributes'>animation value attributes</dfn>.
They are common to elements <edit:elementswithattributecategory name='animation value'/>. These
attributes define the values that are assigned to the target
attribute or property over time. The attributes below provide
control over the relative timing of keyframes and the
interpolation method between discrete values.</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="CalcModeAttribute">calcMode</dfn></td>
        <td>discrete | linear | paced | spline</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Specifies the interpolation mode for the animation. This
    can take any of the following values. The default mode is
    <span class='attr-value'>'linear'</span>, however if the attribute does not support
    linear interpolation (e.g. for strings), the
    <a>'calcMode'</a> attribute is ignored and discrete
    interpolation is used.</p>
    <dl>
      <dt><span class='attr-value'>discrete</span></dt>
      <dd>This specifies that the animation function will
      jump from one value to the next without any
      interpolation.</dd>
      <dt><span class='attr-value'>linear</span></dt>
      <dd>Simple linear interpolation between values is used
      to calculate the animation function. Except for <a>'animateMotion'</a>, this
      is the default <a>'calcMode'</a>.</dd>
      <dt><span class='attr-value'>paced</span></dt>
      <dd>
      Defines interpolation to produce an even pace of
      change across the animation. This is only supported for the
      data types for which there is an appropriate distance function
      defined, which includes only scalar numeric types plus the
      types listed in <a href="#complexDistances">Paced animation and complex types</a>.
      If <span class='attr-value'>'paced'</span> is specified, any
      <a>'keyTimes'</a> or <a>'keySplines'</a> will
      be ignored. For <a>'animateMotion'</a>, this
      is the default <a>'calcMode'</a>.
      Authors are discouraged from using paced animation on types
      that do not have a distance function defined, due to its
      unpredictable behavior in some user agents.</dd>
      <dt><span class='attr-value'>spline</span></dt>
      <dd>Interpolates from one value in the
      <a>'values'</a> list to the next according to a
      time function defined by a cubic Bézier spline.
      The points of the spline are defined in the
      <a>'keyTimes'</a> attribute, and the control points
      for each interval are defined in the
      <a>'keySplines'</a> attribute.</dd>
    </dl>
    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#CalcModeAttribute">SMIL Animation: 'calcMode' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.2.3).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="ValuesAttribute">values</dfn></td>
        <td>(see below)</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <div class='ready-for-wider-review'>
    <p>The <a>'values'</a> attribute specifies a sequence of values to use over
    the course of the animation.</p>
    <p>The attribute is parsed as follows:</p>
    <ol>
      <li>Let <var>attribute</var> be the value of the <a>'values'</a>
      attribute.</li>
      <li>Let <var>values</var> be a list of strings formed by splitting
      <var>attribute</var> at each U+003B SEMICOLON character.</li>
      <li>Strip any leading and trailing <a>white space characters</a>
      from each value of <var>values</var>.</li>
      <li>Remove the final value in <var>values</var> if it is the empty string.</li>
      <li>Parse each value in <var>values</var> using the rules for parsing
      the attribute identified by the <a>'href'</a>, and
      <a>'attributeName'</a> attributes.</li>
    </ol>
    </div>

    <p>Except for
    any SVG-specific rules explicitly mentioned in this
    specification, the normative definition for this attribute
    is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#ValuesAttribute">SMIL Animation: 'values' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.2.2).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="KeyTimesAttribute">keyTimes</dfn></td>
        <td><a>&lt;number&gt;</a> [; <a>&lt;number&gt;</a>]* ;?</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>A semicolon-separated list of time values used to control
    the pacing of the animation. Each time in the list
    corresponds to a value in the <a>'values'</a>
    attribute list, and defines when the value is used in the
    animation function.</p>

    <p>Each time value in the
    <a>'keyTimes'</a> list is specified as a floating
    point value between 0 and 1 (inclusive), representing a
    proportional offset into the simple duration of the
    animation element.</p>

    <p>If the last semicolon separator is followed by either just white space
    or no more characters, ignore both the separator and the trailing
    white space.</p>

    <p>For animations specified with a <a>'values'</a> list, the
    <a>'keyTimes'</a> attribute if specified must have exactly as many
    values as there are in the <a>'values'</a> attribute. For from/to/by
    animations, the <a>'keyTimes'</a> attribute if specified must have
    two values.</p>

    <p>Each successive time value must be greater than or equal
    to the preceding time value.</p>

    <p>The <a>'keyTimes'</a> list semantics depends upon
    the interpolation mode:</p>
    <ul>
      <li>For linear and spline animation,&nbsp;the first
      time value in the list must be 0, and the last time
      value in the list must be 1. The key time
      associated with each value defines when the value is
      set; values are interpolated between the key times.</li>
      <li>For discrete animation, the first time value in the
      list must be 0. The time associated with each value
      defines when the value is set; the animation function
      uses that value until the next time defined in
      <a>'keyTimes'</a>.</li>
    </ul>
    <p>If the interpolation mode is <span class='attr-value'>'paced'</span>, the
    <a>'keyTimes'</a> attribute is ignored.</p>

    <p>If there are any errors in the <a>'keyTimes'</a>
    specification (bad values, too many or too few values),
    the document fragment is in error (see <a
    href="[SVG2]/implnote.html#ErrorProcessing">error
    processing</a>).</p>

    <p>If the simple duration is indefinite, any
    <a>'keyTimes'</a> specification will be
    ignored.</p>

    <p>
      Because paced animation interpolation is unspecified for some
      value types, authors are encouraged to use
      <span class="attr-value">'linear'</span> animation interpolation with
      calculated <a>'keyTimes'</a>
      to achieve particular interpolation behavior for these types.
    </p>

    <p>Except for any SVG-specific rules explicitly mentioned
    in this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#KeyTimesAttribute">SMIL Animation: 'keyTimes' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.2.3).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="KeySplinesAttribute">keySplines</dfn></td>
        <td><a>&lt;control-point&gt;</a> [; <a>&lt;control-point&gt;</a>]* ;?</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>where:</p>
    <p class="definition"><dfn id="DataTypeControlPoint">&lt;control-point&gt;</dfn> =
    <a>&lt;number&gt;</a> ,? <a>&lt;number&gt;</a> ,? <a>&lt;number&gt;</a> ,? <a>&lt;number&gt;</a></p>
    <p>A set of Bézier control points associated with
    the <a>'keyTimes'</a> list, defining a cubic
    Bézier function that controls interval pacing. The
    attribute value is a semicolon-separated list of control
    point descriptions.</p>

    <p>If the last semicolon separator is followed by either just white space
    or no more characters, ignore both the separator and the trailing
    white space.</p>

    <p>Each control point description is a set
    of four values: <code>x1 y1 x2 y2</code>, describing the
    Bézier control points for one time segment. Note:
    <a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/smil-animation.html#adef-keySplines">SMIL</a>
    allows these values to be separated either by commas with
    optional whitespace, or by whitespace alone.  The
    <a>'keyTimes'</a> values that define the associated
    segment are the Bézier "anchor points", and the
    <a>'keySplines'</a> values are the control points.
    Thus, there must be one fewer sets of control points than
    there are <a>'keyTimes'</a>.</p>

    <p>The values must all be in the range 0 to 1.</p>

    <p>This attribute is ignored unless the <a>'calcMode'</a>
    is set to <span class='attr-value'>'spline'</span>.</p>

    <p>If there are any errors in the <a>'keySplines'</a>
    specification (bad values, too many or too few values), the
    document fragment is in error (see <a
    href="[SVG2]/implnote.html#ErrorProcessing">error
    processing</a>).</p>

    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#KeySplinesAttribute">SMIL Animation: 'keySplines' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.2.3).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="FromAttribute">from</dfn>,
            <dfn id="ToAttribute">to</dfn>,
            <dfn id="ByAttribute">by</dfn></td>
        <td>(see below)</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>The <a>'from'</a> and <a>'to'</a> attributes specify the starting
    and ending value of the animation, while the <a>'by'</a> attribute
    specifies a relative offset value for the animation.</p>

    <div class='ready-for-wider-review'>
    <p>All three attributes must be parsed using the rules for parsing
    the attribute identified by the <a>'href'</a> and
    <a>'attributeName'</a> attributes.</p>

    <p class="note">For example, if <a>'href'</a> identified a
    <a>'circle'</a> element and <a>'attributeName'</a> is
    <span class='attr-value'>'stroke-width'</span>, then the
    <a>'from'</a>, <a>'to'</a> or <a>'by'</a> attribute is parsed
    as a [<a>&lt;percentage&gt;</a> | <a>&lt;length&gt;</a>].</p>
    </div>

    <p>Except for any SVG-specific rules explicitly mentioned in
    this specification, the normative definition for these
    attributes is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#FromAttribute">SMIL Animation: Animation function values</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.2.2).</p>
  </dd>
</dl>

<p>The <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification [<a href="#ref-SMILANIM">SMILANIM</a>]
defines the detailed processing
rules associated with the above attributes. Except for any
SVG-specific rules explicitly mentioned in this
specification, the SMIL Animation specification is the normative definition of
the processing rules for the above attributes.</p>

<p>The animation values specified in the animation element
must be legal values for the specified attribute. Leading and
trailing white space, and white space before and after
semicolon separators, will be ignored.</p>

<p>All values specified must be legal values for the
specified attribute (as defined in the associated namespace).
If any values are not legal, the document fragment is in
error (see <a href="[SVG2]/implnote.html#ErrorProcessing">error
processing</a>).</p>

<p>If a list of values is used, the animation will apply the
values in order over the course of the animation. If a list
of <a>'values'</a> is specified, any <a>'from'</a>,
<a>'to'</a> and <a>'by'</a> attribute values are ignored.</p>

<p>The processing rules for the variants of
<em>from/by/to</em> animations are described in <a
href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#AnimFuncValues">
Animation function values</a> with the following exception.</p>

<p>In order to provide behavior that is intuitive and consistent
between discrete animations with an explicitly specified
<a>'from'</a> attribute (e.g. "from-to animation") and those
where the underlying value is used (e.g. "to animation"), the
behavior of discrete to-animation in SVG deviates from the
definition in SMIL Animation.
As with a discrete from-to animation, a discrete to animation
will set the underlying value for the first half of the simple
duration (or, if a <a>'keyTimes'</a> list is provided, until the
simple duration specified by the second value in the <a>'keyTimes'</a>
list) and the <a>'to'</a> value for the remainder of the simple
duration.</p>

<p>The following figure illustrates the interpretation of the
<a>'keySplines'</a> attribute. Each diagram illustrates
the effect of <a>'keySplines'</a> settings for a single
interval (i.e. between the associated pairs of values in the
<a>'keyTimes'</a> and <a>'values'</a> lists.). The
horizontal axis can be thought of as the input value for the
<em>unit progress</em> of interpolation within the interval -
i.e. the pace with which interpolation proceeds along the
given interval. The vertical axis is the resulting value for
the <em>unit progress</em>, yielded by the function that
the <a>'keySplines'</a> attribute defines.
 Another way of describing
this is that the horizontal axis is the input <em>unit
time</em> for the interval, and the vertical axis is the
output <em>unit time</em>. See also the section <a
href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#TimingAndRealWorldClockTime">
Timing and real-world clock times</a>.</p>

<div class="example">
<table  style="border-collapse:separate; border-spacing: 20px;">
  <caption>
    Examples of <span class="attr-name">keySplines</span>
  </caption>
  <tr>
    <td><img class="bordered" width="250" height="250"
    alt="Example keySplines01 - keySplines of 0 0 1 1 (the default)"
     src="images/keySplines01.svg" /> <span
    class="table-heading-1">keySplines="0&nbsp;0&nbsp;1&nbsp;1"
    (the default)</span></td>
    <td><img class="bordered" width="250" height="250"
    alt="Example keySplines01 - keySplines of .5 0 .5 1"
    src="images/keySplines02.svg" /> <span
    class="table-heading-1">keySplines=".5&nbsp;0&nbsp;.5&nbsp;1"</span></td>
  </tr>
  <tr>
    <td><img class="bordered" width="250" height="250"
    alt="Example keySplines01 - keySplines of 0 .75 .25 1"
    src="images/keySplines03.svg" /> <span
    class="table-heading-1">keySplines="0&nbsp;.75&nbsp;.25&nbsp;1"</span></td>
    <td><img class="bordered" width="250" height="250"
    alt="Example keySplines01 - keySplines of 1 0 .25 .25"
    src="images/keySplines04.svg" /><span
    class="table-heading-1">keySplines="1&nbsp;0&nbsp;.25&nbsp;.25"</span></td>
  </tr>
</table>

<p>To illustrate the calculations, consider the simple example:</p>

<pre>
&lt;animate dur="4s" values="10; 20" keyTimes="0; 1"
     calcMode="spline" <strong>keySplines</strong>=<em>{as in table}</em> /&gt;
</pre>

<p>Using the <a>'keySplines'</a> values for each of the four cases
above, the approximate interpolated values as the animation
proceeds are:</p>

<table class="data">
  <caption>keySplines values</caption>
  <thead>
    <tr>
      <th>Value of <span class='attr-name'>'keySplines'</span></th>
      <th>Initial value</th>
      <th>After 1s</th>
      <th>After 2s</th>
      <th>After 3s</th>
      <th>Final value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0 0 1 1</th>
      <td>10.0</td>
      <td>12.5</td>
      <td>15.0</td>
      <td>17.5</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>.5 0 .5 1</th>
      <td>10.0</td>
      <td>11.0</td>
      <td>15.0</td>
      <td>19.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>0 .75 .25 1</th>
      <td>10.0</td>
      <td>18.0</td>
      <td>19.3</td>
      <td>19.8</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>1 0 .25 .25</th>
      <td>10.0</td>
      <td>10.1</td>
      <td>10.6</td>
      <td>16.9</td>
      <td>20.0</td>
    </tr>
  </tbody>
</table>
</div>

<p>For a formal definition of Bézier spline
calculation, see [<a
href="#ref-FOLEY-VANDAM">FOLEY-VANDAM</a>], pp. 488-491.</p>

<h3 id="AdditionAttributes">Attributes that control whether animations are additive</h3>

<p>It is frequently useful to define animation as an offset or
delta to an attribute's value, rather than as absolute values.</p>

<div class="example">
<p>A simple "grow" animation can increase the width of an object
by 10 pixels:</p>

<pre><![CDATA[
<rect width="20px" ...>
  <animate attributeName="width" from="0px" to="10px" dur="10s"
           additive="sum"/>
</rect>
]]></pre>
</div>

<p>It is frequently useful for repeated animations to build
upon the previous results, accumulating with each iteration.</p>

<div class="example">
<p>
The following example causes the rectangle to continue to grow
with each repeat of the animation:</p>

<pre><![CDATA[
<rect width="20px" ...>
  <animate attributeName="width" from="0px" to="10px" dur="10s"
           additive="sum" accumulate="sum" repeatCount="5"/>
</rect>
]]></pre>

<p>At the end of the first repetition, the rectangle has a
width of 30 pixels. At the end of the second repetition, the
rectangle has a width of 40 pixels. At the end of the fifth
repetition, the rectangle has a width of 70 pixels.</p>
</div>

<p>For more information about additive animations, see <a
href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#AdditiveAnim">
SMIL Animation: Additive animation</a>. For more information on
cumulative animations, see <a
href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Accumulate">
SMIL Animation: Controlling behavior of repeating animation -
Cumulative animation</a>.</p>

<p>The following attributes are the <dfn id='animation-addition-attributes'>animation addition attributes</dfn>,
which are common to elements <edit:elementswithattributecategory name='animation addition'/>.</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="AdditiveAttribute">additive</dfn></td>
        <td>replace | sum</td>
        <td>replace</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Controls whether or not the animation is additive.</p>
    <dl>
      <dt><span class='attr-value'>replace</span></dt>
      <dd>Specifies that the animation will override the
      underlying value of the attribute and other lower
      priority animations. This is the default, however the
      behavior is also affected by the animation value
      attributes <a>'by'</a> and <a>'to'</a>, as described in <a
      href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#FromToByAndAdditive">
      SMIL Animation: How from, to and by attributes affect
      additive behavior</a>.</dd>
      <dt><span class='attr-value'>sum</span></dt>
      <dd>Specifies that the animation will add to the
      underlying value of the attribute and other lower
      priority animations.</dd>
    </dl>
    <p>Except for any SVG-specific rules explicitly mentioned
    in this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#AdditiveAttribute">SMIL Animation: 'additive' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.6).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="AccumulateAttribute">accumulate</dfn></td>
        <td>none | sum</td>
        <td>none</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Controls whether or not the animation is
    cumulative.</p>

    <dl>
      <dt><span class='attr-value'>none</span></dt>
      <dd>Specifies that repeat iterations are not
      cumulative. This is the default.</dd>
      <dt><span class='attr-value'>sum</span></dt>
      <dd>Specifies that each repeat iteration after the
      first builds upon the last value of the previous
      iteration.</dd>
    </dl>

    <p>This attribute is ignored if the target attribute value
    does not support addition, or if the animation element
    does not repeat.</p>

    <p>Cumulative animation is not defined for "<em>to
    animation</em>".</p>

    <p>This attribute will be ignored if the animation function
    is specified with only the <a>'to'</a>
    attribute.</p>

    <p>Except for any SVG-specific rules explicitly mentioned
    in this specification, the normative definition for this
    attribute is the
    <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
    In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#AccumulateAttribute">SMIL Animation: 'accumulate' attribute</a>
    ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.1).</p>
  </dd>
</dl>

</edit:with>

<h3 id="Inheritance">Inheritance</h3>

<p>SVG allows both attributes and properties to be animated. If
a given attribute or property is inheritable by descendants,
then animations on a parent element such as a <a>'g'</a> element has the effect of
propagating the attribute or property animation values to
descendant elements as the animation proceeds; thus, descendant
elements can inherit animated attributes and properties from
their ancestors.</p>

<h3 id="AnimateElement">The <span class="element-name">'animate'</span> element</h3>

<edit:with element='animate'>

<p>The <a>'animate'</a> element is
used to animate a single attribute or property over time.</p>
<div class="example">
<p>This example makes a rectangle repeatedly fade away over 5 seconds:</p>

<pre><![CDATA[
<rect>
  <animate attributeName="opacity"
         from="1" to="0" dur="5s" repeatCount="indefinite" />
</rect>
]]></pre>
</div>

<p>Except for any SVG-specific rules explicitly mentioned in this
specification, the normative definition for this element is the
<a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#animateElement">SMIL Animation: 'animate' element</a>
([<a href="#ref-SMILANIM">SMILANIM</a>], section 4.1).</p>

<edit:elementsummary name='animate'/>

<p>The <a>'color-interpolation'</a> property applies to color interpolations
that result from animations using the <a>'animate'</a> element.</p>

<p>For a list of attributes and properties that can be animated
using the <a>'animate'</a> element, see
<a href="#AnimationAttributesAndProperties">Elements,
attributes and properties that can be animated</a>.</p>

</edit:with>

<h3 id="SetElement">The <span class="element-name">'set'</span> element</h3>

<edit:with element='set'>

<p>The <a>'set'</a> element provides
a simple means of just setting the value of an attribute for a
specified duration. It supports all attribute types, including
those that cannot reasonably be interpolated, such as string
and boolean values. The <a>'set'</a>
element is non-additive. The additive and accumulate attributes
are not allowed, and will be ignored if specified.</p>

<p>Except for any SVG-specific rules explicitly mentioned in this
specification, the normative definition for this element is the
<a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#setElement">SMIL Animation: 'set' element</a>
([<a href="#ref-SMILANIM">SMILANIM</a>], section 4.2).</p>

<edit:elementsummary name='set'/>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="set" id="SetElementToAttribute">to</dfn></td>
        <td>&lt;value&gt;</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    Specifies the value for the attribute during the
    duration of the <a>'set'</a>
    element. The argument value must match the attribute
    type.
  </dd>
</dl>

<p>For a list of attributes and properties that can be animated
using the <a>'set'</a> element, see
<a href="#AnimationAttributesAndProperties">Elements,
attributes and properties that can be animated</a>.</p>

</edit:with>

<h3 id="DiscardElement">The <span class='element-name'>'discard'</span> element</h3>

<edit:with element='discard'>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Have the <a>'discard'</a> element to declaratively discard elements from the document tree.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2012/03/29-svg-minutes.html">SVG 2 will support the discard element.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>To conserve memory while displaying long-running documents.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Cyril (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3319">ACTION-3319</a>)</td>
    </tr>
  </table>
</div>

<edit:elementsummary name='discard'/>

<p>
  The <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element allows authors to specify the time at which particular elements are to
  be discarded, thereby reducing the resources required by an <a>SVG user
  agent</a>.
  This is particularly useful to help SVG viewers conserve memory while
  displaying long-running documents.  This element will not be processed by
  static SVG viewers.
</p>
<p>
  The <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element may occur wherever the
  <a href="https://svgwg.org/specs/animations/#AnimateElement"><span class="element-name">'animate'</span></a>
  element may.
</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="DiscardElementHrefAttribute">href</dfn></td>
        <td>URL <a href="[SVG2]/types.html#attribute-url" class="syntax">[URL]</a></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>
      An <a>URL reference</a>
      that identifies the <a href="https://svgwg.org/specs/animations/#TargetElement">target element</a>
      to discard.
      See the definition of <a href="https://svgwg.org/specs/animations/#HrefAttribute"><span
      class="attr-name">'href'</span></a> on <a>animation elements</a> for
      details on identifying a target element.
      Note, however, that unlike other <a>animation elements</a>, the
      <a>'discard'</a> element does not support the deprecated
      <a>'xlink:href'</a> attribute.
    </p>
    <p>
      Note that if the target element is not part of the
      <a>current SVG document fragment</a>
      then whether the target element will be removed or not is defined by the
      host language.
    </p>
    <p>
      If the <a>'href'</a> attribute is not provided, then the target element
      will be the immediate parent element of the discard element.
    </p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="DiscardElementBeginAttribute">begin</dfn></td>
        <td><a href="https://svgwg.org/specs/animations/#BeginValueListSyntax">&lt;begin-value-list&gt;</a></td>
        <td>0s</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="19">Attribute syntax needs fixing.</p>
    <p>
      Indicates when the target element will be discarded.  See the definition
      of <a href="https://svgwg.org/specs/animations/#BeginAttribute"><span class="attr-name">'begin'</span></a>
      on <a>animation elements</a> for details.
    </p>
  </dd>
</dl>

<p>
  The <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element has an implicit
  <a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/smil-timing.html#Timing-DefiningSimpleDur">simple duration</a>
  of <span class="attr-value">"indefinite"</span>.  As soon as the element's
  <a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/smil-timing.html#Timing-ComputingActiveDur">active duration</a>
  starts, the <a>SVG user agent</a>
  discards the element identified by the
  <a href="#DiscardElementHrefAttribute"><span class="attr-name">'href'</span></a>
  attribute ([<a href="#ref-SMIL">SMIL</a>], section 5.4.5).
  The removal operation acts as if
  <a href="http://www.w3.org/TR/2012/WD-dom-20120405/#dom-node-removechild"><code>removeChild</code></a>
  were called on the parent of the target element with the target element as
  parameter. [<a href="#ref-DOM4">DOM4</a>] The <a>SVG user agent</a>
  must remove the target node as well as all of its attributes and descendants.
</p>
<p>
  After removal of the <a href="https://svgwg.org/specs/animations/#TargetElement">target element</a>,
  the <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element is no longer useful. It must also be discarded following the
  target element removal. If the
  <a href="#DiscardElementHrefAttribute"><span class="attr-name">'href'</span></a>
  attribute has an <a>invalid</a> URL reference
  (the target element did not exist, for example),
  the <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element itself must still be removed following activation.
</p>
<p>
  <a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/smil-timing.html#Timing-HyperlinksAndTiming">Seeking backwards</a>
  in the timeline ([<a href="#ref-SMIL">SMIL</a>], section 5.4.5)
  must not re-insert the discarded elements. Discarded elements are intended to
  be completely removed from memory. So, authors are encouraged to set the
  <a href="#SVGElementPlaybackorderAttribute"><span class="attr-name">'playbackorder'</span></a>
  attribute to <span class="attr-value">"forwardonly"</span> when using the
  <a href="#DiscardElement"><span class="element-name">'discard'</span></a> element.
</p>
<p>
  The <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element itself can be discarded prior to its activation, in which case it will
  never trigger the removal of its own target element.
  <a>SVG user agents</a>
  must allow the <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element to be the target of another
  <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element.
</p>

<p>
  The following example demonstrates a simple usage of the
  <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element. The list below describes relevant behavior in the document timeline
  of this example:
</p>

<dl>
  <dt>At time = 0:</dt>
  <dd>When the document timeline starts, the blue ellipse starts to move down the page.</dd>
  <dt>At time = 1 second:</dt>
  <dd>The red rectangle starts moving up the page.</dd>
  <dt>At time = 2 seconds:</dt>
  <dd>
    The <a href="https://svgwg.org/specs/animations/#AnimateTransformElement"><span class="element-name">'animateTransform'</span></a>
    on the <a href="[SVG2]/shapes.html#EllipseElement"><span class="element-name">'ellipse'</span></a>
    ends. The <a href="[SVG2]/shapes.html#EllipseElement"><span class="element-name">'ellipse'</span></a>
    and its children are also discarded, as it is the
    <a href="https://svgwg.org/specs/animations/#TargetElement">target element</a> of a
    <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
    with <span class="attr-value">begin="2"</span>. The green
    <a href="[SVG2]/shapes.html#PolygonElement"><span class="element-name">'polygon'</span></a>
    starts to move across the page.
  </dd>
  <dt>At time = 3 seconds:</dt>
  <dd>
    The animation on the red rectangle ends. The rectangle and its children are
    discarded as it is the target of a
    <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
    element with <span class="attr-value">begin="3"</span>.
  </dd>
  <dt>At time = 4 seconds:</dt>
  <dd>
    The animation on the green triangle ends. The green
    <a href="[SVG2]/shapes.html#PolygonElement"><span class="element-name">'polygon'</span></a>
    and its children are discarded as it is the target of a
    <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
    element with <span class="attr-value">begin="4".</span>
  </dd>
</dl>

<edit:example href='examples/discard01.svg' name='discard01' link='yes' image='no'/>

</edit:with>

<h3 id="AnimateMotionElement">The <span class="element-name">'animateMotion'</span> element</h3>

<edit:with element='animateMotion'>

<p>The <a>'animateMotion'</a> element causes a referenced element to
move along a motion path.</p>

<p>Except for any SVG-specific rules explicitly mentioned in this
specification, the normative definition for this element is the
<a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/"><cite>SMIL Animation</cite></a> specification.
In particular, see <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#animateMotionElement">SMIL Animation: 'animateMotion' element</a>
([<a href="#ref-SMILANIM">SMILANIM</a>], section 4.3).</p>

<edit:elementsummary name='animateMotion'/>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animateMotion" id="AnimateMotionElementCalcModeAttribute">calcMode</dfn></td>
        <td>discrete | linear | paced | spline</td>
        <td>paced</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Specifies the interpolation mode for the animation.
    Refer to general description of the <a>'animate/calcMode'</a> attribute above. The
    only difference is that the default value for the <a>'calcMode'</a>
    for <a>'animateMotion'</a> is <span class="attr-value">'paced'</span>. See <a
    href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#MotionCalcModeAttribute">
    SMIL Animation: 'calcMode' attribute for
    'animateMotion'</a>.</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animateMotion" id="AnimateMotionElementPathAttribute">path</dfn></td>
        <td><a href="[SVG2]/paths.html#PathDataBNF">svg-path</a> <a href="[SVG2]/types.html#syntax" class="syntax">[EBNF]</a></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>The motion path, expressed in the same format and
    interpreted the same way as the <a>'d'</a> geometric property for the
    <a>'path element'</a> element. The effect
    of a motion path animation is to add a supplemental
    transformation matrix onto the <a>CTM</a> for the referenced
    object which causes a translation along the x- and y-axes
    of the current user coordinate system by the computed X and
    Y values computed over time.</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="KeyPointsAttribute">keyPoints</dfn></td>
        <td><a>&lt;number&gt;</a> [; <a>&lt;number&gt;</a>]* ;?</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p><a>'keyPoints'</a> takes a
    semicolon-separated list of floating point values between 0
    and 1 and indicates how far along the motion path the
    object shall move at the moment in time specified by
    corresponding <a>'keyTimes'</a>
    value. Distance calculations use the user agent's <a
    href="[SVG2]/paths.html#DistanceAlongAPath">distance along the
    path</a> algorithm. Each progress value in the list
    corresponds to a value in the <a>'keyTimes'</a>
    attribute list.</p>
    <p>If a list of <a>'keyPoints'</a> is specified, there
    must be exactly as many values in the
    <a>'keyPoints'</a> list as in the <a>'keyTimes'</a>
    list.</p>
    <p>If the last semicolon separator is followed by either just white space
    or no more characters, ignore both the separator and the trailing
    white space.</p>
    <p>If there are any errors in the <a>'keyPoints'</a>
    specification (bad values, too many or too few values),
    then the document is in error (see <a
    href="[SVG2]/implnote.html#ErrorProcessing">Error
    processing</a>).</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="RotateAttribute">rotate</dfn></td>
        <td><a>&lt;number&gt;</a> | auto | auto-reverse</td>
        <td>0</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
     <p>The <a>'rotate'</a> attribute post-multiplies a supplemental
     transformation matrix onto the <a>CTM</a> of the target element to apply a
     rotation transformation about the origin of the current user
     coordinate system. The rotation transformation is applied after the
     supplemental translation transformation that is computed due to the
     <a>'path attribute'</a> attribute.</p>

     <dl>
       <dt><span class="attr-value">auto</span></dt>
       <dd>Indicates that the object is rotated over time by the angle of
       the direction (i.e., directional tangent vector) of the motion path.</dd>

       <dt><span class="attr-value">auto-reverse</span></dt>
       <dd>Indicates that the object is rotated over time by the angle of the
       direction (i.e., directional tangent vector) of the motion path plus
       180 degrees.</dd>

       <dt><span class='attr-value'><a>&lt;number&gt;</a></span></dt>
       <dd>Indicates that the target element has a constant rotation
       transformation applied to it, where the rotation angle is the
       specified number of degrees.</dd>
    </dl>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animate" id="OriginAttribute">origin</dfn></td>
        <td>default</td>
        <td>default</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>The <a>'origin'</a> attribute is <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#MotionOriginAttribute">defined in the SMIL Animation
    specification</a> ([<a href="#ref-SMILANIM">SMILANIM</a>], section 4.3).
    It has no effect in SVG.</p>
  </dd>
</dl>

<div id='MPathElement'>
<edit:elementsummary name='mpath'/>
</div>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="mpath" id="MPathElementHrefAttribute">href</dfn></td>
        <td>URL <a href="[SVG2]/types.html#attribute-url" class="syntax">[URL]</a></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>A <a>URL reference</a> to the <a>'path element'</a> element
    or <a>shape</a> element which defines the motion path.
    Refer to the common handling defined for <a
    href="[SVG2]/linking.html#linkRefAttrs">URL reference attributes</a> and
    <a href="[SVG2]/linking.html#XLinkRefAttrs">deprecated XLink attributes</a>.</p>
  </dd>
</dl>

    <p>For <a>'animateMotion'</a>, the specified values for <a>'from'</a>,
    <a>'by'</a>, <a>'to'</a> and <a>'values'</a> consists of x, y coordinate
    pairs, with a single comma and/or white space separating the x coordinate
    from the y coordinate. For example, <span class="attr-value">from="33,15"</span>
    specifies an x coordinate value of <span class="attr-value">33</span> and
    a y coordinate value of <span class="attr-value">15</span>.</p>

    <p>If provided, the <a>'values'</a> attribute must consists of a list of
    x, y coordinate pairs. Coordinate values are separated by at least one
    white space character or a comma.  Additional white space around the
    separator is allowed. For example, <span class="attr-value">values="10,20;30,20;30,40"</span>
    or <span class="attr-value">values="10mm,20mm;30mm,20mm;30mm,40mm"</span>.
    Each coordinate represents a <a>&lt;length&gt;</a>.
    Attributes <a>'from'</a>, <a>'by'</a>, <a>'to'</a> and <a>'values'</a>
    specify a shape on the current canvas which represents the motion path.</p>

    <p>Two options are available which allow definition of a motion
    path using any of SVG's <a href="[SVG2]/paths.html#PathData">path
    data</a> commands:</p>
    <ul>
      <li>the <a>'path attribute'</a> attribute defines a motion path directly on
      <a>'animateMotion'</a> element using any of SVG's
      <a href="[SVG2]/paths.html#PathData">path data</a> commands.</li>

      <li>the <a>'mpath'</a> sub-element provides the ability to reference an
      external <a>'path element'</a> element or <a>shape</a> element as the
      definition of the motion path.
      If the <a>'mpath'</a> sub-element refers to a <a>shape</a> element,
      the motion path is defined by the <a>equivalent path</a> of the
      <a>shape</a> element.
      </li>
    </ul>
    <p>Note that SVG's <a href="[SVG2]/paths.html#PathData">path data</a>
    commands can only contain values in local coordinate system, whereas <a>'from'</a>,
    <a>'by'</a>, <a>'to'</a> and <a>'values'</a> can specify coordinates in
    local coordinate system or using unit identifiers. See <a href="[SVG2]/coords.html#Units">Units</a>.</p>

    <p>The various (x,y) points of the shape provide a supplemental
    transformation matrix onto the <a>CTM</a> for the referenced object
    which causes a translation along the x- and y-axes of the current
    user coordinate system by the (x,y) values of the shape computed
    over time. Thus, the referenced object is translated over time
    by the offset of the motion path relative to the origin of the
    current user coordinate system. The supplemental transformation is
    applied on top of any transformations due to the target element's
    <a>'transform'</a> property or any animations on that attribute due
    to <a>'animateTransform'</a> elements on the target element.</p>

    <p>The <a>'additive'</a> and <a>'accumulate'</a> attributes apply
    to <a>'animateMotion'</a> elements. Multiple <a>'animateMotion'</a>
    elements all simultaneously referencing the same target element can
    be additive with respect to each other; however, the transformations
    which result from the <a>'animateMotion'</a> elements are always
    supplemental to any transformations due to the target element's
    <a>'transform'</a> property or any <a>'animateTransform'</a>
    elements.</p>

    <p>The default calculation mode (<a>'calcMode'</a>) for
    <a>'animateMotion'</a> is "paced". This will produce constant
    velocity motion along the specified path. Note that while
    animateMotion elements can be additive, it is important to observe
    that the addition of two or more "paced" (constant velocity)
    animations might not result in a combined motion animation with
    constant velocity.</p>

    <p>When a path is combined with "discrete", "linear"
    or "spline" <a>'calcMode'</a> settings, and if attribute
    <a>'keyPoints'</a> is not provided, the number of values is
    defined to be the number of points defined by the path, unless
    there are "move to" commands within the path. A "move to" command
    within the path (i.e. other than at the beginning of
    the path description) A "move to" command does not
    count as an additional point when dividing up the duration, or
    when associating <a>'keyTimes'</a>, <a>'keySplines'</a>
    and <a>'keyPoints'</a> values. When a path is
    combined with a "paced" <a>'calcMode'</a> setting, all "move to"
    commands are considered to have 0 length (i.e. they always happen
    instantaneously), and is not considered in computing the pacing.</p>

    <p>For more flexibility in controlling the velocity along the
    motion path, the <a>'keyPoints'</a> attribute provides the
    ability to specify the progress along the motion path for
    each of the <a>'keyTimes'</a> specified values. If specified,
    <a>'keyPoints'</a> causes <a>'keyTimes'</a> to apply to the values
    in <a>'keyPoints'</a> rather than the points specified in the
    <a>'values'</a> attribute array or the points on the <a>'path attribute'</a>
    attribute.</p>

    <p>The override rules for <a>'animateMotion'</a> are as follows.
    Regarding the definition of the motion path, the <a>'mpath'</a> element
    overrides the <a>'path attribute'</a> attribute, which overrides <a>'values'</a>,
    which overrides <a>'from'</a>, <a>'by'</a> and <a>'to'</a>. Regarding
    determining the points which correspond to the <a>'keyTimes'</a>
    attributes, the <a>'keyPoints'</a> attribute overrides <a>'path attribute'</a>,
    which overrides <a>'values'</a>, which overrides <a>'from'</a>, <a>'by'</a>
    and <a>'to'</a>.</p>

    <p>At any time <em>t</em> within a motion path animation of
    duration <em>dur</em>, the computed coordinate (x,y) along the
    motion path is determined by finding the point (x,y) which is
    <em>t/dur</em> distance along the motion path using the user
    agent's <a href="[SVG2]/paths.html#DistanceAlongAPath">distance along
    the path</a> algorithm.</p>

    <div class="example">
    <p>The following example demonstrates the supplemental
    transformation matrices that are computed during a motion path
    animation.</p>

    <p id="ExampleAnimMotion01"><span class="example-ref">Example animMotion01</span> shows
    a triangle moving along a motion path.</p>
<pre><![CDATA[
<?xml version="1.0" standalone="no"?>
<svg width="5cm" height="3cm"  viewBox="0 0 500 300"
     xmlns="http://www.w3.org/2000/svg">
  <desc>Example animMotion01 - demonstrate motion animation computations</desc>
  <rect x="1" y="1" width="498" height="298"
        fill="none" stroke="blue" stroke-width="2" />
  <!-- Draw the outline of the motion path in blue, along
          with three small circles at the start, middle and end. -->
  <path id="path1" d="M100,250 C 100,50 400,50 400,250"
        fill="none" stroke="blue" stroke-width="7.06"  />
  <circle cx="100" cy="250" r="17.64" fill="blue"  />
  <circle cx="250" cy="100" r="17.64" fill="blue"  />
  <circle cx="400" cy="250" r="17.64" fill="blue"  />
  <!-- Here is a triangle which will be moved about the motion path.
       It is defined with an upright orientation with the base of
       the triangle centered horizontally just above the origin. -->
  <path d="M-25,-12.5 L25,-12.5 L 0,-87.5 z"
        fill="yellow" stroke="red" stroke-width="7.06"  >
    <!-- Define the motion path animation -->
    <animateMotion dur="6s" repeatCount="indefinite" rotate="auto" >
       <mpath href="#path1"/>
    </animateMotion>
  </path>
</svg>
]]></pre>
    <table >
      <caption>
        Example animMotion01
      </caption>
      <tr>
        <td><img width="144" height="91"
        alt="Example animMotion01 - at zero seconds"
        src="images/animMotion01a.png" /><br/><span
        class="table-heading-1">At zero seconds</span></td>
        <td><img width="144" height="91"
        alt="Example animMotion01 - at three seconds"
        src="images/animMotion01b.png" /> <br/><span
        class="table-heading-1">At three seconds</span></td>
        <td><img width="144" height="91"
        alt="Example animMotion01 - at six seconds"
        src="images/animMotion01c.png" /> <br/><span
        class="table-heading-1">At six seconds</span></td>
      </tr>
    </table>
    <p class="view-as-svg"><a
    href="images/animMotion01.svg">View this example as SVG
    (SVG-enabled browsers only)</a></p>
    <p>The following table shows the supplemental transformation
    matrices that are applied to achieve the effect of the motion
    path animation.</p>
    <table class="data">
      <caption>Example animMotion01 time slices</caption>
      <thead>
        <tr>
          <th></th>
          <th>After 0s</th>
          <th>After 3s</th>
          <th>After 6s</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Supplemental transform
           due to movement
           along motion path</td>
          <td>translate(100,250)</td>
          <td>translate(250,100)</td>
          <td>translate(400,250)</td>
        </tr>
        <tr>
          <td>Supplemental transform
           due to
           <span class="attr-value">rotate="auto"</span></td>
          <td>rotate(-90)</td>
          <td>rotate(0)</td>
          <td>rotate(90)</td>
        </tr>
      </tbody>
    </table>
  </div>
<p>For a list of elements that can be animated using the <a>'animateMotion'</a>
element, see <a href="#AnimationAttributesAndProperties">Elements,
attributes and properties that can be animated</a>.</p>

</edit:with>

<h3 id="AnimateTransformElement">The <span class="element-name">'animateTransform'</span> element</h3>

<edit:with element='animateTransform'>

<p>The <a>'animateTransform'</a> element animates a transformation attribute
on a target element, thereby allowing animations to control translation,
scaling, rotation and/or skewing.</p>

<p class="issue" data-issue="8">This section should talk about the <a>'transform'</a> property.</p>

<edit:elementsummary name='animateTransform'/>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="animateTransform" id="AnimateTransformElementTypeAttribute">type</dfn></td>
        <td>translate | scale | rotate | skewX | skewY</td>
        <td>translate</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Indicates the type of transformation which is to have its values
    change over time.</p>
  </dd>
</dl>

<p>The <a>'from'</a>, <a>'by'</a> and <a>'to'</a> attributes take a value
expressed using the same syntax that is available for the given transformation
type:</p>

<ul>
  <li>For a <span class="attr-value">type="translate"</span>, each individual
  value is expressed as <span class="attr-value">&lt;tx&gt; [,&lt;ty&gt;]</span>.</li>

  <li>For a <span class="attr-value">type="scale"</span>, each individual
  value is expressed as <span class="attr-value">&lt;sx&gt; [,&lt;sy&gt;]</span>.</li>

  <li>For a <span class="attr-value">type="rotate"</span>, each individual
  value is expressed as <span class="attr-value">&lt;rotate-angle&gt; [&lt;cx&gt; &lt;cy&gt;]</span>.</li>

  <li>For a <span class="attr-value">type="skewX"</span> and
  <span class="attr-value">type="skewY"</span>, each individual value is
  expressed as <span class="attr-value">&lt;skew-angle&gt;</span>.</li>
</ul>

<p>(See <a href="[SVG2]/coords.html#TransformProperty">The <span class="property">'transform'</span> property</a>.)</p>

<p>The <a>'values'</a> attribute for the <a>'animateTransform'</a> element
consists of a semicolon-separated list of values, where each individual value
is expressed as described above for <a>'from'</a>, <a>'by'</a> and <a>'to'</a>.</p>

<p>The animation effect for <a>'animateTransform'</a> is post-multiplied to the
underlying value for additive <a>'animateTransform'</a> animations (see below)
instead of added to the underlying value, due to the specific behavior of
<a>'animateTransform'</a>.</p>

<p><em>From-to</em>, <em>from-by</em> and <em>by animations</em> are defined
in SMIL to be equivalent to a corresponding <em>values animation</em>.  See
the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#AnimFuncValues">Animation function values</a>
section of SMIL Animation ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.2.2).
However, <em>to animations</em> are a mixture of additive and non-additive
behavior, as described in the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#FromToByAndAdditive">How
from, to and by attributes affect additive behavior</a> section of SMIL
Animation ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.6).
<em>To animations</em> provide specific functionality to get a smooth
change from the underlying value to the <a>'to'</a> attribute value, which
conflicts mathematically with the requirement for additive transform
animations to be post-multiplied.  As a consequence, in SVG 1.1 the behavior of
<em>to animations</em> for <a>'animateTransform'</a> is undefined.  Authors
are suggested to use <em>from-to</em>, <em>from-by</em>, <em>by</em> or
<em>values animations</em> to achieve any desired transform animation.</p>

<p>If <a href="#CalcModeAttribute"><span class="attr-name">'calcMode'</span></a>
has the value <span class="attr-value">'paced'</span>, then the "distance" for the transformation is
calculated as further described in
<a href="#complexDistances">Paced animations and complex types</a>.</p>

<p>When an animation is active, the effect of non-additive
<a>'animateTransform'</a> (i.e., <span class="attr-value">additive="replace"</span>)
is to replace the given attribute's value with the transformation defined by
the <a>'animateTransform'</a>. The effect of additive (i.e.,
<span class="attr-value">additive="sum"</span>) is to post-multiply the
transformation matrix corresponding to the transformation defined by this
<a>'animateTransform'</a>.</p>

<div class="example">
<p>To illustrate:</p>

<pre><![CDATA[
<rect transform="skewX(30)"...>
  <animateTransform attributeName="transform"
                    type="rotate" from="0" to="90" dur="5s"
                    additive="replace" fill="freeze"/>
  <animateTransform attributeName="transform"
                    type="scale" from="1" to="2" dur="5s"
                    additive="replace" fill="freeze"/>
</rect>
]]></pre>

<p>In the code snippet above, because the both animations have
<span class="attr-value">additive="replace"</span>, the first
animation overrides the transformation on the rectangle itself
and the second animation overrides the transformation from the
first animation; therefore, at time 5 seconds, the visual
result of the above two animations would be equivalent to the
following static rectangle:</p>

<pre><![CDATA[
<rect transform="scale(2)" ... />
]]></pre>
</div>

<!--<p>whereas in the following example:</p>-->

<div class="example">
<pre><![CDATA[
<rect transform="skewX(30)"...>
  <animateTransform attributeName="transform"
                    type="rotate" from="0" to="90" dur="5s"
                    additive="sum" fill="freeze"/>
  <animateTransform attributeName="transform"
                    type="scale" from="1" to="2" dur="5s"
                    additive="sum" fill="freeze"/>
</rect>
]]></pre>

<p>In this code snippet, because the both animations have
<span class="attr-value">additive="sum"</span>, the first animation
post-multiplies its transformation to any transformations on
the rectangle itself and the second animation post-multiplies
its transformation to any transformation from the first
animation; therefore, at time 5 seconds, the visual result of
the above two animations would be equivalent to the following
static rectangle:</p>

<pre><![CDATA[
<rect transform="skewX(30) rotate(90) scale(2)" ... />
]]></pre>
</div>

<div class="note">
<p>The zero value used when performing a <em>by animation</em>
with <span class='attr-value'>type="scale"</span> is indeed 0.
Thus, performing the following animation causes the rectangle to be
invisible at time 0s (since the animated transform list value is
<span class='attr-value'>'scale(0)'</span>), and be scaled back
to its original size at time 5s (since the animated transform list value is
<span class='attr-value'>'scale(1)'</span>):</p>

<pre><![CDATA[
<rect width="100" height="100">
  <animateTransform attributeName="transform"
                    type="scale" by="1" dur="5s" fill="freeze"/>
</rect>
]]></pre>
</div>

<p>When a transform animation has <span class='attr-value'>accumulate='sum'</span>,
the accumulation that occurs for each completed repetition of the animation
is computed on the values specified in the <a>'animateTransform'</a> element's
<a href="#ValueAttributes">animation value attributes</a> (i.e.,
<a>'values'</a>, <a>'from'</a>, <a>'to'</a> and <a>'by'</a>) and not on the
transformation matrix that these values represent.</p>

<div class="example">
<p>For example, in the following
code snippet, 3 is added to the scale value at the start of each repetition:</p>

<pre><![CDATA[
<rect width="100" height="100">
  <animateTransform attributeName="transform"
                    type="scale" from="2" to="3" repeatCount="3" dur="4s"
                    fill="freeze"/>
</rect>
]]></pre>

<p>The following graph and table shows the animated <a>'transform'</a> value on
the <a>'rect'</a> over the course of the animation:</p>

<table class="graph indented">
  <tr>
    <td><img src="images/cumulative-transform-graph-1.png" width="430" height="320" alt="The scale value animates from 2 to 12 with discontinuities at 4s and 8s."/></td>
    <td>
      <table class="data compact">
        <thead>
          <tr><th>Time</th><th>Value</th></tr>
        </thead>
        <tbody>
          <tr><td>0s</td><td  >scale(2)</td></tr>
          <tr><td>1s</td><td>scale(2.25)</td></tr>
          <tr><td>2s</td><td>scale(2.5)</td></tr>
          <tr><td>3s</td><td>scale(2.75)</td></tr>
          <tr><td>4s</td><td>scale(5)</td></tr>
          <tr><td>5s</td><td>scale(5.25)</td></tr>
          <tr><td>6s</td><td>scale(5.5)</td></tr>
          <tr><td>7s</td><td>scale(5.75)</td></tr>
          <tr><td>8s</td><td>scale(8)</td></tr>
          <tr><td>9s</td><td>scale(8.25)</td></tr>
          <tr><td>10s</td><td>scale(8.5)</td></tr>
          <tr><td>11s</td><td>scale(8.75)</td></tr>
          <tr><td>12s</td><td>scale(9)</td></tr>
        </tbody>
      </table>
    </td>
  </tr>
</table>
</div>

<p>Transform item types that can have multiple values – <span class='attr-value'>'translate'</span>,
<span class='attr-value'>'scale'</span> and <span class='attr-value'>'rotate'</span> – are
treated as vectors and accumulation is performed with vector addition.  Optional values that
are omitted are taken to have their usual implied value: <span class='attr-value'>1</span> for
the <span class='attr-value'>&lt;sy&gt;</span> component of a <span class='attr-value'>'scale'</span>
and <span class='attr-value'>0</span> for the <span class='attr-value'>&lt;tx&gt;</span> component
of a <span class='attr-value'>'translate'</span> and the <span class='attr-value'>&lt;cx cy&gt;</span>
components of a <span class='attr-value'>'rotate'</span>.</p>

<div class="example">
<p>For example, consider the following code snippet, which has a cumulative transform
animation of type <span class='attr-value'>'rotate'</span>:</p>

<pre><![CDATA[
<rect width="100" height="100">
  <animateTransform attributeName="transform"
                    type="rotate" from="0 30 40" to="10 30 40"
                    repeatCount="2" dur="1s" fill="freeze"/>
</rect>
]]></pre>

<p>At time 1 second, the animated value of <a>'transform'</a> on the <a>'rect'</a>
will jump from <span class='attr-value'>'rotate(10 30 40)'</span> to <span class='attr-value'>'rotate(10 60 80)'</span>,
because the effect of the accumulation is to take the value at the end of the first repetition,
<span class='attr-value'>'10 30 40'</span>, and add to it the value at simple duration <var>t</var> = 0s, which
is <span class='attr-value'>'0 30 40'</span>.</p>
</div>

<p>For a list of attributes and properties that can be animated using the
<a>'animateTransform'</a> element, see
<a href="#AnimationAttributesAndProperties">Elements, attributes and properties that can be animated</a>.</p>

</edit:with>

<h3 id="AnimationAttributesAndProperties">Elements, attributes and properties that can be animated</h3>

<p>The following lists all of the elements which can be animated by an
<a>'animateMotion'</a> element:</p>

<ul>
  <li><a>'svg'</a></li>
  <li><a>'g'</a></li>
  <li><a>'defs'</a></li>
  <li><a>'use'</a></li>
  <li><a>'image'</a></li>
  <li><a>'switch'</a></li>
  <li><a>'path'</a></li>
  <li><a>'rect'</a></li>
  <li><a>'circle'</a></li>
  <li><a>'ellipse'</a></li>
  <li><a>'line'</a></li>
  <li><a>'polyline'</a></li>
  <li><a>'polygon'</a></li>
  <li><a>'text'</a></li>
  <li><a>'clipPath'</a></li>
  <li><a>'mask element'</a></li>
  <li><a>'a'</a></li>
  <li><a>'foreignObject'</a></li>
</ul>

<p id="Animatable">Each attribute or property within this specification
indicates whether or not it can be animated by SVG's animation
elements. Animatable attributes and properties are designated
as follows:</p>

<p class='indented'><span class="anim-target">Animatable: yes.</span></p>

<p>whereas attributes and properties that cannot be animated are designated:</p>

<p class='indented'><span class="anim-target">Animatable: no.</span></p>

<p>Some properties are defined as being animatable but only for non-additive animations:</p>

<p class='indented'><span class="anim-target">Animatable: yes (non-additive).</span></p>

<p>SVG has a number of different data types used
for its various supported attributes and properties. For those
attributes and properties that can be animated, the following
table indicates which animation elements can be used to animate
each of the basic data types. If a given attribute or property
can take values of keywords (which are not additive) or numeric
values (which are additive), then additive animations are
possible if the subsequent animation uses a numeric value even
if the base animation uses a keyword value; however, if the
subsequent animation uses a keyword value, additive animation
is not possible.</p>

<table class="data">
  <caption>Animatable data types</caption>
  <thead>
    <tr>
      <th>Data type</th>
      <th>Additive?</th>
      <th><a>'animate'</a></th>
      <th><a>'set'</a></th>
      <th><a>'animateTransform'</a></th>
      <!--
      <th><a href="#AnimateColorElement"><span class="element-name">‘animate<br /> Color’</span></a></th>
      <th><a href="#AnimateTransformElement"><span class="element-name">‘animate<br /> Transform’</span></a></th>
      -->
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th><a>&lt;angle&gt;</a></th>
      <td>yes</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th><a>&lt;color&gt;</a></th>
      <td>yes</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>Only additive if each value can be converted to an RGB color.</td>
    </tr>
    <tr>
      <th><a>&lt;frequency&gt;</a></th>
      <td>no</td>
      <td>no</td>
      <td>no</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th><a>&lt;integer&gt;</a></th>
      <td>yes</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th><a>&lt;length&gt;</a></th>
      <td>yes</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th><a>&lt;number&gt;</a></th>
      <td>yes</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th><a>&lt;paint&gt;</a></th>
      <td>yes</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>Only additive if each value can be converted to an RGB color.</td>
    </tr>
    <tr>
      <th><a>&lt;percentage&gt;</a></th>
      <td>yes</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th><a>&lt;time&gt;</a></th>
      <td>no</td>
      <td>no</td>
      <td>no</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th>URL</th>
      <td>no</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th>All other data types used in animatable attributes and
      properties</th>
      <td>no</td>
      <td>yes</td>
      <td>yes</td>
      <td>no</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>Any deviation from the above table or other special note
about the animation capabilities of a particular attribute or
property is included in the section of the specification where
the given attribute or property is defined.</p>

<h3 id="implicit-aria-semantics">Implicit ARIA Semantics</h3>

<a>Animation elements</a> have no default implied ARIA semantics.
Furthermore, no role may be applied to <a>animation elements</a>.

<h2 id="DOMAnimationExample">Animation using the SVG DOM</h2>

<div class="example">
<p><span class="example-ref">Example dom01</span> shows a simple animation
using the DOM.</p>

<pre><![CDATA[
<?xml version="1.0" standalone="no"?>
<svg width="4cm" height="2cm" viewBox="0 0 400 200"
     xmlns="http://www.w3.org/2000/svg"
     onload="StartAnimation(evt)">
  <script type="application/ecmascript">]]>&lt;![CDATA[<![CDATA[
    var timevalue = 0;
    var timer_increment = 50;
    var max_time = 5000;
    var text_element;
    function StartAnimation(evt) {
      text_element = evt.target.ownerDocument.getElementById("TextElement");
      ShowAndGrowElement();
    }
    function ShowAndGrowElement() {
      timevalue = timevalue + timer_increment;
      if (timevalue > max_time)
        return;
      // Scale the text string gradually until it is 20 times larger
      scalefactor = (timevalue * 20.) / max_time;
      text_element.setAttribute("transform", "scale(" + scalefactor + ")");
      // Make the string more opaque
      opacityfactor = timevalue / max_time;
      text_element.setAttribute("opacity", opacityfactor);
      // Call ShowAndGrowElement again <timer_increment> milliseconds later.
      setTimeout("ShowAndGrowElement()", timer_increment)
    }
    window.ShowAndGrowElement = ShowAndGrowElement
  ]]>]]&gt;<![CDATA[</script>
  <rect x="1" y="1" width="398" height="198"
        fill="none" stroke="blue" stroke-width="2"/>
  <g transform="translate(50,150)" fill="red" font-size="7">
    <text id="TextElement">SVG</text>
  </g>
</svg>
]]></pre>

<div class="figure">
<table >
  <caption>
    Example dom01
  </caption>
  <tr>
    <td><img width="151" height="76"
    alt="Example dom01 - at zero seconds"
    src="images/dom01a.png" /> <br/>
    At zero seconds</td>
    <td><img width="151" height="76"
    alt="Example dom01 - at three seconds"
    src="images/dom01b.png" /> <br/>
    At 2.5 seconds</td>
    <td><img width="151" height="76"
    alt="Example dom01 - at six seconds"
    src="images/dom01c.png" /> <br/>
    At five seconds</td>
  </tr>
</table>
</div>

<p class="view-as-svg"><a href="images/dom01.svg">View
this example as SVG (SVG-enabled browsers only)</a></p>

<p>The above SVG file contains a single graphics element, a
text string that says "SVG". The animation loops for 5 seconds.
The text string starts out small and transparent and grows to
be large and opaque. Here is an explanation of how this example
works:</p>

<ul>
  <li>The <span class='attr-value'>onload="StartAnimation(evt)"</span> attribute
  indicates that, once the document has been fully loaded and
  processed, invoke ECMAScript function
  <code>StartAnimation</code>.</li>

  <li>The <a>'script'</a> element defines the ECMAScript which makes
  the animation happen. The <code>StartAnimation()</code>
  function is only called once to give a value to global
  variable <code>text_element</code> and to make the initial
  call to <code>ShowAndGrowElement()</code>.
  <code>ShowAndGrowElement()</code> is called every 50
  milliseconds and resets the <a>'transform'</a> and
  <a>'style attribute'</a> attributes on the text element to new
  values each time it is called. At the end of
  <code>ShowAndGrowElement</code>, the function tells the
  ECMAScript engine to call itself again after 50 more
  milliseconds.</li>

  <li>The <a>'g'</a> element shifts the coordinate system so that the
  origin is shifted toward the lower-left of the viewing area.
  It also defines the fill color and font-size to use when
  drawing the text string.</li>

  <li>The <a>'text'</a> element contains the text string and is the
  element whose attributes get changed during the
  animation.</li>
</ul>
</div>

<p>If scripts are modifying the same attributes or properties
that are being animated by SVG's
<a href="#AnimationElements">animation elements</a>,
the scripts modify the base value for the animation. If a base
value is modified while an animation element is animating the
corresponding attribute or property, the animations are
required to adjust dynamically to the new base value.</p>

<p>If a script is modifying a property on the override style
sheet at the same time that an <a>animation element</a> is
animating that property, the result is
implementation-dependent; thus, it is recommended that this be
avoided.</p>

<h2 id="extensions">Extensions to SVG 2</h2>

This specification extends the definitions in SVG 2 [[SVG2]] in the following ways.

<h3 id="SVGElement">Extensions to the <span class='element-name'>'svg'</span> element</h3>

<edit:with element='svg'>

<div class="annotation svg2-requirement">
 <table>
  <tr>
   <th>SVG 2 Requirement:</th>
   <td>Should support the playbackorder attribute to inform UA to not display controls to seek backwards.</td>
 </tr>
 <tr>
   <th>Resolution:</th>
   <td><a href="http://www.w3.org/2012/03/29-svg-irc#T20-39-02">Support the playbackorder attribute.</a></td>
 </tr>
 <tr>
   <th>Purpose:</th>
   <td>To inform UA to not display controls to seek backwards.</td>
 </tr>
 <tr>
   <th>Owner:</th>
   <td>Cyril</td>
 </tr>
</table>
</div>

<div class="annotation svg2-requirement">
  <table>
   <tr>
    <th>SVG 2 Requirement:</th>
    <td>Support a means for having SMIL animations start before their time container has fully loaded.</td>
  </tr>
  <tr>
    <th>Resolution:</th>
    <td><a href="http://www.w3.org/2012/03/29-svg-irc#T20-23-57">Timeline control.</a></td>
  </tr>
  <tr>
    <th>Purpose:</th>
    <td>To start animations before the SVG document is fully loaded (useful for large SVG documents).</td>
  </tr>
  <tr>
    <th>Owner:</th>
    <td>Cyril</td>
  </tr>
 </table>
</div>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="SVGElementPlaybackorderAttribute">playbackorder</dfn></td>
        <td>forwardonly | all</td>
        <td>all</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>
      Indicates whether it is possible to seek backwards in the document. In
      earlier versions of SVG there was no need to put restrictions on the
      direction of seeking but with the newly introduced facilities for
      long-running documents (e.g. the <a>'discard'</a> element) there is
      sometimes a need to restrict this.
    </p>
    <p>
      If <span class="attr-name">'playbackorder'</span> is set to
      <span class="attr-value">'forwardonly'</span>, the content will likely
      contain <a>'discard'</a>
      elements or scripts that destroy resources, thus seeking back in the
      document fragment's timeline may result in missing content.
      If <span class="attr-name">'playbackorder'</span> is
      <span class="attr-value">'forwardonly'</span>, the content should not
      provide a way, through hyperlinking or script, of seeking backwards in
      the timeline.  Similarly the UA should disable any controls it may
      provide in the user interface for seeking backwards. Content with
      <span class="attr-value">playbackorder="forwardonly"</span>
      that provides a mechanism for seeking backwards in time may result in
      undefined behavior or a document that is in error.
    </p>
    <p class="issue" data-issue="20">Can't we define this so that there is no undefined
      behavior?
    </p>
    <p>Attribute values have the following meanings:</p>
    <dl>
      <dt><span class="attr-value">'forwardonly'</span></dt>
      <dd>This file is intended to be played only in the forward direction, sequentially, therefore
        seeking backwards should not be allowed.</dd>
      <dt><span class="attr-value">'all'</span></dt>
      <dd>Indicates that the document is authored appropriately for seeking in both directions.</dd>
    </dl>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="SVGElementTimelinebeginAttribute">timelinebegin</dfn></td>
        <td>loadend | loadbegin</td>
        <td>loadend</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>
      Controls the initialization of the timeline for the <a>SVG document
      fragment</a>.
    </p>
    <p>
      The <a>outermost svg element</a> of an <a>SVG document fragment</a>
      defines a <em>timeline</em>.
      Absolute times used by <a>animation elements</a> in an <a>SVG document
      fragment</a> are relative to the document fragment's <em>timeline</em>.
    </p>
    <p>
      By default, the <em>timeline</em> is initialized when the document
      fragment's <a href="[SVG2]/interact.html#LoadEvent"><code>load</code></a>
      event is fired but for progressively loaded animations, the author may set
      this attribute to <span class="attr-value">'loadend'</span>, thus allowing
      the timeline to begin as the document loads, rather than waiting until the
      complete document is loaded.
    </p>
    <p>Attribute values have the following meanings:</p>
    <dl>
      <dt><span class="attr-value">'loadend'</span></dt>
      <dd>
        The document fragment's timeline starts the moment the
        <a href="[SVG2]/interact.html#LoadEvent"><code>load</code></a> event for
        the <a>outermost svg element</a> is triggered.
      </dd>
      <dt><span class="attr-value">'loadbegin'</span></dt>
      <dd>
        The document's timeline starts at the moment the
        <a>outermost svg element</a>'s <em>start-tag</em> (as defined in
        <a href="http://www.w3.org/TR/2006/REC-xml-20060816/#sec-starttags">XML
        1.0</a> [<a href="#ref-XML10">XML10</a>] or <a
        href="http://www.w3.org/TR/html5/syntax.html#syntax-start-tag">HTML</a>
        [<a href="#ref-HTML">HTML</a>] when using the HTML parser) is
        fully parsed.
      </dd>
    </dl>
  </dd>
</dl>

</edit:with>

<h3 id="ConditionalProcessing">Extensions to conditional processing elements</h3>

If the conditional statement on the <a>'requiredExtensions'</a> and
<a>'systemLanguage'</a> attributes on <a>animation elements</a> fails, the
animation will never be triggered.

<h2 id="IDL">IDL</h2>

<p>Below are the DOM interfaces for the elements defined in this chapter.
In addition, <a>TimeEvent</a>, which is
from <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/">SMIL Animation</a>,
is included here for easy reference.</p>

<h3 id="InterfaceTimeEvent">Interface TimeEvent</h3>

<p>The <a>TimeEvent</a>
interface, defined in <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#DOMSupport">SMIL Animation: Supported interfaces</a>, provides specific
contextual information associated with Time events.</p>

<p>The different types of events that can occur are:</p>

<dl>
  <dt><strong>beginEvent</strong></dt>
  <dd>This event is raised when the element local timeline begins
  to play. It will be raised each time the element begins the
  active duration (i.e. when it restarts, but not when it
  repeats). It may be raised both in the course of normal
  (i.e. scheduled or interactive) timeline play, as well as
  in the case that the element was begun with the
  <a>SVGAnimationElement::beginElement</a> or
  <a>SVGAnimationElement::beginElementAt</a> methods. Note that if an
  element is restarted while it is currently playing, the
  element will raise an end event and another begin event, as
  the element restarts.

    <ul>
      <li>Bubbles: No</li>
      <li>Cancelable: No</li>
      <li>Context Info: None</li>
    </ul>
  </dd>
  <dt><strong>endEvent</strong></dt>
  <dd>This event is raised at the active end of the element. Note
  that this event is not raised at the simple end of each
  repeat. This event may be raised both in the course of
  normal (i.e. scheduled or interactive) timeline play, as
  well as in the case that the element was ended with the
  <a>SVGAnimationElement::endElement</a> or <a>SVGAnimationElement::endElementAt</a>
  methods. Note that if an element is restarted while it is
  currently playing, the element will raise an end event and
  another begin event, as the element restarts.

    <ul>
      <li>Bubbles: No</li>
      <li>Cancelable: No</li>
      <li>Context Info: None</li>
    </ul>
  </dd>
  <dt><strong>repeatEvent</strong></dt>
  <dd>This event is raised when an element local timeline
  repeats. It will be raised each time the element repeats,
  after the first iteration.<br/>
  The event provides a numerical indication of which repeat
  iteration is beginning. The value is a 0-based integer, but
  the repeat event is not raised for the first iteration and
  so the observed values of the detail attribute will be
  >= 1.

    <ul>
      <li>Bubbles: No</li>
      <li>Cancelable: No</li>
      <li>Context Info: detail (current iteration)</li>
    </ul>
  </dd>
</dl>

<pre class="idl">[Exposed=Window]
interface <b>TimeEvent</b> : <a>Event</a> {

  readonly attribute <a>WindowProxy</a>? <a href="#__svg__TimeEvent__view">view</a>;
  readonly attribute long <a href="#__svg__TimeEvent__detail">detail</a>;

  undefined <a href="#__svg__TimeEvent__initTimeEvent">initTimeEvent</a>(DOMString typeArg, <a>Window</a>? viewArg, long detailArg);
};</pre>

<dl class="interface">
  <dt class="attributes-header">Attributes:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__TimeEvent__view" class="attribute first-child"><b>view</b><span class="idl-type-parenthetical"> (readonly <a>WindowProxy</a>?)</span></dt>
      <dd class="attribute">
        <div>The <a>TimeEvent::view</a> attribute identifies the <a>Window</a>
        from which the event was generated.</div>
      </dd>
      <dt id="__svg__TimeEvent__detail" class="attribute"><b>detail</b><span class="idl-type-parenthetical"> (readonly long)</span></dt>
      <dd class="attribute">
        <div>Specifies some detail information about the Event, depending on the type
        of the event. For this event type, indicates the repeat number for the
        animation.</div>
      </dd>
    </dl>
  </dd>
  <dt class="operations-header">Operations:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__TimeEvent__initTimeEvent" class="operation first-child">undefined <b>initTimeEvent</b>(DOMString <var>typeArg</var>, <a>Window</a>? <var>viewArg</var>, long <var>detailArg</var>)</dt>
      <dd class="operation">
        <div>The <a>TimeEvent::initTimeEvent</a> method is used to initialize the value of a
        <a>TimeEvent</a> created with <code>document.createEvent()</code>. This
        method may only be called before the <a>TimeEvent</a> has been dispatched
        via the dispatchEvent method, though it may be called multiple times
        during that phase if necessary. If called multiple times, the final
        invocation takes precedence.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>DOMString <var>typeArg</var></div>
                <div>Specifies the event type.</div>
              </li>
              <li class="parameter">
                <div><a>Window</a>? <var>viewArg</var></div>
                <div>Specifies the Event's <a>Window</a>.</div>
              </li>
              <li class="parameter">
                <div>long <var>detailArg</var></div>
                <div>Specifies the Event's detail.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
    </dl>
  </dd>
</dl>

<h3 id="InterfaceSVGAnimationElement">Interface SVGAnimationElement</h3>

<p>The <a>SVGAnimationElement</a> interface is the base interface for all
of the animation element interfaces: <a>SVGAnimateElement</a>,
<a>SVGSetElement</a>,
<a>SVGAnimateMotionElement</a> and <a>SVGAnimateTransformElement</a>.</p>

<p>Unlike other SVG DOM interfaces, the SVG DOM does not specify
convenience DOM properties corresponding to the various language
attributes on SVG's animation elements. Specification of these
convenience properties in a way that will be compatible with future
versions of SMIL Animation is expected in a future version of SVG. The
current method for accessing and modifying the attributes on the
animation elements is to use the standard <code>getAttribute</code>,
<code>setAttribute</code>, <code>getAttributeNS</code> and
<code>setAttributeNS</code> defined in
<a href="http://www.w3.org/TR/dom/">DOM4</a>
[<a href="#ref-DOM4">DOM4</a>].</p>

<p>SMIL Animation supports several methods for controlling the behavior of
animation: <code>beginElement()</code>, <code>beginElementAt()</code>,
<code>endElement()</code> and <code>endElementAt()</code>. These methods
are used to begin and end the active duration of an element. Authors can
(but are not required to) declare the timing to respond to the DOM using
the following syntax:</p>

<pre>&lt;animate begin="indefinite" end="indefinite" .../></pre>

<p>If a DOM method call is made to begin or end the element (using
<code>beginElement()</code>, <code>beginElementAt()</code>,
<code>endElement()</code> or <code>endElementAt()</code>), each method call
creates a single instance time (in the appropriate instance times list).
These times are then interpreted as part of the semantics of lists of
times, as described in
<a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Timing-EvaluationOfBeginEndTimeLists">Evaluation of begin and end time lists</a>.</p>

<ul>
  <li>The instance time associated with a <code>beginElement()</code> or
  <code>endElement()</code> call is the current presentation time at the
  time of the DOM method call.</li>
  <li>The instance time associated with a <code>beginElementAt()</code> or
  <code>endElementAt()</code> call is the current presentation time at the
  time of the DOM method call, plus or minus the specified offset.</li>
  <li>Note that <code>beginElement()</code> is subject to the <a>'animate/restart'</a>
  attribute in the same manner that event-based begin timing is.  Refer
  also to <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Restart">SMIL Animation: Restarting animation</a>
  ([<a href="#ref-SMILANIM">SMILANIM</a>], section 3.3.7).</li>
</ul>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimationElement</b> : <a>SVGElement</a> {

  readonly attribute <a>SVGElement</a>? <a href="#__svg__SVGAnimationElement__targetElement">targetElement</a>;

  attribute <a>EventHandler</a> <a href="#__svg__SVGAnimationElement__onbegin">onbegin</a>;
  attribute <a>EventHandler</a> <a href="#__svg__SVGAnimationElement__onend">onend</a>;
  attribute <a>EventHandler</a> <a href="#__svg__SVGAnimationElement__onrepeat">onrepeat</a>;

  float <a href="#__svg__SVGAnimationElement__getStartTime">getStartTime</a>();
  float <a href="#__svg__SVGAnimationElement__getCurrentTime">getCurrentTime</a>();
  float <a href="#__svg__SVGAnimationElement__getSimpleDuration">getSimpleDuration</a>();

  undefined <a href="#__svg__SVGAnimationElement__beginElement">beginElement</a>();
  undefined <a href="#__svg__SVGAnimationElement__beginElementAt">beginElementAt</a>(float offset);
  undefined <a href="#__svg__SVGAnimationElement__endElement">endElement</a>();
  undefined <a href="#__svg__SVGAnimationElement__endElementAt">endElementAt</a>(float offset);
};

<a>SVGAnimationElement</a> includes <a>SVGTests</a>;</pre>

<dl class="interface">
  <dt class="attributes-header">Attributes:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGAnimationElement__targetElement" class="attribute first-child"><b>targetElement</b><span class="idl-type-parenthetical"> (readonly <a>SVGElement</a>?)</span></dt>
      <dd class="attribute">
        <div>The element which is being animated. If no target element is being animated (for example, because the URL in 'animate/href' does not match a valid element) the value returned is null.</div>
      </dd>
      <dt id="__svg__SVGAnimationElement__onbegin" class="attribute"><b>onbegin</b><span class="idl-type-parenthetical"> (<a>EventHandler</a>)</span></dt>
      <dd class="attribute">
        <div>The event handler for the <a class="event-name" href="[SVG2]/interact.html#BeginEvent">beginEvent</a>.</div>
      </dd>
      <dt id="__svg__SVGAnimationElement__onend" class="attribute"><b>onend</b><span class="idl-type-parenthetical"> (<a>EventHandler</a>)</span></dt>
      <dd class="attribute">
        <div>The event handler for the <a class="event-name" href="[SVG2]/interact.html#EndEvent">endEvent</a>.</div>
      </dd>
      <dt id="__svg__SVGAnimationElement__onrepeat" class="attribute"><b>onrepeat</b><span class="idl-type-parenthetical"> (<a>EventHandler</a>)</span></dt>
      <dd class="attribute">
        <div>The event handler for the <a class="event-name" href="[SVG2]/interact.html#RepeatEvent">repeatEvent</a>.</div>
      </dd>
    </dl>
  </dd>
  <dt class="operations-header">Operations:</dt>
  <dd>
    <dl class="attributes">
      <dt id="__svg__SVGAnimationElement__getStartTime" class="operation first-child">float <b>getStartTime</b>()</dt>
      <dd class="operation">
        <div>Returns the begin time, in seconds, for this animation element's current
        interval, if it exists, regardless of whether the interval has begun yet.
        If there is no current interval, then a DOMException with code
        INVALID_STATE_ERR is thrown.</div>
        <dl class="operation">
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The start time, in seconds, of this animation element's current
            interval.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code INVALID_STATE_ERR</dt>
              <dd class="exception">The animation element does not
              have a current interval.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGAnimationElement__getCurrentTime" class="operation">float <b>getCurrentTime</b>()</dt>
      <dd class="operation">
        <div>Returns the current time in seconds relative to time zero for the given
        time container.</div>
        <dl class="operation">
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>The current time in seconds relative to time zero for the given
            time container.</div>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGAnimationElement__getSimpleDuration" class="operation">float <b>getSimpleDuration</b>()</dt>
      <dd class="operation">
        <div>Returns the number of seconds for the simple duration for this animation.
        If the simple duration is undefined (e.g., the end time is indefinite),
        then an exception is raised.</div>
        <dl class="operation">
          <dt class="returns-header">Returns</dt>
          <dd>
            <div>number of seconds for the simple duration for this animation.</div>
          </dd>
          <dt class="exceptions-header">Exceptions</dt>
          <dd>
            <dl class="exceptions">
              <dt class="exception first-child"><a>DOMException</a>, code NOT_SUPPORTED_ERR</dt>
              <dd class="exception">The simple duration is not
              determined on the given element.</dd>
            </dl>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGAnimationElement__beginElement" class="operation first-child">undefined <b>beginElement</b>()</dt>
      <dd class="operation">
        <div>Creates a begin instance time for the current time. The new instance
        time is added to the <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Timing-BeginEnd-InstanceTimesLists"><em>begin instance times list</em></a>.
        The behavior of this method is equivalent to <code>beginElementAt(0)</code>.</div>
      </dd>
      <dt id="__svg__SVGAnimationElement__beginElementAt" class="operation">undefined <b>beginElementAt</b>(float <var>offset</var>)</dt>
      <dd class="operation">
        <div>Creates a begin instance time for the current time plus the specified
        offset. The new instance time is added to the
        <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Timing-BeginEnd-InstanceTimesLists"><em>begin instance times list</em></a>.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>float <var>offset</var></div>
                <div>The offset from the current document time, in seconds, at
                which to begin the element.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
      <dt id="__svg__SVGAnimationElement__endElement" class="operation">undefined <b>endElement</b>()</dt>
      <dd class="operation">
        <div>Creates an end instance time for the current time. The new instance time is added to the
        <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Timing-BeginEnd-InstanceTimesLists"><em>end instance times list</em></a>.
        The behavior of this method is equivalent to <code>endElementAt(0)</code>.</div>
      </dd>
      <dt id="__svg__SVGAnimationElement__endElementAt" class="operation">undefined <b>endElementAt</b>(float <var>offset</var>)</dt>
      <dd class="operation">
        <div>Creates a end instance time for the current time plus the specified
        offset. The new instance time is added to the
        <a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/#Timing-BeginEnd-InstanceTimesLists"><em>end instance times list</em></a>.</div>
        <dl class="operation">
          <dt class="parameters-header">Parameters</dt>
          <dd>
            <ol class="parameters">
              <li class="parameter first-child">
                <div>float <var>offset</var></div>
                <div>The offset from the current document time, in seconds, at
                which to end the element.</div>
              </li>
            </ol>
          </dd>
        </dl>
      </dd>
    </dl>
  </dd>
</dl>

<h3 id="InterfaceSVGAnimateElement">Interface SVGAnimateElement</h3>

<edit:with element="animate">

<p>The <a>SVGAnimateElement</a> interface corresponds to the <a>'animate'</a>
element.</p>

<p>Object-oriented access to the attributes of the <a>'animate'</a> element
via the SVG DOM is not available.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimateElement</b> : <a>SVGAnimationElement</a> {
};</pre>

</edit:with>

<h3 id="InterfaceSVGSetElement">Interface SVGSetElement</h3>

<edit:with element="set">

<p>The <a>SVGSetElement</a> interface corresponds to the <a>'set'</a>
element.</p>

<p>Object-oriented access to the attributes of the <a>'set'</a> element
via the SVG DOM is not available.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGSetElement</b> : <a>SVGAnimationElement</a> {
};</pre>

</edit:with>

<h3 id="InterfaceSVGAnimateMotionElement">Interface SVGAnimateMotionElement</h3>

<edit:with element="animateMotion">

<p>The <a>SVGAnimateMotionElement</a> interface corresponds to the
<a>'animateMotion'</a> element.</p>

<p>Object-oriented access to the attributes of the <a>'animateMotion'</a>
element via the SVG DOM is not available.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimateMotionElement</b> : <a>SVGAnimationElement</a> {
};</pre>

</edit:with>

<h3 id="InterfaceSVGMPathElement">Interface SVGMPathElement</h3>

<edit:with element="mpath">

<p>The <a>SVGMPathElement</a> interface corresponds to the <a>'mpath'</a>
element.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGMPathElement</b> : <a>SVGElement</a> {
};

<a>SVGMPathElement</a> includes <a>SVGURIReference</a>;</pre>

</edit:with>

<h3 id="InterfaceSVGAnimateTransformElement">Interface SVGAnimateTransformElement</h3>

<edit:with element="animateTransform">

<p>The <a>SVGAnimateTransformElement</a> interface corresponds to the
<a>'animateTransform'</a> element.</p>

<p>Object-oriented access to the attributes of the
<a>'animateTransform'</a> element via the SVG DOM is not available.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimateTransformElement</b> : <a>SVGAnimationElement</a> {
};</pre>

</edit:with>

<h3 id="InterfaceSVGDiscardElement">Interface SVGDiscardElement</h3>

<edit:with element="discard">

<p>The <a>SVGDiscardElement</a> interface corresponds to the <a>'discard'</a>
element.</p>

<p>Object-oriented access to the attributes of the <a>'discard'</a> element
via the SVG DOM is not available.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGDiscardElement</b> : <a>SVGAnimationElement</a> {
};</pre>

</edit:with>

<h3 id="InterfaceSVGSVGElement">Extensions to interface SVGSVGElement</h3>

<edit:with element="svg">

<pre class="idl">partial interface <b>SVGSVGElement</b> {
  undefined <a href="#__svg__SVGSVGElement__pauseAnimations">pauseAnimations</a>();
  undefined <a href="#__svg__SVGSVGElement__unpauseAnimations">unpauseAnimations</a>();
  boolean <a href="#__svg__SVGSVGElement__animationsPaused">animationsPaused</a>();
  float <a href="#__svg__SVGSVGElement__getCurrentTime">getCurrentTime</a>();
  undefined <a href="#__svg__SVGSVGElement__setCurrentTime">setCurrentTime</a>(float seconds);
};</pre>

<p>The <b id="__svg__SVGSVGElement__pauseAnimations">pauseAnimations</b>
and <b id="__svg__SVGSVGElement__unpauseAnimations">unpauseAnimations</b>
methods are used to pause and unpause all of the animations within
the <a>SVG document fragment</a>.</p>

<p>When pauseAnimations() is called, the following steps are run:</p>

<ol class="algorithm">
  <li>If the current <a>'svg'</a> element is not the <a>outermost svg element</a>,
  then return.</li>
  <li>Pause the timeline that controls SVG animations for the <a>SVG document fragment</a> that
  the <a>'svg'</a> element is in.</li>
</ol>

<p>When unpauseAnimations() is called, the following steps are run:</p>

<ol class="algorithm">
  <li>If the current <a>'svg'</a> element is not the <a>outermost svg element</a>,
  then return.</li>
  <li>Unpause the timeline that controls SVG animations for the <a>SVG document fragment</a> that
  the <a>'svg'</a> element is in.</li>
</ol>

<p class="note">The <a href="#__svg__SVGSVGElement__pauseAnimations">pauseAnimations</a>
and <a href="#__svg__SVGSVGElement__unpauseAnimations">unpauseAnimations</a>
methods only affect animations defined using SVG's <a>animation elements</a>.
They have no effect on CSS Transitions or Animations
[<a href="#ref-CSS3ANIMATIONS">CSS3ANIMATIONS</a>][<a href="#ref-CSS3TRANSITIONS">CSS3TRANSITIONS</a>]
or animations created using script.</p>

<p>The <b id="__svg__SVGSVGElement__animationsPaused">animationsPaused</b>
method returns whether SVG animation timeline has been paused.
When animationsPaused() is called, true is returned if the timeline that
controls SVG animations for the <a>SVG document fragment</a> that the
<a>'svg'</a> element in has been paused by
<a href="#__svg__SVGSVGElement__pauseAnimations">pauseAnimations</a>;
otherwise, false is returned.</p>

<p>The <b id="__svg__SVGSVGElement__getCurrentTime">getCurrentTime</b> and
<b id="__svg__SVGSVGElement__setCurrentTime">setCurrentTime</b> methods
are used to get and set the current time of the timeline that controls
SVG animations.  When getCurrentTime() is called, the following steps are run:</p>

<ol class='algorithm'>
  <li>If the timeline for the <a>current SVG document fragment</a> has not yet begun,
  then return 0.
    <p class='note'>This is the case, for example, if the <a>outermost svg element</a>
    has its <a>'timelinebegin'</a> attribute set to <span class='attr-value'>'loadend'</span>
    and the load event has not yet fired.</p>
  </li>
  <li>Otherwise, the timeline for the <a>current SVG document fragment</a> has begun.
  Return the current time in seconds relative to the start time of the timeline.</li>
</ol>

<p>When setCurrentTime(<var>seconds</var>) is called, the following steps are run:</p>

<ol class='algorithm'>
  <li>If the current <a>'svg'</a> element is not the <a>outermost svg element</a>,
  then return.</li>
  <li>If the timeline for the <a>current SVG document fragment</a> has begun, then
  the timeline's current time (in seconds, relative to the start time of the
  timeline) is set to <var>seconds</var>.</li>
  <li>Otherwise, the timeline has not begun.  <var>seconds</var> is recorded on
  the <a>current SVG document fragment</a> as the time to be seeked to
  once the timeline has begun.  If multiple calls to
  <a href="#__svg__SVGSVGElement__setCurrentTime">setCurrentTime</a> are made
  before the timeline has begun, the most recent call's time will be used to
  seek the timeline once it begins.</li>
</ol>


</edit:with>

<h2 id="refs">References</h2>

<h3 id="normrefs">Normative references</h3>

<dl>
  <dt id="ref-DOM2VIEWS" class="normref">[DOM2VIEWS]</dt>
  <dd>
    <cite class="w3crec"><a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Views-20001113/">Document Object Model (DOM) Level 2 Views Specification</a></cite>,
    A. Le Hors, L. Cable, eds.
    World Wide Web Consortium, 13 November 2000.
    <br/>This edition of DOM 2 Views is http://www.w3.org/TR/2000/REC-DOM-Level-2-Views-20001113/.
    <br/>The <a href="http://www.w3.org/TR/DOM-Level-2-Views/">latest edition of DOM 2 Views</a> is available at
    http://www.w3.org/TR/DOM-Level-2-Views/.
  </dd>

  <dt id="ref-DOM4" class="normref">[DOM4]</dt>
  <dd>
    <cite class="w3cwd"><a href="http://www.w3.org/TR/2014/WD-dom-20140204/">DOM4</a></cite>,
    A. van Kesteren, A. Gregor, Ms2ger, A. Russell, R. Berjon, eds.
    World Wide Web Consortium, 04 February 2014.
    <br/>This edition of DOM4 is http://www.w3.org/TR/2014/WD-dom-20140204/.
    <br/>The <a href="http://www.w3.org/TR/dom/">latest edition of DOM4</a> is available at
    http://www.w3.org/TR/dom/.
  </dd>

  <dt id="ref-HTML" class="normref">[HTML]</dt>
  <dd>
    <cite class="w3crec"><a href="http://www.w3.org/TR/html5/">HTML5
    A vocabulary and associated APIs for HTML and XHTML</a></cite>,
    I. Hickson, R. Berjon, S. Faulkner, T. Leithead, E.D. Navara, E. O'Connor, S. Pfeiffer, eds.
    World Wide Web Consortium, 28 October 2014. W3C Recommendation.
    <br />This edition of HTML5 is <a href="http://www.w3.org/TR/2014/REC-html5-20141028/">http://www.w3.org/TR/2014/REC-html5-20141028/</a>.
    <br/>The <a href="http://www.w3.org/TR/html/">latest version of html</a> is available at
    <a href="http://www.w3.org/TR/html/">http://www.w3.org/TR/html/</a>.
  </dd>

  <dt id="ref-ISO8601" class="normref">[ISO8601]</dt>
  <dd>
    <cite><a href="http://www.iso.org/iso/catalogue_detail?csnumber=40874">Data elements and interchange formats - Information interchange - Representation of dates and times</a></cite>,
    International Organization for Standardization, 2004.
    Available at http://www.iso.org/iso/catalogue_detail?csnumber=40874.
  </dd>

  <dt id="ref-RFC2119"><strong class="normref">[RFC2119]</strong></dt>
  <dd><cite><a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a></cite>,
  S. Bradner, March 1997.
  <br />Available at http://tools.ietf.org/html/rfc2119.</dd>

<!--
  <dt id="ref-SVG11"><strong class="normref">[SVG11]</strong></dt>
  <dd><cite class="w3crec"><a href="http://www.w3.org/TR/2003/REC-SVG11-20030114/">Scalable Vector Graphics (SVG) 1.1</a></cite>,
  J. Ferraiolo, <span class="ruby"><span class="rb">&#x85E4;&#x6CA2; &#x6DF3;</span><span class="rp">(</span><span class="rt"><span class="familyname">Fujisawa</span> Jun</span><span class="rp">)</span></span>, D. Jackson, eds.
  World Wide Web Consortium, 14 January 2003.
  <br />This edition of SVG 1.1 is http://www.w3.org/TR/2003/REC-SVG11-20030114/.
  <br />The <a href="http://www.w3.org/TR/SVG11/">latest edition of SVG 1.1</a> is available at http://www.w3.org/TR/SVG11/.</dd>
-->

  <dt id="ref-SMIL" class="normref">[SMIL]</dt>
  <dd>
    <cite class="w3crec"><a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/">Synchronized Multimedia Integration Language (SMIL 3.0)</a></cite>,
    D. Bulterman <em>et al.</em>, eds.  01 December 2008.
    <br/>This edition of SMIL is http://www.w3.org/TR/2008/REC-SMIL3-20081201/.
    <br/>The <a href="http://www.w3.org/TR/smil/">latest edition of SMIL</a> is available at http://www.w3.org/TR/smil/.
  </dd>

  <dt id="ref-SMILANIM" class="normref">[SMILANIM]</dt>
  <dd>
    <cite class="w3crec"><a href="http://www.w3.org/TR/2001/REC-smil-animation-20010904/">SMIL Animation</a></cite>,
    P. Schmitz, A. Cohen.
    World Wide Web Consortium, 04 September 2001.
    <br/>This edition of SMIL Animation is http://www.w3.org/TR/2001/REC-smil-animation-20010904/.
    <br/>The <a href="http://www.w3.org/TR/smil-animation/">latest edition of SMIL Animation</a> is available at
    http://www.w3.org/TR/smil-animation/.
  </dd>

  <dt id="ref-SRGB" class="normref">[SRGB]</dt>
  <dd>
    <cite><!--a href="http://www.colour.org/tc8-05/Docs/colorspace/61966-2-1.pdf"-->IEC 61966-2-1/Amd 1:2003
      : Multimedia systems and equipment — Colour measurement and management — Part 2-1: Colour management — Default RGB colour space — sRGB<!--/a--></cite>,
    International Electrotechnical Commission, 2003.
    <br/>Available at <a href="https://webstore.iec.ch/publication/6168">https://webstore.iec.ch/publication/6168</a><!--
    and at <a href="http://www.colour.org/tc8-05/Docs/colorspace/61966-2-1.pdf">http://www.colour.org/tc8-05/Docs/colorspace/61966-2-1.pdf</a>-->.<br />
    See also <a href="http://www.color.org/chardata/rgb/srgb.xalter">http://www.color.org/chardata/rgb/srgb.xalter</a>
    for technical data and color profiles.
  </dd>

  <dt id="ref-SVG2"><strong class="normref">[SVG2]</strong></dt>
  <dd><cite class="w3cwd"><a href="http://www.w3.org/TR/2015/WD-SVG2-20150409/">Scalable Vector Graphics (SVG) 2</a></cite>,
  N. Andronikos, T. Bah, A. Bellamy-Royds, B. Birtles, C. Concolato, E. Dahlström, C. Lilley, C. McCormack, D. Schepers, D. Schulze, R. Schwerdtfeger, S. Takagi, J. Watt, eds.
  World Wide Web Consortium, 09 April 2015.
  <br />This edition of SVG 2 is http://www.w3.org/TR/2015/WD-SVG2-20150409/.
  <br />The <a href="http://www.w3.org/TR/SVG2/">latest edition of SVG 2</a> is available at http://www.w3.org/TR/SVG2/.</dd>

  <dt id="ref-XML10" class="normref">[XML10]</dt>
  <dd>
    <cite class="w3crec"><a href="http://www.w3.org/TR/2008/REC-xml-20081126/">Extensible Markup Language (XML) 1.0 (Fifth Edition)</a></cite>,
    T. Bray, J. Paoli, C. M. Sperberg-McQueen, E. Maler, F. Yergeau, eds.
    World Wide Web Consortium, 26 November 2008.
    <br/>This edition of XML 1.0 is http://www.w3.org/TR/2008/REC-xml-20081126/.
    <br/>The <a href="http://www.w3.org/TR/xml/">latest edition of XML 1.0</a> is available at
    http://www.w3.org/TR/xml/.
  </dd>

</dl>

<h3 id="nonnormrefs">Non-normative references</h3>

<dl>
  <dt id="ref-CSS3ANIMATIONS" class="informref">[CSS3ANIMATIONS]</dt>
  <dd>
    <cite class="w3cwd"><a href="http://www.w3.org/TR/2012/WD-css-animations-1-20120403/">CSS Animations</a></cite>,
    D. Jackson, D. Hyatt, C. Marrin, S. Galineau, L. D. Baron, eds.
    World Wide Web Consortium, 3 April 2012. W3C Working Draft. (Work in progress.)
    <br/>This edition of CSS Animations is http://www.w3.org/TR/2012/WD-css-animations-1-20120403/.
    <br/>The <a href="http://www.w3.org/TR/charmod/">latest edition of CSS Animations</a> is available at
    http://www.w3.org/TR/css-animations-1/.
  </dd>

  <dt id="ref-CSS3TRANSITIONS" class="informref">[CSS3TRANSITIONS]</dt>
  <dd>
    <cite class="w3cwd"><a href="http://www.w3.org/TR/2012/WD-css-transitions-1-20120403/">CSS Transitions</a></cite>,
    D. Jackson, D. Hyatt, C. Marrin, L. D. Baron, eds.
    World Wide Web Consortium, 3 April 2012. W3C Working Draft. (Work in progress.)
    <br/>This edition of CSS Transitions is http://www.w3.org/TR/2012/WD-css-transitions-1-20120403/.
    <br/>The <a href="http://www.w3.org/TR/css-transitions-1/">latest edition of CSS Transitions</a> is available at
    http://www.w3.org/TR/css-transitions-1/.
  </dd>

  <dt id="ref-FOLEY-VANDAM" class="informref">[FOLEY-VANDAM]</dt>
  <dd>
    <cite>Computer Graphics: Principles and Practice</cite>, Second Edition,
    J. D. Foley, A. van Dam, S. K. Feiner, J. F. Hughes, R. L. Phillips.
    Addison-Wesley, 1995.
  </dd>
</dl>

<h2 id="ChangesSinceSVG11">Changes since SVG 1.1 Second Edition</h2>

<ul>
  <li>Removed the <span class="attribute-name">attributeType</span>
      attribute.</li>
  <li>Folded the ElementTimeControl interface into
      <a>SVGAnimationElement</a>.</li>
  <li>Removed the <span class="element-name">animateColor</span> element.</li>
  <li>Added the onbegin, onend and onrepeat attributes to the
      <a>SVGAnimationElement</a> interface.</li>
  <li>The <a>'values'</a>, <a>'keyTimes'</a> and <a>'keySplines'</a> attributes
      now ignore the last semicolon separator if it's not followed by
      a value.</li>
  <li class='added-since-last-wd'>Allowed the <a>'mpath'</a> element to refer to
      a <a>shape</a> element.</li>
  <li>Added the <a>'discard'</a> element</li>
  <li>Added the <a>'timelinebegin'</a> and <a>'playbackorder'</a> attributes on
      the <a>'svg'</a> element.</li>
</ul>

</body>
</html>
