<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional+edit//EN" "xhtml1-transitional+edit.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:edit="http://xmlns.grorg.org/SVGT12NG/">
<head>
  <title>Basic Data Types and Interfaces</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport"           content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

  <!-- Style sheets for local dev. Will be standardized in processing.
  Add attribute data-keep="" to any extra stylesheet link you do not want removed
  (or use <style>), and include it before here. -->
  <link rel="stylesheet" href="style/svg.css" type="text/css" />
  <link rel="stylesheet" href="style/W3C-ED.css" type="text/css" />
</head>
<body>

<h1>Basic Data Types and Interfaces</h1>

<h2 id="definitions">Definitions</h2>
<dl class="definitions">
  <dt><dfn id="TermInitialValue" data-dfn-type="dfn" data-export="">initial value</dfn></dt>
  <dd>
    <p>
      The initial value of an attribute or property is the value used when
      that attribute or property is not specified, or when it has an
      <a>invalid value</a>.
      This value is to be used for the purposes of rendering, calculating
      <a href="https://svgwg.org/specs/animations/">animation values</a>,
      and when accessing the attribute or property via DOM interfaces.
    </p>
  </dd>

  <dt><dfn id="TermInvalidValue" data-dfn-type="dfn" data-export="">invalid value</dfn></dt>
  <dd>An invalid value specified for a <a>property</a>, either in a style sheet
  or a <a>presentation attribute</a>, is one that is either not allowed according
  to the grammar defining the property's values, or is allowed by the grammar but
  subsequently disallowed in prose.  A CSS declaration with an invalid value is
  <a>ignored</a>.</dd>

</dl>

<h2 id="syntax">Attribute syntax</h2>

<div class='ready-for-wider-review'>

<p>In this specification, attributes are defined with an attribute definition
table, which looks like this:</p>

<table class="attrdef def">
  <tr>
    <th>Name</th>
    <th>Value</th>
    <th>Initial&nbsp;value</th>
    <th>Animatable</th>
  </tr>
  <tr>
    <td><dfn>exampleattr</dfn></td>
    <td><a>&lt;length&gt;</a> | none</td>
    <td>none</td>
    <td>yes</td>
  </tr>
</table>

<p>In the Value column is a description of the attribute's syntax.  There are
six methods for describing an attribute's syntax:</p>

<ol>
  <li>Using the <a href="https://www.w3.org/TR/css-values/#value-defs">CSS Value
  Definition Syntax</a> [<a href="refs.html#ref-css-values-3">css-values</a>].
  This is the notation used to define the syntax for most attributes in this
  specification and is the default.</li>

  <li>By reference to an
  <a href="https://www.w3.org/TR/REC-xml/#sec-notation">EBNF symbol</a> defined
  in this or another specification [<a href="refs.html#ref-xml">xml</a>].
  For external definitions, this is indicated by <span class="syntax">[EBNF]</span>
  appearing in the Value column.</li>

  <li>By reference to an
  <a href="http://tools.ietf.org/html/std68">ABNF symbol</a> defined
  in another specification [<a href="refs.html#ref-rfc5234">rfc5234</a>].  This is
  indicated by <span class="syntax">[ABNF]</span> appearing in the Value
  column.</li>

  <li>As a URL as defined by the <a href="https://url.spec.whatwg.org/">URL
  Standard</a> [<a href="refs.html#ref-URL">URL</a>].  This is indicated by
  <span class="syntax">[URL]</span> appearing in the Value column.</li>

  <li>As a type as defined by the <a href="https://html.spec.whatwg.org/">HTML
  Standard</a> [<a href="refs.html#ref-html">HTML</a>].  This is indicated by
  <span class="syntax">[HTML]</span> appearing in the Value column.</li>

  <li>In prose, below the attribute definition table.  This is indicated by the
  text "(see below)" appearing in the Value column.</li>
</ol>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Consider relaxing case sensitivity of presentation attribute values.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2011/10/28-svg-irc#T16-40-11">We will make property values case insensitivity.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>To align presentation attribute syntax parsing with parsing of the corresponding CSS property.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Cameron (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3276">ACTION-3276</a>)</td>
    </tr>
    <tr>
      <th>Status:</th>
      <td>Done</td>
    </tr>
  </table>
</div>

<p id="presentation-attribute-css-value">When a <a>presentation attribute</a>
defined using the CSS Value Definition Syntax is parsed, this is done as
follows:</p>

<ol>
  <li>Let <var>value</var> be the value of the attribute.</li>
  <li>Let <var>grammar</var> be the grammar given in the attribute definition
  table's Value column.</li>
  <li>Replace all instances of <a>&lt;length&gt;</a> in <var>grammar</var> with
  [<a>&lt;length&gt;</a> | <a>&lt;number&gt;</a>].</li>
  <li>Replace all instances of <a>&lt;length-percentage&gt;</a> in <var>grammar</var> with
    [<a>&lt;length-percentage&gt;</a> | <a>&lt;number&gt;</a>].</li>
  <li>Replace all instances of <a>&lt;angle&gt;</a> in <var>grammar</var> with
  [<a>&lt;angle&gt;</a> | <a>&lt;number&gt;</a>].</li>
  <li>Return the result of
  <a href="http://dev.w3.org/csswg/css-syntax/#parse-grammar">parsing
  <var>value</var> with <var>grammar</var></a>.</li>
</ol>

<p class="note">The insertion of the <a>&lt;number&gt;</a> symbols allows for
unitless length and angles to be used in presentation attribute while
disallowing them in corresponding property values.</p>

<p class="note">Note that all <a>presentation attributes</a>, since they are
defined by reference to their corresponding CSS properties, are defined using
the CSS Value Definition Syntax.</p>

<p id="attribute-css-value">When any other attribute defined using the CSS Value
Definition Syntax is parsed, this is done by
<a href="http://dev.w3.org/csswg/css-syntax/#parse-grammar">parsing the
attribute's value according to the grammar given in attribute definition
table</a>.</p>

<p class="note">Note that this allows CSS comments and escapes to be used
in such attributes.  For example, a value of <span class='attr-value'>'10\px/**/'</span>
would successfully parse as <span class='attr-value'>'10px'</span> in
the <span class='attr-name'>'x'</span> presentation attribute of the <a>'rect'</a> element.</p>

<p id="attribute-url">When an attribute defined as a URL is parsed, this is
done by invoking the
<a href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a> with
the attribute's value as <var>input</var> and the document's URL as
<var>base</var> [<a href="refs.html#ref-URL">URL</a>].</p>

<p>The Initial value column gives the <a>initial value</a> for the attribute.
When an attribute fails to parse according to the specified CSS Value Definition Syntax,
ABNF or EBNF grammar, or if parsing according to the URL Standard
or by the prose describing how to parse the attribute indicates failure,
the attribute is assumed to have been specified as the given <a>initial value</a>.</p>

<div class="note">
  <p>The initial value of a <a>presentation attribute</a> is its
  corresponding property's initial value.  Since the use of an <a>invalid value</a>
  in a <a>presentation attribute</a> will be treated as if the initial value
  was specified, this value can override values that come from lower priority
  style sheet rules, such as those from the user agent style sheet.</p>
  <p>For example, although the user agent style sheet sets the value of the
  <a>'overflow'</a> property to <span class="prop-value">hidden</span>
  for <a>'svg'</a> elements, specifying an invalid presentation attribute such
  as <span class='attr-value'>overflow="invalid"</span> will result
  in a rule setting <a>'overflow'</a> to <span class="prop-value">visible</span>,
  overriding the user agent style sheet value.</p>
</div>

<p>The Animatable column indicates whether the attribute can be animated using
<a>animation elements</a> as defined in the <a
  href="https://svgwg.org/specs/animations/">SVG Animation</a> module.</p>

</div>

<h3 id="Precision">Real number precision</h3>

<p>Unless stated otherwise, numeric values in SVG attributes and in
properties that are defined to have an effect on SVG elements must
support at least all finite single-precision values supported by the host
architecture.
</p>

<p>It is recommended that higher precision floating point
storage and computation be performed on operations such as
coordinate system transformations to provide the best
possible precision and to prevent round-off errors.</p>

<p class="ready-for-wider-review"><a>Conforming SVG Viewers</a>
are required to perform numerical computation in accordance with their
conformance class, as described in <a href="conform.html">Conformance Criteria</a>.</p>

<h3 id="RangeClamping">Clamping values which are restricted to a particular range</h3>

<p>Some numeric attribute and property values have restricted ranges.
Other values will be restricted by the capabilities of the device.
If not otherwise specified,
the user agent shall defer any out-of-range error checking until
as late as possible in the rendering process.
This is particularly important for device limitations,
as compound operations
might produce intermediate values which are out-of-range but
final values which are within range.</p>

<h2 id="SVGDOMOverview">SVG DOM overview</h2>

<p>Conforming <a>SVG viewers</a> or <a>SVG interpreters</a>
that support <a>script execution</a>
must implement SVG DOM interfaces as defined throughout this specification,
with the specific requirements and dependencies listed in this section.
</p>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Improve the DOM.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2011/10/27-svg-irc#T18-35-49">We will generally improve the SVG DOM for SVG 2.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>Help authors use the SVG DOM by making it less Java-oriented.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Cameron (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3273">ACTION-3273</a>)</td>
    </tr>
    <tr>
      <th>Note:</th>
      <td>See <a href="http://www.w3.org/Graphics/SVG/WG/wiki/SVG_2_DOM">SVG 2 DOM</a> Wiki page.</td>
    </tr>
  </table>
</div>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Improve the SVG path DOM APIs.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2011/10/27-svg-irc#T18-23-23">We will improve the SVG path DOM APIs in SVG 2.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>Clean up SVGPathSegList interface, and possibly share an API with Canvas.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Cameron (no action)</td>
    </tr>
  </table>
</div>


<h3 id="SVGDOMDependencies">Dependencies for SVG DOM support</h3>

<p class="ready-for-wider-review">The SVG DOM is defined in terms of <a href="https://heycam.github.io/webidl/">Web IDL</a>
interfaces. All IDL fragments in this specification must be interpreted as
required for <a href="https://heycam.github.io/webidl/#dfn-conforming-set-of-idl-fragments">conforming IDL fragments</a>,
as described in the Web IDL specification. [<a href="refs.html#ref-webidl">WebIDL</a>]</p>

<p>The SVG DOM builds upon a number of DOM specifications.  In particular:</p>

<ul>
  <li>The SVG DOM requires full support for the DOM,
  as defined by the most recent <a href="https://dom.spec.whatwg.org/review-drafts/">Review Draft</a>
  of the DOM living standard at the time this specification was published,
  except for any features that have been removed or deprecated since.
  SVG software with DOM support should implement
  the <a href="https://dom.spec.whatwg.org/">latest DOM standard</a>
  wherever possible
  [<a href="refs.html#ref-dom">DOM</a>]</li>

  <li>The SVG DOM requires support for relevant aspects of
  <a href="https://www.w3.org/TR/uievents/">UI Events</a> and
  <a href="https://www.w3.org/TR/clipboard-apis/">Clipboard API and events</a>
  ([<a href="refs.html#ref-uievents">uievents</a>], [<a href="refs.html#ref-clipboard-apis">clipboard-apis</a>]).
  (For the specific features that are required, see
  see <a href="interact.html#RelationshipWithUIEVENTS">Relationship with UI Events</a>.)</li>

  <li>The SVG DOM requires, at a minimum, complete
  support for all interfaces from
  <a href="https://www.w3.org/TR/DOM-Level-2-Style/Overview.html">DOM Level 2 Style</a>
  ([<a href="refs.html#ref-dom-level-2-style">dom-level-2-style</a>])
  that have not been dropped in the
  <a href="https://drafts.csswg.org/cssom/">CSS Object Model (CSSOM)</a> specification.
  SVG software should implement the latest version of
  <a href="https://drafts.csswg.org/cssom/">CSS Object Model (CSSOM)</a>
  wherever possible
  ([<a href="refs.html#ref-cssom-1">cssom-1</a>])
  </li>

  <li>The SVG DOM requires complete support for
  <a href="http://www.w3.org/TR/2014/CR-geometry-1-20141125/">Geometry Interfaces Module Level 1</a>
  ([<a href="refs.html#ref-geometry-1">geometry-1</a>]).
  </li>
</ul>

<h3 id="SVGDOMNamingConventions">Naming conventions</h3>

<p>The SVG DOM follows similar naming conventions to HTML and DOM standards
([<a href="refs.html#ref-html">HTML</a>], [<a href="refs.html#ref-dom">DOM</a>]).</p>

<p>All names are defined as one or more English words
concatenated together to form a single string. Property or
method names start with the initial keyword in lowercase, and
each subsequent word starts with a capital letter. For example,
a property that returns document meta information such as the
date the file was created might be named "fileDateCreated".</p>

<p>Interface names defined in this specification nearly all start with "SVG".
Interfaces that represent the DOM <a>Element</a> object
for an SVG-namespaced element follow the format
<code>SVG<i>ElementName</i>Element</code>, where <code><i>ElementName</i></code>
is the element's tag name with the initial letter capitalized.
So <a>SVGRadialGradientElement</a> is the interface for an <a>'radialGradient'</a> element.
</p>

<p class="note">
An exception to this casing convention is <a>SVGSVGElement</a>,
in which the entire tag name is capitalized.
</p>

<h3 id="ElementsInTheSVGDOM">Elements in the SVG DOM</h3>

<p>Any SVG software that is required to support the SVG DOM
must enhance the DOM elements created for <a>SVG document fragments</a>
as follows:
</p>

<ul>
<li>
<p>Every <a>Element</a> object that corresponds to a supported SVG element (that is,
an element with namespace URI "http://www.w3.org/2000/svg" and a
local name that is one of the elements defined in this specification
or another specification implemented by the software)
must also implement the DOM interface identified in the element definition.
</p>
</li>
<li>
  <p>
  Elements in the SVG namespace whose local name does not match an element
  defined in any specification supported by the software
  must nonetheless implement the <a>SVGElement</a> interface.
  </p>
  </li>
</ul>


<p class="example">
In <a href="shapes.html#RectElement">The <span class="element-name">'rect'</span> element</a>,
the <a>SVGRectElement</a> interface is identified.  This means that every
<a>Element</a> object whose namespace URI is "http://www.w3.org/2000/svg"
and whose local name is "rect" must also implement <a>SVGRectElement</a>.</p>


<h3 id="ReflectingAttributes">Reflecting content attributes in the DOM</h3>

<p>Many SVG DOM properties (IDL attributes)
<dfn id="TermReflect" data-dfn-type="dfn">reflect</dfn> a content attribute or property
on the corresponding element,
meaning that content and IDL attributes represent the same underlying data.
For example,
the <a>SVGAnimatedLength</a> <a>SVGRectElement::ry</a> in an
<a>SVGRectElement</a>
reflects the <a>'ry'</a> presentation attribute on the associated <a>'rect'</a> element.
</p>

<p>The way this reflection is done depends on the type of the IDL attribute:</p>
    <ul>
      <li>If the type of the reflecting IDL attribute is a
      <a href="http://heycam.github.io/webidl/#dfn-primitive-type">primitive type</a> (such as
      <b>long</b>, as used by <a href="https://html.spec.whatwg.org/multipage/interaction.html#dom-tabindex">tabIndex</a>
       on <a>SVGElement</a>) or <b>DOMString</b> (as used by
      <a href="styling.html#__svg__SVGStyleElement__title">title</a> on <a>SVGStyleElement</a>),
      then the rules for
      <a href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect">reflecting
      content attributes in IDL attributes</a> in HTML are used.</li>

      <li>If the type of the reflecting IDL attribute is an <a>SVGAnimatedBoolean</a>,
      <a>SVGAnimatedString</a>, <a>SVGAnimatedEnumeration</a>, <a>SVGAnimatedNumber</a>,
      <a>SVGAnimatedNumberList</a>, <a>SVGAnimatedLength</a>, <a>SVGAnimatedLengthList</a>,
      <a>SVGAnimatedAngle</a>, <a>SVGAnimatedRect</a> or <a>SVGAnimatedPreserveAspectRatio</a>,
      then the rules in the corresponding
      section defining the reflecting interface are used.

      <p class="note">At a high level, the object's
      <code>baseVal</code> is used to reflect the value of the content attribute.
      For objects that reflect a CSS property, the <code>baseVal</code> is used
      to reflect the presentation attribute.
      </p>
      </li>
    </ul>

<p>
This relationship is live, and values must be synchronized
(following the rules in <a href="#SynchronizingReflectedValues">Synchronizing reflected values</a>)
when either the attribute or its reflected property is modified.
</p>

<p>
If the attribute hasn't been specified explicitly in the document markup,
the reflected object is nonetheless initialized upon access,
to the attribute's initial value.
If the attribute's initial value is <span class="attr-value">(none)</span>,
the object is initialized as defined in
<a href="#SVGObjectInitialization">Reflecting an empty initial value</a>.
This newly constructed object does not generate an attribute on the element until
it is modified for the first time. Modifications made to the corresponding
attribute are immediately reflected in the object.</p>

<p class="example">If <code>lineElement.x1.baseVal</code> is accessed
(where <code>lineElement</code> is an instance of <a>SVGLineElement</a>)
and the <a>'line/x1'</a> attribute was not specified in the document, the
returned <a>SVGLength</a> object would represent the value <span class="attr-value">0 user units</span>,
because the initial value for the attribute is <span class="attr-value">0</span>.</p>

<h3 id="SynchronizingReflectedValues">Synchronizing reflected values</h3>

<p>Whenever a reflected content attribute's base value changes,
then the reflecting object must be <dfn id="TermSynchronize" data-dfn-type="dfn" data-export="">synchronized</dfn>,
immediately after the value changed, by running the following steps:</p>

<ol class='algorithm'>
  <li>If the reflecting object is a <a>list interface</a> object,
  then run the steps for <a href='#TermSynchronizeList'>synchronizing
  a list interface object</a>.</li>
  <li>Otherwise, update the object's value to be the base value of the reflected
  content attribute (using the attribute's <a>initial value</a> if it is not
  present or invalid).
  <p class='note'>This will, for example, update the <a href="#LengthValue">value</a>
  of an <a>SVGLength</a> object.</p></li>
</ol>

<p>When a <a>reflected</a> content attribute is to be
<dfn id="TermReserialize" data-dfn-type="dfn" data-export="">reserialized</dfn>, optionally using a
specific value, the following steps must be performed:</p>

<ol class="algorithm">
  <li>Let <var>value</var> be the specific value given, or
  the value of the content attribute's reflecting IDL attribute
  if a specific value was not provided.</li>

  <li>Depending on <var>value</var>'s type:
    <dl class="switch">
      <dt><a>SVGAnimatedBoolean</a></dt>
      <dt><a>SVGAnimatedNumber</a></dt>
      <dt><a>SVGAnimatedLength</a></dt>
      <dt><a>SVGAnimatedAngle</a></dt>
      <dt><a>SVGAnimatedRect</a></dt>
      <dt><a>SVGAnimatedString</a></dt>
      <dt><a>SVGAnimatedNumberList</a></dt>
      <dt><a>SVGAnimatedLengthList</a></dt>
      <dt><a>SVGAnimatedTransformList</a></dt>
      <dd><a href="#TermReserialize">Reserialize</a> the content attribute using
      <var>value</var>'s baseVal member.</dd>

      <dt><a>SVGAnimatedEnumeration</a></dt>
      <dd>
        <ol>
          <li>Let <var>number</var> be the value of <var>value</var>'s
          baseVal member.</li>
          <li>Let <var>keyword</var> be the content attribute's keyword
          value corresponding to <var>number</var>, or the empty string
          if <var>number</var> is 0.
          <p class="note">This means that if the enumeration value is
          somehow set to the "unknown" value, the content attribute will be
          set to the empty string.
          However, this unknown value can never be set directly on the <code>SVGAnimatedEnumeration</code> object;
          it represents an unknown attribute value set in the markup.</p>
          </li>
          <li>Set the content attribute to <var>keyword</var>.</li>
        </ol>
      </dd>

      <dt>boolean</dt>
      <dd>Set the content attribute to "true" if <var>value</var> is true,
      and "false" otherwise.</dd>

      <dt>float</dt>
      <dt>double</dt>
      <dd>Set the content attribute to an implementation specific string
      that, if parsed as a <a>&lt;number&gt;</a> using CSS syntax,
      would return the number value closest to <var>value</var>, given
      the implementation's supported <a href="#Precision">real number precision</a>.</dd>

      <dt><a>SVGLength</a></dt>
      <dd>Set the content attribute to the value that would be returned
      from getting <var>value</var>'s <a href="#__svg__SVGLength__valueAsString">valueAsString</a>
      member.</dd>

      <dt><a>SVGAngle</a></dt>
      <dd>Set the content attribute to the value that would be returned
      from getting <var>value</var>'s <a href="#__svg__SVGAngle__valueAsString">valueAsString</a>
      member.</dd>

      <dt><a>DOMRect</a></dt>
      <dd>
        <ol>
          <li>Let <var>components</var> be a list of four values, being the values of the
          <a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-domrectreadonly-domrect-x">x</a>,
          <a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-domrectreadonly-domrect-y">y</a>,
          <a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-domrectreadonly-domrect-width">width</a> and
          <a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-domrectreadonly-domrect-height">height</a>
          members of <var>value</var>.</li>

          <li>Let <var>serialized components</var> be a list of four strings,
          where each is an implementation specific string that, if parsed
          as a <a>&lt;number&gt;</a> using CSS syntax, would return the number
          value closest to the corresponding value in <var>components</var>, given
          the implementation's supported <a href="#Precision">real number precision</a>.</li>

          <li>Set the content attribute to a string consisting of the strings in
          <var>serialized components</var> joined and separated by single
          U+0020 SPACE characters.</li>
        </ol>
      </dd>

      <dt>DOMString</dt>
      <dd>Set the content attribute to <var>value</var>.</dd>

      <dt><a>SVGNumberList</a></dt>
      <dt><a>SVGLengthList</a></dt>
      <dt><a>SVGPointList</a></dt>
      <dt><a>SVGTransformList</a></dt>
      <dt><a>SVGStringList</a></dt>
      <dd>
        <ol>
          <li>Let <var>elements</var> be the list of values in <var>value</var>.
            <p class="note">The values will be <a>SVGNumber</a>, <a>SVGLength</a>,
            <a>DOMPoint</a> or <a>SVGTransform</a> objects, or <b>DOMString</b> values,
            depending on <var>value</var>'s type.</p>
          </li>

          <li>Let <var>serialized elements</var> be a list of strings, where each
          string is formed based on the corresponding value in <var>elements</var>
          and its type:
            <dl class="switch">
              <dt>an <a>SVGNumber</a> object</dt>
              <dd>The string is an implementation specific string that, if parsed
              as a <a>&lt;number&gt;</a> using CSS syntax, would return the number
              value closest to the <a>SVGNumber</a> object's
              <a href="#__svg__SVGNumber__value">value</a> member, given
              the implementation's supported <a href="#Precision">real number precision</a>.</dd>
              <dt>an <a>SVGLength</a> object</dt>
              <dd>The string is the value that would be returned
              from getting the value's <a href="#__svg__SVGLength__valueAsString">valueAsString</a>
              member.</dd>
              <dt>a <a>DOMPoint</a> object</dt>
              <dd>The string value is computed as follows:
                <ol>
                  <li>Let <var>string</var> be an empty string.</li>
                  <li>Let <var>x</var> and <var>y</var> be the values of the
                  <a>DOMPoint</a> object's x and y coordinates, respectively.</li>
                  <li>Append to <var>string</var> an implementation specific string
                  that, if parsed as <a>&lt;number&gt;</a> using CSS syntax, would return the number
                  value closest to <var>x</var>, given
                  the implementation's supported <a href="#Precision">real number precision</a>.</li>
                  <li>Append a single U+002C COMMA character to <var>string</var>.</li>
                  <li>Append to <var>string</var> an implementation specific string
                  that, if parsed as <a>&lt;number&gt;</a> using CSS syntax, would return the number
                  value closest to <var>y</var>, given
                  the implementation's supported <a href="#Precision">real number precision</a>.</li>
                  <li>The string is <var>string</var>.</li>
                </ol>
              </dd>
              <dt>a <a>SVGTransform</a> object</dt>
              <dd>The string is the <a href="https://drafts.csswg.org/css-transforms-1/#serialization-of-transform-functions">serialization</a>
              of the <a>SVGTransform</a> object's <a href="coords.html#TransformMatrixObject">matrix object</a>.</dd>
              <dt>a <b>DOMString</b></dt>
              <dd>The string is the <b>DOMString</b>'s value itself.</dd>
            </dl>
          </li>

          <li>Set the content attribute to a string consisting of the strings in
          <var>serialized elements</var> joined and separated by single
          U+0020 SPACE characters.</li>
        </ol>
      </dd>
    </dl>
  </li>
</ol>


<h3 id="SVGObjectInitialization">Reflecting an empty initial value</h3>

<p>
When initializing an SVG DOM attribute that <a>reflects</a> a null or empty initial value,
then the property must be initialized according to its data type,
as defined in this section.
This occurs only if there is no explicit value for the reflected content attribute,
and the initial value in the attribute's definition table is <span class="attr-value">(none)</span>.
</p>

<p>
If an interface is not listed below that means
that the object initialization shall be done using the values for the
objects that the interface contains, e.g.,
an <a>SVGAnimatedString</a> consists of two <span class="DOMInterfaceName">DOMString</span> members,
while a <a>DOMRect</a> consists of many <span class="DOMInterfaceName">double</span>s.</p>

<dl id="SVGObjectInitValues">
  <dt class="DOMInterfaceName">DOMString</dt>
  <dd>Initialized as the empty string (<span class="attr-value">""</span>).</dd>

  <dt class="DOMInterfaceName">float</dt>
  <dt class="DOMInterfaceName">long</dt>
  <dt class="DOMInterfaceName">short</dt>
  <dt>Any other <a href="https://heycam.github.io/webidl/#dfn-numeric-type">numeric type</a> defined in WebIDL</dt>
  <dd>Initialized as <span class="attr-value">0</span>.</dd>

  <dt class="DOMInterfaceName">boolean</dt>
  <dd>Initialized as <span class="attr-value">false</span>.</dd>

  <dt class="DOMInterfaceName"><a>SVGLength</a></dt>
  <dd>Initialized as <span class="attr-value">0 user units</span>
  (<a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_NUMBER">SVG_LENGTHTYPE_NUMBER</a>).</dd>

  <dt class="DOMInterfaceName"><a>SVGLengthList</a></dt>
  <dt class="DOMInterfaceName"><a>SVGNumberList</a></dt>
  <dt class="DOMInterfaceName"><a>SVGPointList</a></dt>
  <dt class="DOMInterfaceName"><a>SVGStringList</a></dt>
  <dt class="DOMInterfaceName"><a>SVGTransformList</a></dt>
  <dd>Initialized as the empty list.</dd>

  <dt class="DOMInterfaceName"><a>SVGAngle</a></dt>
  <dd>Initialized as <span class="attr-value">0 in unspecified units</span>
  (<a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNSPECIFIED">SVG_ANGLETYPE_UNSPECIFIED</a>).</dd>

  <dt class="DOMInterfaceName"><a>SVGPreserveAspectRatio</a></dt>
  <dd>Initialized as <span class="attr-value">'xMidYMid meet'</span>.</dd>
</dl>

<p class="example">If <code>textElement.dx.baseVal</code> is accessed
(where <code>textElement</code> is an instance of <a>SVGTextElement</a>)
and the <a>'text/dx'</a> attribute was not specified in the document, the
returned <a>SVGLengthList</a> object would be empty.</p>

<h3 id="InvalidValues">Invalid values</h3>

<p>If a script sets a <a>reflected</a> DOM attribute
to an <a>invalid value</a> for the content attribute (e.g.,
a negative number for an attribute that requires a non-negative
number), unless
this specification indicates otherwise, no exception shall be
raised on setting, but the given document fragment shall become
technically <em>in error</em> as described in
<a href="conform.html#ErrorProcessing">Error processing</a>.</p>

<p class="note">
DOM attributes that reflect enumerated values using integer constants are an exception:
these throw a <a>TypeError</a> when set to an out-of-range integer,
or to the constant (0) that represents an unknown attribute value.
This is consistent with the
<a href="https://heycam.github.io/webidl/#es-enumeration">behavior of the WebIDL enumeration type</a>
[<a href="refs.html#ref-webidl">WebIDL</a>].
</p>



<h2 id="DOMInterfacesForSVGElements">DOM interfaces for SVG elements</h2>

<div class='ready-for-wider-review'>
<h3 id="InterfaceSVGElement">Interface SVGElement</h3>

<p>All of the SVG DOM interfaces that correspond directly to elements in the
SVG language (such as the <a>SVGPathElement</a> interface for the
<a>'path'</a> element) derive from the <a>SVGElement</a> interface.</p>

<p class="note">The CSSOM specification
<a href="http://dev.w3.org/csswg/cssom/#the-elementcssinlinestyle-interface">augments
SVGElement with a style IDL attribute</a>, so that the <a>'style attribute'</a>
attribute can be accessed in the same way as on HTML elements.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGElement</b> : <a>Element</a> {

  [SameObject] readonly attribute <a>SVGAnimatedString</a> <a href="types.html#__svg__SVGElement__className">className</a>;

  readonly attribute <a>SVGSVGElement</a>? <a href="types.html#__svg__SVGElement__ownerSVGElement">ownerSVGElement</a>;
  readonly attribute <a>SVGElement</a>? <a href="types.html#__svg__SVGElement__viewportElement">viewportElement</a>;
};

<a>SVGElement</a> includes <a>GlobalEventHandlers</a>;
<a>SVGElement</a> includes <a>DocumentAndElementEventHandlers</a>;
<a>SVGElement</a> includes <a>SVGElementInstance</a>;
<a>SVGElement</a> includes <a>HTMLOrSVGElement</a>;</pre>

<p>The <b id="__svg__SVGElement__className">className</b> IDL attribute
<a>reflects</a> the <a>'class'</a> attribute.</p>

<div class="note"><p>This attribute is deprecated and may be removed in a
future version of this specification.  Authors are advised to use
Element.classList instead.</p>
<p>
The <a href="types.html#__svg__SVGElement__className">className</a>
attribute on <a>SVGElement</a> overrides the correspond attribute on
<a>Element</a>, following the WebIDL rules for
<a href="https://www.w3.org/TR/WebIDL/#dfn-inherit">inheritance</a>.</p>
</div>

<p>The <b id="__svg__SVGElement__ownerSVGElement">ownerSVGElement</b> IDL attribute
represents the nearest ancestor <a>'svg'</a> element.  On getting
<a href="#__svg__SVGElement__ownerSVGElement">ownerSVGElement</a>,
the nearest ancestor <a>'svg'</a> element is returned; if the current
element is the <a>outermost svg element</a>, then null is returned.</p>

<p>The <b id="__svg__SVGElement__viewportElement">viewportElement</b> IDL attribute
represents the element that provides the SVG viewport for the current element.  On getting
<a href="#__svg__SVGElement__viewportElement">viewport</a>,
the nearest ancestor element that establishes an SVG viewport is returned; if the current
element is the <a>outermost svg element</a>, then null is returned.</p>

<h3 id="InterfaceSVGGraphicsElement">Interface SVGGraphicsElement</h3>

<div class="annotation svg2-requirement">
  <table>
    <tr><th>SVG 2 Requirement:</th>
    <td>Detect if a mouse event is on the fill or stroke of a shape.</td></tr>
    <tr><th>Resolution:</th>
    <td><a href="http://www.w3.org/2012/03/22-svg-irc#T20-20-03">SVG 2 will make it easier to detect if an mouse event is on the stroke or fill of an element.</a></td></tr>
    <tr><th>Purpose:</th>
    <td>To allow authors to discriminate between pointer events on the fill and stroke of an element without having to duplicate the element</td></tr>
    <tr><th>Owner:</th>
    <td>Cameron (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3279">ACTION-3279</a>)</td></tr>
    <tr><th>Status:</th>
    <td>Done.</td></tr>
  </table>
</div>

<p>The <a>SVGGraphicsElement</a> interface represents SVG elements whose primary purpose
is to directly render graphics into a group.</p>

<pre class="idl">dictionary <b id="SVGBoundingBoxOptions">SVGBoundingBoxOptions</b> {
  boolean fill = true;
  boolean stroke = false;
  boolean markers = false;
  boolean clipped = false;
};

[Exposed=Window]
interface <b>SVGGraphicsElement</b> : <a>SVGElement</a> {
  [SameObject] readonly attribute <a>SVGAnimatedTransformList</a> <a href="types.html#__svg__SVGGraphicsElement__transform">transform</a>;

  <a>DOMRect</a> <a href="types.html#__svg__SVGGraphicsElement__getBBox">getBBox</a>(optional <a>SVGBoundingBoxOptions</a> options = {});
  <a>DOMMatrix</a>? <a href="types.html#__svg__SVGGraphicsElement__getCTM">getCTM</a>();
  <a>DOMMatrix</a>? <a href="types.html#__svg__SVGGraphicsElement__getScreenCTM">getScreenCTM</a>();
};

<a>SVGGraphicsElement</a> includes <a>SVGTests</a>;</pre>

<p>The <b id="__svg__SVGGraphicsElement__transform">transform</b> IDL attribute
<a>reflects</a> the computed value of the <a>'transform'</a> property and its
corresponding <span class='attr-name'>'transform'</span> presentation attribute.</p>

<p>The <b id="__svg__SVGGraphicsElement__getBBox">getBBox</b> method is used
to compute the bounding box of the current element.  When the getBBox(<var>options</var>)
method is called, the <a href="coords.html#BoundingBoxes">bounding box algorithm</a>
is invoked for the current element,
with <var>fill</var>, <var>stroke</var>, <var>markers</var>
and <var>clipped</var> members of the <var>options</var> dictionary argument
used to control which parts of the element are included in the bounding box,
using the element's user coordinate system as the coordinate system to return the
bounding box in.  A newly created <a>DOMRect</a> object that defines the
computed bounding box is returned. If <a
href="types.html#__svg__SVGGraphicsElement__getBBox">getBBox</a> gets called on a <a>
non-rendered element</a>, and the UA is not able to compute the geometry of the element, then
throw an <a>InvalidStateError</a>.</p>

<p>The <b id="__svg__SVGGraphicsElement__getCTM">getCTM</b> method is used to
get the matrix that transforms the current element's coordinate system to
its SVG viewport's coordinate system.  When getCTM() is called, the following
steps are run:</p>

<ol class='algorithm'>
  <li>If the current element is not in the document, then return null.</li>
  <li>If the current element is a <a>non-rendered element</a>, and the UA
    is not able to resolve the style of the element, then return null.</li>
  <li>Let <var>ctm</var> be a matrix determined based on what the
  current element is:
    <dl class='switch'>
      <dt>the current element is the <a>outermost svg element</a></dt>
      <dd><var>ctm</var> is a matrix that transforms the coordinate
      space of the <a>'svg'</a> (including its <a>'transform'</a> property)
      to the coordinate space of the document's viewport.  The matrix includes the
      transforms produced by the <a>'viewBox'</a> and <a>'preserveAspectRatio'</a>
      attributes, the <a>'transform'</a> property, and any transform
      due to <a href="struct.html#__svg__SVGSVGElement__currentScale">currentScale</a>
      and <a href="struct.html#__svg__SVGSVGElement__currentTranslate">currentTranslate</a>
      properties on the <a>SVGSVGElement</a>.</dd>
      <dt>any other element</dt>
      <dd><var>ctm</var> is a matrix that transforms the coordinate
      space of the current element (including its <a>'transform'</a>
      property) to the coordinate space of its closest ancestor
      viewport-establishing element (also including its <a>'transform'</a>
      property).</dd>
    </dl>
  </li>
  <li>Return a newly created, <a href="coords.html#MatrixMode">detached</a>
  <a>DOMMatrix</a> object that represents the same matrix as <var>ctm</var>.</li>
</ol>

<p>The <b id="__svg__SVGGraphicsElement__getScreenCTM">getScreenCTM</b> method
is used to get the matrix that transforms the current element's coordinate
system to the coordinate system of the SVG viewport for the SVG document fragment.
When getScreenCTM() is called, the following steps are run:</p>

<ol class='algorithm'>
  <li>If the current element is not in the document, then return null.</li>
  <li>If the current element is a <a>non-rendered element</a>, and the UA
    is not able to resolve the style of the element, then return null.</li>
  <li>Let <var>ctm</var> be a matrix that transforms the coordinate
  space of the current element (including its <a>'transform'</a> property)
  to the coordinate space of the document's viewport.
    <div class='note'>
      <p>This will include:</p>
      <ul>
        <li>all of the transforms from the current element up to the
        <a>outermost svg element</a></li>
        <li>any transforms due to <a>'viewBox'</a>, <a>'preserveAspectRatio'</a>,
        the <a>'transform'</a> property and any transform
        due to <a href="struct.html#__svg__SVGSVGElement__currentScale">currentScale</a>
        and <a href="struct.html#__svg__SVGSVGElement__currentTranslate">currentTranslate</a>
        properties on the <a>SVGSVGElement</a> for the <a>outermost svg element</a></li>
        <li>any transforms from the SVG viewport's coordinate space
        to the document's viewport, i.e. taking into account the positions of
        all of the CSS boxes from the <a>outermost svg element</a>'s box
        to the initial containing block when the SVG document fragment
	is inline in an HTML document</li>
      </ul>
    </div>
  </li>
  <li>Return a newly created, <a href="coords.html#MatrixMode">detached</a>
  <a>DOMMatrix</a> object that represents the same matrix as <var>ctm</var>.</li>
</ol>

<p class='note'>This method would have been more aptly named as <code>getClientCTM</code>,
but the name <code>getScreenCTM</code> is kept for historical reasons.</p>
</div>


<div class="ready-for-wider-review">

<h3 id="InterfaceSVGGeometryElement">Interface SVGGeometryElement</h3>

<p>Interface <a>SVGGeometryElement</a> represents SVG elements whose rendering
is defined by geometry with an <a>equivalent path</a>,
and which can be filled and stroked.
This includes paths and the basic shapes.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGGeometryElement</b> : <a>SVGGraphicsElement</a> {
  [SameObject] readonly attribute <a>SVGAnimatedNumber</a> <a href="types.html#__svg__SVGGeometryElement__pathLength">pathLength</a>;

  boolean <a href="types.html#__svg__SVGGeometryElement__isPointInFill">isPointInFill</a>(optional <a>DOMPointInit</a> point = {});
  boolean <a href="types.html#__svg__SVGGeometryElement__isPointInStroke">isPointInStroke</a>(optional <a>DOMPointInit</a> point = {});
  float <a href="types.html#__svg__SVGGeometryElement__getTotalLength">getTotalLength</a>();
  <a>DOMPoint</a> <a href="types.html#__svg__SVGGeometryElement__getPointAtLength">getPointAtLength</a>(float distance);
};</pre>

<p>The <b id="__svg__SVGGeometryElement__isPointInFill">isPointInFill</b> method,
when invoked, must return true if the point given by <var>point</var> passed to the method,
in the coordinate space of an element, is inside the intended path as determined by the winding
rule indicated by the <a>'fill-rule'</a> property of an element; and must return false otherwise.
Open subpaths must be implicitly closed when computing the area inside the path, without affecting
the actual subpaths. Points on the path itself must be considered to be inside the path.
The returned value is independent of any visual CSS property but <a>'fill-rule'</a>
If either of the <var>x</var> or <var>y</var> properties on <var>point</var> are infinite or NaN,
then the method must return false. If current element is a <a>
non-rendered element</a>, and the UA is not able to compute the geometry of the element, then
throw an <a>InvalidStateError</a>.
</p>

<p class="note"><a>isPointInFill</a> takes the winding
rule indicated by the <a>'fill-rule'</a> property of an element even if the element is a child
of a <a>'clipPath'</a> element.</p>

<p class="note"><a>isPointInFill</a> is aligned
with the <a>isPointInPath</a> method on the <a>CanvasDrawPath</a> mixin as much as the SVG context
allows it to be.</p>

<p>The <b id="__svg__SVGGeometryElement__isPointInStroke">isPointInStroke</b> method,
when invoked, must return true if the point given by <var>point</var> passed to the method,
in the coordinate space of an element, is in or on the outline path of an applied stroke on
an element; and must return false otherwise.
The outline path must take the stroke properties <a>'stroke-width'</a>,
<a>'stroke-linecap'</a>, <a>'stroke-linejoin'</a>, <a>'stroke-miterlimit'</a>, <a>'stroke-dasharray'</a>,
<a>'stroke-dashoffset'</a> and <a>'vector-effect'</a> of an element into account. See sections
<a href="https://svgwg.org/svg2-draft/painting.html#StrokeShape">Computing the shape of the stroke</a> and
<a href="https://svgwg.org/svg2-draft/painting.html#PaintingVectorEffects">Vector effects</a> for details.
The returned value is independent of any visual CSS property but the listed stroke properties.
If either of the <var>x</var> or <var>y</var> properties on <var>point</var> are infinite or NaN,
then the method must return false. If current element is a <a>
non-rendered element</a>, and the UA is not able to compute the geometry of the element, then
throw an <a>InvalidStateError</a>.
</p>

<p class="note"><a href="types.html#__svg__SVGGeometryElement__isPointInStroke">isPointInStroke</a> is aligned
with the <a>isPointInStroke</a> method on the <a>CanvasDrawPath</a> mixin as much as the SVG context
allows it to be.</p>

<p>The <b id="__svg__SVGGeometryElement__pathLength">pathLength</b> IDL attribute
<a>reflects</a> the <a>'pathLength'</a> content attribute.</p>

<p>The <b id="__svg__SVGGeometryElement__getTotalLength">getTotalLength</b> method
is used to compute the length of the path.  When getTotalLength()
is called, the user agent's computed value for the total length of the path,
in user units, is returned. If current element is a <a>
non-rendered element</a>, and the UA is not able to compute the total length of the path, then
throw an <a>InvalidStateError</a>.</p>

<p class="note">The user agent's computed path length does not take the
<a>'pathLength'</a> attribute into account.</p>

<p>The <b id="__svg__SVGGeometryElement__getPointAtLength">getPointAtLength</b> method
is used to return the point at a given distance along the path.  When
getPointAtLength(<var>distance</var>) is called, the following steps are run:</p>

<ol class='algorithm'>
  <li>If current element is a <a>non-rendered element</a>, and the UA is not able to
    compute the total length of the path, then throw an <a>InvalidStateError</a>.</li>
  <li>Let <var>length</var> be the user agent's computed value for the total
  length of the path, in user units.
    <p class="note">As with <a href="#__svg__SVGGeometryElement__getTotalLength">getTotalLength</a>,
    this does not take into account the <a>'pathLength'</a> attribute.</p>
  </li>
  <li>Clamp <var>distance</var> to [0, <var>length</var>].</li>
  <li>Let (<var>x</var>, <var>y</var>) be the point on the path at distance
  <var>distance</var>.</li>
  <li>Return a newly created, <a href="shapes.html#PointMode">detached</a>
  <a>DOMPoint</a> object representing the point
  (<var>x</var>, <var>y</var>).</li>
</ol>

</div>


<h2 id="DOMInterfacesForBasicDataTypes">DOM interfaces for basic data types</h2>

<h3 id="InterfaceSVGNumber">Interface SVGNumber</h3>

<p>The <a>SVGNumber</a> interface is used primarily to represent a <a>&lt;number&gt;</a>
value that is a part of an <a>SVGNumberList</a>.  Individual <a>SVGNumber</a>
objects can also be created by script.</p>

<p id="ReadOnlyNumber" class='ready-for-wider-review'>An <a>SVGNumber</a> object can be designated as <em>read only</em>,
which means that attempts to modify the object will result in an exception
being thrown, as described below.
<a>SVGNumber</a> objects reflected through the animVal IDL attribute are always
<em>read only</em>.</p>

<p id="NumberAssociatedElement">An <a>SVGNumber</a> object can be <em>associated</em>
with a particular element.  The associated element is used to
determine which element's content attribute to update if the object <a>reflects</a>
an attribute.  Unless otherwise described, an <a>SVGNumber</a> object is not
associated with any element.</p>

<div class='ready-for-wider-review'>
<p id="NumberMode">Every <a>SVGNumber</a> object operates in one of two
modes.  It can:</p>

<ol>
  <li><em>reflect an element of the base value</em> of a <a>reflected</a> animatable
  attribute (being exposed through the methods on the
  <a href="types.html#__svg__SVGAnimatedNumberList__baseVal">baseVal</a> member of
  an <a>SVGAnimatedNumberList</a>),</li>
  <li><em>be detached</em>, which is the case for <a>SVGNumber</a> objects created
  with <a href='struct.html#__svg__SVGSVGElement__createSVGNumber'>createSVGNumber</a>.</li>
</ol>
</div>

<p>An <a>SVGNumber</a> object maintains an internal number value,
which is called its <dfn id="NumberValue">value</dfn>.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGNumber</b> {
  attribute float <a href="types.html#__svg__SVGNumber__value">value</a>;
};</pre>

<p>The <b id="__svg__SVGNumber__value">value</b> IDL attribute
represents the number.  On getting <a href="#__svg__SVGNumber__value">value</a>,
the <a>SVGNumber</a>'s <a href='#NumberValue'>value</a> is returned.</p>

<p>On setting <a href="#__svg__SVGNumber__value">value</a>, the following
steps are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGNumber</a> is <a href="#ReadOnlyNumber">read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>Set the <a>SVGNumber</a>'s <a href='#NumberValue'>value</a> to the
  value being assigned to the <a href="#__svg__SVGNumber__value">value</a>
  member.</li>
  <li>If the <a>SVGNumber</a> <a href='#NumberMode'>reflects an element of the
  base value</a> of a <a>reflected</a> attribute, then <a>reserialize</a>
  the reflected attribute.
  </li>
</ol>


<h3 id="InterfaceSVGLength">Interface SVGLength</h3>

<p>The <a>SVGLength</a> interface is used to represent a value that
can be a <a>&lt;length&gt;</a>, <a>&lt;percentage&gt;</a> or
<a>&lt;number&gt;</a> value.</p>

<p id="ReadOnlyLength" class='ready-for-wider-review'>An <a>SVGLength</a> object can be designated as <em>read only</em>,
which means that attempts to modify the object will result in an exception
being thrown, as described below.
<a>SVGLength</a> objects reflected through the animVal IDL attribute are always
<em>read only</em>.</p>

<p id="LengthAssociatedElement">An <a>SVGLength</a> object can be <em>associated</em>
with a particular element, as well as being designated with a <em>directionality</em>:
horizontal, vertical or unspecified.  The associated element and the directionality of the
length are used to resolve percentage values to user units and is also used to
determine which element's content attribute to update if the object <a>reflects</a>
an attribute.  Unless otherwise
described, an <a>SVGLength</a> object is not associated with any element and
has unspecified directionality.</p>

<div class='ready-for-wider-review'>
<p id='LengthMode'>Every <a>SVGLength</a> object operates in one of
four modes.  It can:</p>

<ol>
  <li><em>reflect the base value</em> of a <a>reflected</a> animatable attribute
  (being exposed through the <a href="types.html#__svg__SVGAnimatedLength__baseVal">baseVal</a>
  member of an <a>SVGAnimatedLength</a>),</li>
  <li><em>reflect a presentation attribute value</em>
  (such as by <a href="shapes.html#__svg__SVGRectElement__width">SVGRectElement.width.baseVal</a>),</li>
  <li><em>reflect an element of the base value</em> of a <a>reflected</a> animatable
  attribute (being exposed through the methods on the
  <a href="types.html#__svg__SVGAnimatedLengthList__baseVal">baseVal</a> member of
  an <a>SVGAnimatedLengthList</a>), or</li>
  <li><em>be detached</em>, which is the case for <a>SVGLength</a> objects created
  with <a href='struct.html#__svg__SVGSVGElement__createSVGLength'>createSVGLength</a>.</li>
</ol>
</div>

<p>An <a>SVGLength</a> object maintains an internal <a>&lt;length&gt;</a> or
<a>&lt;percentage&gt;</a> or <a>&lt;number&gt;</a> value, which is called its
<dfn id="LengthValue">value</dfn>.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGLength</b> {

  // Length Unit Types
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_UNKNOWN">SVG_LENGTHTYPE_UNKNOWN</a> = 0;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_NUMBER">SVG_LENGTHTYPE_NUMBER</a> = 1;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_PERCENTAGE">SVG_LENGTHTYPE_PERCENTAGE</a> = 2;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_EMS">SVG_LENGTHTYPE_EMS</a> = 3;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_EXS">SVG_LENGTHTYPE_EXS</a> = 4;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_PX">SVG_LENGTHTYPE_PX</a> = 5;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_CM">SVG_LENGTHTYPE_CM</a> = 6;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_MM">SVG_LENGTHTYPE_MM</a> = 7;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_IN">SVG_LENGTHTYPE_IN</a> = 8;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_PT">SVG_LENGTHTYPE_PT</a> = 9;
  const unsigned short <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_PC">SVG_LENGTHTYPE_PC</a> = 10;

  readonly attribute unsigned short <a href="types.html#__svg__SVGLength__unitType">unitType</a>;
           attribute float <a href="types.html#__svg__SVGLength__value">value</a>;
           attribute float <a href="types.html#__svg__SVGLength__valueInSpecifiedUnits">valueInSpecifiedUnits</a>;
           attribute DOMString <a href="types.html#__svg__SVGLength__valueAsString">valueAsString</a>;

  undefined <a href="types.html#__svg__SVGLength__newValueSpecifiedUnits">newValueSpecifiedUnits</a>(unsigned short unitType, float valueInSpecifiedUnits);
  undefined <a href="types.html#__svg__SVGLength__convertToSpecifiedUnits">convertToSpecifiedUnits</a>(unsigned short unitType);
};</pre>

<p>The numeric length unit type constants defined on <a>SVGLength</a> are used
to represent the type of an <a>SVGLength</a>'s <a href='#LengthValue'>value</a>.
Their meanings are as follows:</p>

<table class='vert'>
  <tr><th>Constant</th><th>Meaning</th></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_NUMBER">SVG_LENGTHTYPE_NUMBER</b></td><td>A unitless <a>&lt;number&gt;</a> interpreted as a value in <span class='prop-value'>px</span>.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_PERCENTAGE">SVG_LENGTHTYPE_PERCENTAGE</b></td><td>A <a>&lt;percentage&gt;</a>.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_EMS">SVG_LENGTHTYPE_EMS</b></td><td>A <a>&lt;length&gt;</a> with an <span class='prop-value'>em</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_EXS">SVG_LENGTHTYPE_EXS</b></td><td>A <a>&lt;length&gt;</a> with an <span class='prop-value'>ex</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_PX">SVG_LENGTHTYPE_PX</b></td><td>A <a>&lt;length&gt;</a> with a <span class='prop-value'>px</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_CM">SVG_LENGTHTYPE_CM</b></td><td>A <a>&lt;length&gt;</a> with a <span class='prop-value'>cm</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_MM">SVG_LENGTHTYPE_MM</b></td><td>A <a>&lt;length&gt;</a> with a <span class='prop-value'>mm</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_IN">SVG_LENGTHTYPE_IN</b></td><td>A <a>&lt;length&gt;</a> with an <span class='prop-value'>in</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_PT">SVG_LENGTHTYPE_PT</b></td><td>A <a>&lt;length&gt;</a> with a <span class='prop-value'>pt</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_PC">SVG_LENGTHTYPE_PC</b></td><td>A <a>&lt;length&gt;</a> with a <span class='prop-value'>pc</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGLength__SVG_LENGTHTYPE_UNKNOWN">SVG_LENGTHTYPE_UNKNOWN</b></td><td>Some other type of value.</td></tr>
</table>

<p class="note">The use of numeric length unit type constants is an anti-pattern and
new constant values will not be introduced for any other units or length types supported by
<a>SVGLength</a>.  If other types of lengths are supported and used, the <a>SVGLength</a>
uses the <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_UNKNOWN">SVG_LENGTHTYPE_UNKNOWN</a>
unit type.  See below for details on how the other properties of an <a>SVGLength</a>
operate with these types of lengths.</p>

<p>The <b id="__svg__SVGLength__unitType">unitType</b> IDL attribute represents
the type of value that the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> is.
On getting <a href='#__svg__SVGLength__unitType'>unitType</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> is a unitless
  <a>&lt;number&gt;</a>, a <a>&lt;percentage&gt;</a>, or a <a>&lt;length&gt;</a>
  with an
  <span class='prop-value'>em</span>,
  <span class='prop-value'>ex</span>,
  <span class='prop-value'>px</span>,
  <span class='prop-value'>cm</span>,
  <span class='prop-value'>mm</span>,
  <span class='prop-value'>in</span>,
  <span class='prop-value'>pt</span> or
  <span class='prop-value'>pc</span> unit, then return the corresponding constant
  value from the length unit type table above.</li>
  <li>Otherwise, return <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_UNKNOWN">SVG_LENGTHTYPE_UNKNOWN</a>.
    <p class='note'>For example, for a <a>&lt;length&gt;</a> with a <span class='prop-value'>ch</span>
    unit or one that has a non-scalar value such as <span class='attr-value'>calc()</span>,
    <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_UNKNOWN">SVG_LENGTHTYPE_UNKNOWN</a>
    would be returned.</p>
  </li>
</ol>

<p>The <b id="__svg__SVGLength__value">value</b> IDL attribute represents
the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> in user units.
On getting <a href='#__svg__SVGLength__value'>value</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the <a>SVGLength</a>'s <a href='#LengthValue'>value</a>.</li>
  <li>If <var>value</var> is a <a>&lt;number&gt;</a>, return that number.</li>
  <li>Let <var>viewport size</var> be a basis to resolve percentages against, based on the <a>SVGLength</a>'s
  <a href='#LengthAssociatedElement'>associated element</a> and
  <a href='#LengthAssociatedElement'>directionality</a>:
    <dl class='switch'>
      <dt>has no <a href='#LengthAssociatedElement'>associated element</a></dt>
      <dd><var>size</var> is 100</dd>
      <dt>has an <a href='#LengthAssociatedElement'>associated element</a> and horizontal <a href='#LengthAssociatedElement'>directionality</a></dt>
      <dd><var>size</var> is the width of the <a href='#LengthAssociatedElement'>associated element</a>'s SVG viewport</dd>
      <dt>has an <a href='#LengthAssociatedElement'>associated element</a> and vertical <a href='#LengthAssociatedElement'>directionality</a></dt>
      <dd><var>size</var> is the height of the <a href='#LengthAssociatedElement'>associated element</a>'s SVG viewport</dd>
      <dt>has an <a href='#LengthAssociatedElement'>associated element</a> and unspecified <a href='#LengthAssociatedElement'>directionality</a></dt>
      <dd><var>size</var> is the length of the <a href='#LengthAssociatedElement'>associated element</a>'s SVG viewport
      diagonal (see <a href='coords.html#Units'>Units</a>)</dd>
    </dl>
  </li>
  <li>Let <var>font size</var> be a basis to resolve font size values against,
  based on the <a>SVGLength</a>'s <a href='#LengthAssociatedElement'>associated element</a>:
    <dl class='switch'>
      <dt>has no <a href='#LengthAssociatedElement'>associated element</a></dt>
      <dd><var>font size</var> is the absolute length of the initial value of the <a>'font-size'</a> property</dd>
      <dt>has an <a href='#LengthAssociatedElement'>associated element</a></dt>
      <dd><var>size</var> is the computed value of the <a href='#LengthAssociatedElement'>associated element</a>'s <a>'font-size'</a> property</dd>
    </dl>
  </li>
  <li>Return the result of converting <var>value</var> to an absolute length,
  using <var>viewport size</var> and <var>font size</var> as percentage and font size
  bases.  If the conversion is not possible due to the lack of an
  <a href='#LengthAssociatedElement'>associated element</a>, return 0.</li>
</ol>

<p>On setting <a href='#__svg__SVGLength__value'>value</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGLength</a> object is <a href='#ReadOnlyLength'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>Let <var>value</var> be the value being assigned to
  <a href='#__svg__SVGLength__value'>value</a>.</li>
  <li>Set the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> to a
  <a>&lt;number&gt;</a> whose value is <var>value</var>.</li>
  <li>If the <a>SVGLength</a>
  <a href='#LengthMode'>reflects the base value</a> of a <a>reflected</a> attribute,
  <a href='#LengthMode'>reflects a presentation attribute</a>, or
  <a href='#LengthMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>

<p>The <b id="__svg__SVGLength__valueInSpecifiedUnits">valueInSpecifiedUnits</b> IDL attribute represents
the numeric factor of the <a>SVGLength</a>'s <a href='#LengthValue'>value</a>.
On getting <a href='#__svg__SVGLength__valueInSpecifiedUnits'>valueInSpecifiedUnits</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the <a>SVGLength</a>'s <a href='#LengthValue'>value</a>.</li>
  <li>If <var>value</var> is a <a>&lt;number&gt;</a>, return that number.</li>
  <li>Otherwise, if <var>value</var> is a <a>&lt;percentage&gt;</a> or any scalar <a>&lt;length&gt;</a>
  value, return the numeric factor before its unit.</li>
  <li>Otherwise, return 0.
    <p class='note'>Thus <a href='#__svg__SVGLength__valueInSpecifiedUnits'>valueInSpecifiedUnits</a>
    would return 12 for both <span class='attr-value'>'12%'</span> and
    <span class='attr-value'>12em</span>, but
    0 would be returned for non-scalar values like
    <span class='attr-value'>calc(12px + 5%)</span>.</p>
  </li>
</ol>

<p>On setting <a href='#__svg__SVGLength__valueInSpecifiedUnits'>valueInSpecifiedUnits</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGLength</a> object is <a href='#ReadOnlyLength'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>Let <var>value</var> be the value being assigned to
  <a href='#__svg__SVGLength__valueInSpecifiedUnits'>valueInSpecifiedUnits</a>.</li>
  <li>If the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> is a
  <a>&lt;number&gt;</a>, then update its value to <var>value</var>.</li>
  <li>Otherwise, if the <a>SVGLength</a>'s <a href='#LengthValue'>value</a>
  is a <a>&lt;percentage&gt;</a> or a scalar-valued <a>&lt;length&gt;</a>,
  then update its numeric factor to <var>value</var>.</li>
  <li>Otherwise, the <a>SVGLength</a>'s <a href='#LengthValue'>value</a>
  is of some other type.  Set it to a <a>&lt;number&gt;</a>
  whose value is <var>value</var>.</li>
  <li>If the <a>SVGLength</a>
  <a href='#LengthMode'>reflects the base value</a> of a <a>reflected</a> attribute or
  <a href='#LengthMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>

<p>The <b id="__svg__SVGLength__valueAsString">valueAsString</b> IDL attribute represents
the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> as a string.
On getting <a href='#__svg__SVGLength__valueAsString'>valueAsString</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the <a>SVGLength</a>'s <a href='#LengthValue'>value</a>.</li>
  <li>Let <var>string</var> be an empty string.</li>
  <li>If <var>value</var> is a <a>&lt;number&gt;</a>, <a>&lt;percentage&gt;</a>
  or scalar <a>&lt;length&gt;</a> value, then:
    <ol>
      <li>Let <var>factor</var> be <var>value</var>'s numeric factor,
      if it is a <a>&lt;percentage&gt;</a> or <a>&lt;length&gt;</a>,
      or <var>value</var> itself it is a <a>&lt;number&gt;</a>.</li>
      <li>Append to <var>string</var> an implementation
      specific string that, if parsed as a <a>&lt;number&gt;</a> using CSS syntax,
      would return the number value closest to <var>factor</var>, given the
      implementation's supported <a href="#Precision">real number precision</a>.</li>
      <li>If <var>value</var> is a <a>&lt;percentage&gt;</a> then append to
      <var>string</var> a single U+0025 PERCENT SIGN character.</li>
      <li>Otherwise, if <var>value</var> is a <a>&lt;length&gt;</a>,
      then append to <var>string</var> the canonical spelling of
      <var>value</var>'s unit.</li>
      <li>Return <var>string</var>.</li>
    </ol>
  </li>
  <li>Otherwise, return an implementation specific string that,
  if parsed as a <a>&lt;length&gt;</a>, would return the closest
  length value to <var>value</var>, given the
  implementation's supported <a href="#Precision">real number precision</a>.</li>
</ol>

<p>On setting <a href='#__svg__SVGLength__valueAsString'>valueAsString</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGLength</a> object is <a href='#ReadOnlyLength'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>Let <var>value</var> be the value being assigned to
  <a href='#__svg__SVGLength__valueAsString'>valueAsString</a>.</li>
  <li>Parse <var>value</var> using the CSS syntax
  [ <a>&lt;number&gt;</a> | <a>&lt;length&gt;</a> | <a>&lt;percentage&gt;</a> ].</li>
  <li>If parsing failed, then <a>throw</a> a <a>SyntaxError</a>.</li>
  <li>Otherwise, parsing succeeded.  Set <a>SVGLength</a>'s <a href='#LengthValue'>value</a>
  to the parsed value.</li>
  <li>If the <a>SVGLength</a>
  <a href='#LengthMode'>reflects the base value</a> of a <a>reflected</a> attribute or
  <a href='#LengthMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>

<p>The <b id="__svg__SVGLength__newValueSpecifiedUnits">newValueSpecifiedUnits</b>
method is used to set the <a>SVGLength</a>'s value in a typed manner.  When
newValueSpecifiedUnits(unitType, valueInSpecifiedUnits) is called, the following
steps are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGLength</a> object is <a href='#ReadOnlyLength'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>If <var>unitType</var> is
  <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_UNKNOWN">SVG_LENGTHTYPE_UNKNOWN</a>
  or is a value that does not appear in the length unit type table above,
  then <a>throw</a> a <a>NotSupportedError</a>.</li>
  <li>Set <a>SVGLength</a>'s <a href='#LengthValue'>value</a> depending
  on the value of <var>unitType</var>:
    <dl class='switch'>
      <dt><a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_NUMBER">SVG_LENGTHTYPE_NUMBER</a></dt>
      <dd>a <a>&lt;number&gt;</a> whose value is <var>valueInSpecifiedUnits</var></dd>
      <dt><a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_PERCENTAGE">SVG_LENGTHTYPE_PERCENTAGE</a></dt>
      <dd>a <a>&lt;percentage&gt;</a> whose numeric factor is <var>valueInSpecifiedUnits</var></dd>
      <dt>anything else</dt>
      <dd>a <a>&lt;length&gt;</a> whose numeric factor is <var>valueInSpecifiedUnits</var>
      and whose unit is as indicated by the length unit type table above</dd>
    </dl>
  </li>
  <li>If the <a>SVGLength</a>
  <a href='#LengthMode'>reflects the base value</a> of a <a>reflected</a> attribute or
  <a href='#LengthMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>

<p>The <b id="__svg__SVGLength__convertToSpecifiedUnits">convertToSpecifiedUnits</b>
method is used to convert the <a>SVGLength</a>'s value to a specific type.
When convertToSpecifiedUnits(unitType) is called, the following steps are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGLength</a> object is <a href='#ReadOnlyLength'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>If <var>unitType</var> is
  <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_UNKNOWN">SVG_LENGTHTYPE_UNKNOWN</a>
  or is a value that does not appear in the length unit type table above,
  then <a>throw</a> a <a>NotSupportedError</a>.</li>
  <li>Let <var>absolute</var> be the value that would be returned from the
  <a href='#__svg__SVGLength__value'>value</a> member.</li>
  <li>If <var>unitType</var> is <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_NUMBER">SVG_LENGTHTYPE_NUMBER</a>, then:
    <ol>
      <li>Set the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> to a <a>&lt;number&gt;</a>
      whose value is <var>absolute</var>.</li>
    </ol>
  </li>
  <li>Otherwise, if <var>unitType</var> is <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_PERCENTAGE">SVG_LENGTHTYPE_PERCENTAGE</a>, then:
    <ol>
      <li>Let <var>viewport size</var> be a basis to resolve percentages against, based on the <a>SVGLength</a>'s
      <a href='#LengthAssociatedElement'>associated element</a> and
      <a href='#LengthAssociatedElement'>directionality</a>:
        <dl class='switch'>
          <dt>has no <a href='#LengthAssociatedElement'>associated element</a></dt>
          <dd><var>size</var> is 100</dd>
          <dt>has an <a href='#LengthAssociatedElement'>associated element</a> and horizontal <a href='#LengthAssociatedElement'>directionality</a></dt>
          <dd><var>size</var> is the width of the <a href='#LengthAssociatedElement'>associated element</a>'s SVG viewport</dd>
          <dt>has an <a href='#LengthAssociatedElement'>associated element</a> and vertical <a href='#LengthAssociatedElement'>directionality</a></dt>
          <dd><var>size</var> is the height of the <a href='#LengthAssociatedElement'>associated element</a>'s SVG viewport</dd>
          <dt>has an <a href='#LengthAssociatedElement'>associated element</a> and unspecified <a href='#LengthAssociatedElement'>directionality</a></dt>
          <dd><var>size</var> is the length of the <a href='#LengthAssociatedElement'>associated element</a>'s SVG viewport
          diagonal (see <a href='coords.html#Units'>Units</a>)</dd>
        </dl>
      </li>
      <li>Set the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> to the result of
      converting <var>absolute</var> to a <a>&lt;percentage&gt;</a>, using <var>viewport size</var>
      as the percentage basis.</li>
    </ol>
  </li>
  <li>Otherwise, if <var>unitType</var> is <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_EMS">SVG_LENGTHTYPE_EMS</a>
  or <a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_EXS">SVG_LENGTHTYPE_EXS</a>, then:
    <ol>
      <li>Let <var>font size</var> be a basis to resolve font size values against,
      based on the <a>SVGLength</a>'s <a href='#LengthAssociatedElement'>associated element</a>:
        <dl class='switch'>
          <dt>has no <a href='#LengthAssociatedElement'>associated element</a></dt>
          <dd><var>font size</var> is the absolute length of the initial value of the <a>'font-size'</a> property</dd>
          <dt>has an <a href='#LengthAssociatedElement'>associated element</a></dt>
          <dd><var>size</var> is the computed value of the <a href='#LengthAssociatedElement'>associated element</a>'s <a>'font-size'</a> property</dd>
        </dl>
      </li>
      <li>Set the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> to the result of
      converting <var>absolute</var> to a <a>&lt;length&gt;</a> with an <span class='prop-value'>em</span>
      or <span class='prop-value'>ex</span> unit (depending on <var>unitType</var>),
      using <var>font size</var> as the <a>'font-size'</a> basis.</li>
    </ol>
  </li>
  <li>Otherwise:
    <ol>
      <li>Set the <a>SVGLength</a>'s <a href='#LengthValue'>value</a> to the result of
      converting <var>absolute</var> to a <a>&lt;length&gt;</a> with the unit
      found by looking up <var>unitType</var> in the length unit type table above.</li>
    </ol>
  </li>
  <li>If the <a>SVGLength</a>
  <a href='#LengthMode'>reflects the base value</a> of a <a>reflected</a> attribute or
  <a href='#LengthMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>


<h3 id="InterfaceSVGAngle">Interface SVGAngle</h3>

<p>The <a>SVGAngle</a> interface is used to represent a value that
can be an <a>&lt;angle&gt;</a> or <a>&lt;number&gt;</a> value.</p>

<p id="ReadOnlyAngle" class='ready-for-wider-review'>An <a>SVGAngle</a> object can be designated as <em>read only</em>,
which means that attempts to modify the object will result in an exception
being thrown, as described below. An <a>SVGAngle</a> reflected through the
animVal attribute is always <em>read only</em>.</p>

<p id="AngleAssociatedElement">An <a>SVGAngle</a> object can be <em>associated</em>
with a particular element.  The associated element is used to
determine which element's content attribute to update if the object <a>reflects</a>
an attribute.  Unless otherwise described, an <a>SVGAngle</a> object is not
associated with any element.</p>

<div class='ready-for-wider-review'>
<p id='AngleMode'>Every <a>SVGAngle</a> object operates in one of
two modes.  It can:</p>

<ol>
  <li><em>reflect the base value</em> of a <a>reflected</a> animatable attribute
  (being exposed through the <a href="types.html#__svg__SVGAnimatedAngle__baseVal">baseVal</a>
  member of an <a>SVGAnimatedAngle</a>),</li>
  <li><em>be detached</em>, which is the case for <a>SVGAngle</a> objects created
  with <a href='struct.html#__svg__SVGSVGElement__createSVGAngle'>createSVGAngle</a>.</li>
</ol>
</div>

<p>An <a>SVGAngle</a> object maintains an internal <a>&lt;angle&gt;</a> or
<a>&lt;number&gt;</a> value, which is called its <dfn id="AngleValue">value</dfn>.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAngle</b> {

  // Angle Unit Types
  const unsigned short <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNKNOWN">SVG_ANGLETYPE_UNKNOWN</a> = 0;
  const unsigned short <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNSPECIFIED">SVG_ANGLETYPE_UNSPECIFIED</a> = 1;
  const unsigned short <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_DEG">SVG_ANGLETYPE_DEG</a> = 2;
  const unsigned short <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_RAD">SVG_ANGLETYPE_RAD</a> = 3;
  const unsigned short <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_GRAD">SVG_ANGLETYPE_GRAD</a> = 4;

  readonly attribute unsigned short <a href="types.html#__svg__SVGAngle__unitType">unitType</a>;
           attribute float <a href="types.html#__svg__SVGAngle__value">value</a>;
           attribute float <a href="types.html#__svg__SVGAngle__valueInSpecifiedUnits">valueInSpecifiedUnits</a>;
           attribute DOMString <a href="types.html#__svg__SVGAngle__valueAsString">valueAsString</a>;

  undefined <a href="types.html#__svg__SVGAngle__newValueSpecifiedUnits">newValueSpecifiedUnits</a>(unsigned short unitType, float valueInSpecifiedUnits);
  undefined <a href="types.html#__svg__SVGAngle__convertToSpecifiedUnits">convertToSpecifiedUnits</a>(unsigned short unitType);
};</pre>

<p>The numeric angle unit type constants defined on <a>SVGAngle</a> are used
to represent the type of an <a>SVGAngle</a>'s <a href='#AngleValue'>value</a>.
Their meanings are as follows:</p>

<table class='vert'>
  <tr><th>Constant</th><th>Meaning</th></tr>
  <tr><td><b id="__svg__SVGAngle__SVG_ANGLETYPE_UNSPECIFIED">SVG_ANGLETYPE_UNSPECIFIED</b></td><td>A unitless <a>&lt;number&gt;</a> interpreted as a value in degrees.</td></tr>
  <tr><td><b id="__svg__SVGAngle__SVG_ANGLETYPE_DEG">SVG_ANGLETYPE_DEG</b></td><td>An <a>&lt;angle&gt;</a> with a <span class='prop-value'>deg</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGAngle__SVG_ANGLETYPE_RAD">SVG_ANGLETYPE_RAD</b></td><td>An <a>&lt;angle&gt;</a> with a <span class='prop-value'>rad</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGAngle__SVG_ANGLETYPE_GRAD">SVG_ANGLETYPE_GRAD</b></td><td>An <a>&lt;angle&gt;</a> with a <span class='prop-value'>grad</span> unit.</td></tr>
  <tr><td><b id="__svg__SVGAngle__SVG_ANGLETYPE_UNKNOWN">SVG_ANGLETYPE_UNKNOWN</b></td><td>Some other type of value.</td></tr>
</table>

<p class="note">The use of numeric angle unit type constants is an anti-pattern and
new constant values will not be introduced for any other units or angle types supported by
<a>SVGAngle</a>.  If other types of angles are supported and used, the <a>SVGAngle</a>
uses the <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNKNOWN">SVG_ANGLETYPE_UNKNOWN</a>
unit type.  See below for details on how the other properties of an <a>SVGAngle</a>
operate with these types of angles.</p>

<p>The <b id="__svg__SVGAngle__unitType">unitType</b> IDL attribute represents
the type of value that the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> is.
On getting <a href='#__svg__SVGAngle__unitType'>unitType</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> is a unitless
  <a>&lt;number&gt;</a> or a <a>&lt;length&gt;</a> with a
  <span class='prop-value'>deg</span>,
  <span class='prop-value'>rad</span> or
  <span class='prop-value'>grad</span> unit, then return the corresponding constant
  value from the angle unit type table above.</li>
  <li>Otherwise, return <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNKNOWN">SVG_ANGLETYPE_UNKNOWN</a>.
    <p class='note'>For example, for an <a>&lt;angle&gt;</a> with a <span class='prop-value'>turn</span>
    unit, <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNKNOWN">SVG_ANGLETYPE_UNKNOWN</a>
    would be returned.</p>
  </li>
</ol>

<p>The <b id="__svg__SVGAngle__value">value</b> IDL attribute represents
the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> in degrees.
On getting <a href='#__svg__SVGAngle__value'>value</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a>.</li>
  <li>If <var>value</var> is a <a>&lt;number&gt;</a>, return that number.</li>
  <li>Return the result of converting <var>value</var> to an angle in degrees.</li>
</ol>

<p>On setting <a href='#__svg__SVGAngle__value'>value</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGAngle</a> object is <a href='#ReadOnlyAngle'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>Let <var>value</var> be the value being assigned to
  <a href='#__svg__SVGAngle__value'>value</a>.</li>
  <li>Set the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> to a
  <a>&lt;number&gt;</a> whose value is <var>value</var>.</li>
  <li>If the <a>SVGAngle</a>
  <a href='#AngleMode'>reflects the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>

<p>The <b id="__svg__SVGAngle__valueInSpecifiedUnits">valueInSpecifiedUnits</b> IDL attribute represents
the numeric factor of the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a>.
On getting <a href='#__svg__SVGAngle__valueInSpecifiedUnits'>valueInSpecifiedUnits</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a>.</li>
  <li>If <var>value</var> is a <a>&lt;number&gt;</a>, return that number.</li>
  <li>Otherwise, <var>value</var> is an <a>&lt;angle&gt;</a> value.  Return
  the numeric factor before its unit.</li>
</ol>

<p>On setting <a href='#__svg__SVGAngle__valueInSpecifiedUnits'>valueInSpecifiedUnits</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGAngle</a> object is <a href='#ReadOnlyAngle'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>Let <var>value</var> be the value being assigned to
  <a href='#__svg__SVGAngle__valueInSpecifiedUnits'>valueInSpecifiedUnits</a>.</li>
  <li>If the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> is a
  <a>&lt;number&gt;</a>, then update its value to <var>value</var>.</li>
  <li>Otherwise, if the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a>
  is an <a>&lt;angle&gt;</a>,
  then update its numeric factor to <var>value</var>.</li>
  <li>If the <a>SVGAngle</a>
  <a href='#AngleMode'>reflects the base value</a> of a <a>reflected</a> attribute or
  <a href='#AngleMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>

<p>The <b id="__svg__SVGAngle__valueAsString">valueAsString</b> IDL attribute represents
the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> as a string.
On getting <a href='#__svg__SVGAngle__valueAsString'>valueAsString</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a>.</li>
  <li>Let <var>string</var> be an empty string.</li>
  <li>Let <var>factor</var> be <var>value</var>'s numeric factor,
  if it is an <a>&lt;angle&gt;</a>,
  or <var>value</var> itself it is a <a>&lt;number&gt;</a>.</li>
  <li>Append to <var>string</var> an implementation
  specific string that, if parsed as a <a>&lt;number&gt;</a> using CSS syntax,
  would return the number value closest to <var>factor</var>, given the
  implementation's supported <a href="#Precision">real number precision</a>.</li>
  <li>If <var>value</var> is an <a>&lt;angle&gt;</a>,
  then append to <var>string</var> the canonical spelling of
  <var>value</var>'s unit.</li>
  <li>Return <var>string</var>.</li>
</ol>

<p>On setting <a href='#__svg__SVGAngle__valueAsString'>valueAsString</a>, the following steps
are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGAngle</a> object is <a href='#ReadOnlyAngle'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>Let <var>value</var> be the value being assigned to
  <a href='#__svg__SVGAngle__valueAsString'>valueAsString</a>.</li>
  <li>Parse <var>value</var> using the CSS syntax
  [ <a>&lt;number&gt;</a> | <a>&lt;angle&gt;</a> ].</li>
  <li>If parsing failed, then <a>throw</a> a <a>SyntaxError</a>.</li>
  <li>Otherwise, parsing succeeded.  Set <a>SVGAngle</a>'s <a href='#AngleValue'>value</a>
  to the parsed value.</li>
  <li>If the <a>SVGAngle</a>
  <a href='#AngleMode'>reflects the base value</a> of a <a>reflected</a> attribute or
  <a href='#AngleMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>

<p>The <b id="__svg__SVGAngle__newValueSpecifiedUnits">newValueSpecifiedUnits</b>
method is used to set the <a>SVGAngle</a>'s value in a typed manner.  When
newValueSpecifiedUnits(unitType, valueInSpecifiedUnits) is called, the following
steps are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGAngle</a> object is <a href='#ReadOnlyAngle'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>If <var>unitType</var> is
  <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNKNOWN">SVG_ANGLETYPE_UNKNOWN</a>
  or is a value that does not appear in the angle unit type table above,
  then <a>throw</a> a <a>NotSupportedError</a>.</li>
  <li>Set <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> depending
  on the value of <var>unitType</var>:
    <dl class='switch'>
      <dt><a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNSPECIFIED">SVG_ANGLETYPE_UNSPECIFIED</a></dt>
      <dd>a <a>&lt;number&gt;</a> whose value is <var>valueInSpecifiedUnits</var></dd>
      <dt>anything else</dt>
      <dd>an <a>&lt;angle&gt;</a> whose numeric factor is <var>valueInSpecifiedUnits</var>
      and whose unit is as indicated by the angle unit type table above</dd>
    </dl>
  </li>
  <li>If the <a>SVGAngle</a>
  <a href='#AngleMode'>reflects the base value</a> of a <a>reflected</a> attribute or
  <a href='#AngleMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>

<p>The <b id="__svg__SVGAngle__convertToSpecifiedUnits">convertToSpecifiedUnits</b>
method is used to convert the <a>SVGAngle</a>'s value to a specific type.
When convertToSpecifiedUnits(unitType) is called, the following steps are run:</p>

<ol class='algorithm'>
  <li>If the <a>SVGAngle</a> object is <a href='#ReadOnlyAngle'>read only</a>, then
  <a>throw</a> a <a>NoModificationAllowedError</a>.</li>
  <li>If <var>unitType</var> is
  <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNKNOWN">SVG_ANGLETYPE_UNKNOWN</a>
  or is a value that does not appear in the angle unit type table above,
  then <a>throw</a> a <a>NotSupportedError</a>.</li>
  <li>Let <var>degrees</var> be the value that would be returned from the
  <a href='#__svg__SVGAngle__value'>value</a> member.</li>
  <li>If <var>unitType</var> is <a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNSPECIFIED">SVG_ANGLETYPE_UNSPECIFIED</a>, then:
    <ol>
      <li>Set the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> to a <a>&lt;number&gt;</a>
      whose value is <var>degrees</var>.</li>
    </ol>
  </li>
  <li>Otherwise:
    <ol>
      <li>Set the <a>SVGAngle</a>'s <a href='#AngleValue'>value</a> to the result of
      converting <var>degrees</var> to an <a>&lt;angle&gt;</a> with the unit
      found by looking up <var>unitType</var> in the angle unit type table above.</li>
    </ol>
  </li>
  <li>If the <a>SVGAngle</a>
  <a href='#AngleMode'>reflects the base value</a> of a <a>reflected</a> attribute or
  <a href='#AngleMode'>reflects an element of the base value</a> of a <a>reflected</a> attribute,
  then <a>reserialize</a> the reflected attribute.
  </li>
</ol>


<h3 id="ListInterfaces">List interfaces</h3>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Make the SVGList* interfaces a bit more like other lists/arrays.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2011/02/28-svg-minutes.html#item04">Add array style indexing and .length and .item to svg list types.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>To align with other array types (e.g. NodeList).  Already implemented in Opera and Firefox.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Erik (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/2975">ACTION-2975</a>)</td>
    </tr>
    <tr>
      <th>Status:</th>
      <td>Done</td>
    </tr>
  </table>
</div>

<p>Some SVG attributes contain lists of values, and to represent these values
there are a number of SVG DOM <dfn id="TermListInterface" data-dfn-type="dfn" data-export="">list interfaces</dfn>, one
for each required element type  <a>SVGNumberList</a>, <a>SVGLengthList</a>,
<a>SVGPointList</a>, <a>SVGTransformList</a> and <a>SVGStringList</a>.
The first four are used to represent the base and
animated components of <a>SVGAnimatedNumberList</a>, <a>SVGAnimatedLengthList</a>,
<a>SVGAnimatedPoints</a> and <a>SVGTransformList</a> objects,
while the fifth, <a>SVGStringList</a>, is used to <a>reflect</a> a
few unanimated attributes that take a list of strings.</p>

<p>Most <a>list interfaces</a> take the following form:</p>

<pre class="example">interface <b>SVG<var>Name</var>List</b> {

  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__length">length</a>;
  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__numberOfItems">numberOfItems</a>;

  undefined <a href="types.html#__svg__SVGNameList__clear">clear</a>();
  <var>Type</var> <a href="types.html#__svg__SVGNameList__initialize">initialize</a>(<var>Type</var> newItem);
  getter <var>Type</var> <a href="types.html#__svg__SVGNameList__getItem">getItem</a>(unsigned long index);
  <var>Type</var> <a href="types.html#__svg__SVGNameList__insertItemBefore">insertItemBefore</a>(<var>Type</var> newItem, unsigned long index);
  <var>Type</var> <a href="types.html#__svg__SVGNameList__replaceItem">replaceItem</a>(<var>Type</var> newItem, unsigned long index);
  <var>Type</var> <a href="types.html#__svg__SVGNameList__removeItem">removeItem</a>(unsigned long index);
  <var>Type</var> <a href="types.html#__svg__SVGNameList__appendItem">appendItem</a>(<var>Type</var> newItem);
  <a href="#__svg__SVGNameList__setter">setter</a> undefined (unsigned long index, <var>Type</var> newItem);
};</pre>

<p>where <var>Name</var> is a descriptive name for the list element's
("Number", "Length", "Point", "Transform" or "String") and <var>Type</var> is the IDL type of the
list's elements (<a>SVGNumber</a>, <a>SVGLength</a>, <a>DOMPoint</a>, <a>SVGTransform</a> or <b>DOMString</b>).</p>

<p>The <a>SVGTransformList</a> interface takes the above form but has
two additional methods on it.</p>

<p class='ready-for-wider-review'>All <a>list interface</a> objects apart from <a>SVGTransformList</a>
reflect the base value of a reflected content
attribute.  <a>SVGTransformList</a> objects reflect a presentation
attribute (<span class='attr-name'>'transform'</span>,
<a>'linearGradient/gradientTransform'</a> or <a>'pattern/patternTransform'</a>).
All <a>list interface</a> objects are associated with a particular element.
Unlike <a>SVGLength</a> and similar objects, there are no "detached"
<a>list interface</a> objects.</p>

<p>A <a>list interface</a> object maintains an internal list of elements,
which is referred to in the text below simply as "the list".
The IDL attributes and methods are used to inspect and manipulate elements
of the list.  The list can also be changed in response to
changes to the reflected content attribute and to animation of
the content attribute (or, for <a>SVGTransformList</a> objects,
in response to changes to the computed value of the <a>'transform'</a>
property).</p>

<p id="ReadOnlyList" class='ready-for-wider-review'>A <a>list interface</a> object can be designated as
<em>read only</em>, which means that attempts to modify the object will result
in an exception being thrown, as described below. <a>List interface</a> objects
reflected through the animVal IDL attribute are always <em>read only</em>.</p>

<p id="ListSynchronize">A <a>list interface</a> object
is <dfn id="TermSynchronizeList" data-dfn-type="dfn" data-export="">synchronized</dfn> by running
the following steps:</p>

<ol class='algorithm'>
  <li class='ready-for-wider-review'>Let <var>value</var> be the base value of the
    reflected content attribute (using the attribute's <a>initial value</a>
    if it is not present or invalid).</li>
  <li>Let <var>length</var> be the number of items in the list.</li>
  <li>Let <var>new length</var> be the number of values in <var>value</var>.
  If <var>value</var> is the keyword <span class='prop-value'>none</span>
  (as supported by the <a>'transform'</a> property), <var>new length</var>
  is 0.</li>

  <li>If the list element type is <a>SVGNumber</a>, <a>SVGLength</a>, <a>DOMPoint</a> or <a>SVGTransform</a>, then:
    <ol>
      <li>If <var>length</var> &gt; <var>new length</var>, then:
        <ol>
          <li><a>Detach</a> each object in the list at an index
          greater than or equal to <var>new length</var>.</li>
          <li>Truncate the list to length <var>new length</var>.</li>
          <li>Set <var>length</var> to <var>new length</var>.</li>
        </ol>
      </li>
      <li>While <var>length</var> &lt; <var>new length</var>:
        <ol>
          <li>Let <var>item</var> be a newly created
          object of the list element type.</li>
          <li><a>Attach</a> <var>item</var> to this <a>list interface</a>
          object.</li>
          <li>Append <var>item</var> to the list.</li>
          <li>Set <var>length</var> to <var>length</var> + 1.</li>
        </ol>
      </li>
      <li>Let <var>index</var> be 0.</li>
      <li>While <var>index</var> &lt; <var>length</var>:
        <ol>
          <li>Let <var>item</var> be the object in the list at index
          <var>index</var>.</li>
          <li>Let <var>v</var> be the value in <var>value</var> at index
          <var>index</var>.</li>
          <li>Set <var>item</var>'s value to <var>v</var>.</li>
          <li>If <var>item</var> is an <a>SVGTransform</a> object, then
          set the components of its <a href="coords.html#TransformMatrixObject">matrix object</a>
          to match the new transform function value.</li>
          <li>Set <var>index</var> to <var>index</var> + 1.</li>
        </ol>
      </li>
    </ol>
  </li>
  <li>Otherwise, the list element type is <b>DOMString</b>:
    <ol>
      <li>Replace the list with a new list consisting
      of the values in <var>value</var>.</li>
    </ol>
  </li>
</ol>

<p>Whenever a list element object is to be <dfn id="TermDetach" data-dfn-type="dfn" data-export="">detached</dfn>,
the following steps are run, depending on the list element type:</p>

<dl class='switch'>
  <dt><a>SVGNumber</a></dt>
  <dd>
    Set the <a>SVGNumber</a> to no longer be
    <a href="#NumberAssociatedElement">associated</a> with any element.
    If the <a>SVGNumber</a> is <a href='#ReadOnlyNumber'>read only</a>,
    set it to be no longer read only.
  </dd>
  <dt><a>SVGLength</a></dt>
  <dd>
    Set the <a>SVGLength</a> to no longer be
    <a href="#LengthAssociatedElement">associated</a> with any element.
    If the <a>SVGLength</a> is <a href='#ReadOnlyLength'>read only</a>,
    set it to be no longer read only.  Set the <a>SVGLength</a> to have
    unspecified <a href="#LengthAssociatedElement">directionality</a>.
  </dd>
  <dt><a>DOMPoint</a></dt>
  <dd>
    Set the <a>DOMPoint</a> to no longer be
    <a href="shapes.html#PointAssociatedElement">associated</a> with any element.
    If the <a>DOMPoint</a> is <a href='shapes.html#ReadOnlyPoint'>read only</a>,
    set it to be no longer read only.
  </dd>
  <dt><a>SVGTransform</a></dt>
  <dd>
    Set the <a>SVGTransform</a> to no longer be
    <a href="coords.html#TransformAssociatedElement">associated</a> with any element.
    If the <a>SVGTransform</a> is <a href='coords.html#ReadOnlyTransform'>read only</a>,
    set it to be no longer read only.
  </dd>
  <dt><b>DOMString</b></dt>
  <dd>Nothing is done.</dd>
</dl>

<p>Whenever a list element object is to be <dfn id="TermAttach" data-dfn-type="dfn" data-export="">attached</dfn>,
the following steps are run, depending on the list element type:</p>
<div class='ready-for-wider-review'>
<dl class='switch'>
  <dt><a>SVGNumber</a></dt>
  <dd>
    <a href="#NumberAssociatedElement">Associate</a> the
    <a>SVGNumber</a> with the element that the <a>list interface</a>
    object is associated with.  Additionally, depending on which IDL attribute
    the <a>list interface</a> object is reflected through:
      <dl class='switch'>
        <dt>baseVal</dt>
        <dd>Set the <a>SVGNumber</a> to <a href="#NumberMode">reflect an
        element of the base value</a>.</dd>
        <dt>animVal</dt>
        <dd>Set the <a>SVGNumber</a> to <a href="#NumberMode">reflect an
        element of the base value</a>.</dd>
      </dl>
  </dd>
  <dt><a>SVGLength</a></dt>
  <dd>
    <a href="#LengthAssociatedElement">Associate</a> the
    <a>SVGLength</a> with the element that the <a>list interface</a>
    object is associated with and set its
    <a href="#LengthAssociatedElement">directionality</a> to that
    specified by the attribute being reflected.
    Additionally, depending on which IDL attribute the <a>list interface</a>
    object is reflected through:
      <dl class='switch'>
        <dt>baseVal</dt>
        <dd>Set the <a>SVGLength</a> to <a href="#LengthMode">reflect an
        element of the base value</a>.</dd>
        <dt>animVal</dt>
        <dd>Set the <a>SVGLength</a> to <a href="#LengthMode">reflect an
        element of the base value</a>. Set the <a>SVGLength</a> to be
        <em>read only</em>.</dd>
      </dl>
  </dd>
  <dt><a>DOMPoint</a></dt>
  <dd>
    <a href="shapes.html#PointAssociatedElement">Associate</a> the
    <a>DOMPoint</a> with the element that the <a>list interface</a>
    object is associated with.
    Additionally, depending on which IDL attribute the <a>list interface</a>
    object is reflected through:
      <dl class='switch'>
        <dt>baseVal</dt>
        <dd>Set the <a>DOMPoint</a> to <a href="shapes.html#PointMode">reflect an
        element of the base value</a>.</dd>
        <dt>animVal</dt>
        <dd>Set the <a>DOMPoint</a> to <a href="shapes.html#PointMode">reflect an
        element of the base value</a>.</dd>
      </dl>
  </dd>
  <dt><a>SVGTransform</a></dt>
  <dd>
    <a href="coords.html#TransformAssociatedElement">Associate</a> the
    <a>SVGTransform</a> with the element that the <a>list interface</a>
    object is associated with.
    Set the <a>SVGTransform</a> to <a href="coords.html#TransformMode">reflect an
    element of a presentation attribute value</a>.
  </dd>
  <dt><b>DOMString</b></dt>
  <dd>Nothing is done.</dd>
</dl>
</div>

<p>The <a href="http://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>
of a <a>list interface</a> object is the set of all non-negative integers
less than the length of the list.</p>

<p>The <b id="__svg__SVGNameList__length">length</b> and
<b id="__svg__SVGNameList__numberOfItems">numberOfItems</b> IDL attributes
represents the length of the list, and on getting simply return
the length of the list.</p>

<p>The <b id="__svg__SVGNameList__clear">clear</b> method is used to
remove all items in the list.  When clear() is called, the following steps are run:</p>
<ol class="algorithm">
  <li>If the list is <a href="#ReadOnlyList">read only</a>, then <a>throw</a> a
  <a>NoModificationAllowedError</a>.</li>
  <li><a>Detach</a> and then remove all elements in the list.</li>
  <li>If the list <a>reflects</a> an attribute, or represents the
  base value of an object that <a>reflects</a> an attribute, then
  <a>reserialize</a> the reflected attribute.</li>
</ol>

<p>The <b id="__svg__SVGNameList__initialize">initialize</b> method
is used to clear the list and add a single, specified value to it.
When initialize(<var>newItem</var>) is called, the following steps are run:</p>

<ol class="algorithm">
  <li>If the list is <a href="#ReadOnlyList">read only</a>, then <a>throw</a> a
  <a>NoModificationAllowedError</a>.</li>
  <li><a>Detach</a> and then remove all elements in the list.</li>
  <li>If <var>newItem</var> is an object type, and <var>newItem</var>
  is not a detached object,  then set <var>newItem</var> to be
  a newly created object of the same type as <var>newItem</var>
  and which has the same (number or length) value.</li>
  <li><a>Attach</a> <var>newItem</var> to the <a>list interface</a> object.</li>
  <li>Append <var>newItem</var> to this list.</li>
  <li>If the list <a>reflects</a> an attribute, or represents the
  base value of an object that <a>reflects</a> an attribute, then
  <a>reserialize</a> the reflected attribute.</li>
  <li>Return <var>newItem</var>.</li>
</ol>

<p>The <b id="__svg__SVGNameList__getItem">getItem</b> method is used
to get an item from the list at the specified position.  When
getItem(<var>index</var>) is called, the following steps are run:</p>

<ol class="algorithm">
  <li>If <var>index</var> is greater than or equal to the length
  of the list, then <a>throw</a> an <a>IndexSizeError</a>.</li>
  <li>Return the element in the list at position <var>index</var>.
    <p class="note">Note that if the list's element type is an object type,
    such as <a>SVGLength</a>, then a reference to that object and not
    a copy of it is returned.</p></li>
</ol>

<p>The <b id="__svg__SVGNameList__insertItemBefore">insertItemBefore</b>
method is used to insert an element into the list at a specific position.
When insertItemBefore(<var>newItem</var>, <var>index</var>) is called,
the following steps are run:</p>

<ol class="algorithm">
  <li>If the list is <a href="#ReadOnlyList">read only</a>, then <a>throw</a> a
  <a>NoModificationAllowedError</a>.</li>
  <li>If <var>newItem</var> is an object type, and <var>newItem</var>
  is not a detached object,  then set <var>newItem</var> to be
  a newly created object of the same type as <var>newItem</var>
  and which has the same (number or length) value.</li>
  <li>If <var>index</var> is greater than the length of the list, then
  set <var>index</var> to be the list length.</li>
  <li>Insert <var>newItem</var> into the list at index <var>index</var>.</li>
  <li>Attach <var>newItem</var> to the <a>list interface</a> object.</li>
  <li>If the list <a>reflects</a> an attribute, or represents the
  base value of an object that <a>reflects</a> an attribute, then
  <a>reserialize</a> the reflected attribute.</li>
  <li>Return <var>newItem</var>.</li>
</ol>

<p>The <b id="__svg__SVGNameList__replaceItem">replaceItem</b> method
is used to replace an existing item in the list with a new item.
When replaceItem(<var>newItem</var>, <var>index</var>) is called, the
following steps are run:</p>

<ol class="algorithm">
  <li>If the list is <a href="#ReadOnlyList">read only</a>, then <a>throw</a> a
  <a>NoModificationAllowedError</a>.</li>
  <li>If <var>index</var> is greater than or equal to the length of
  the list, then <a>throw</a> an <a>IndexSizeError</a>.</li>
  <li>If <var>newItem</var> is an object type, and <var>newItem</var>
  is not a detached object, then set <var>newItem</var> to be
  a newly created object of the same type as <var>newItem</var>
  and which has the same (number or length) value.</li>
  <li><a>Detach</a> the element in the list at index <var>index</var>.</li>
  <li>Replace the element in the list at index <var>index</var>
  with <var>newItem</var>.</li>
  <li><a>Attach</a> <var>newItem</var> to the <a>list interface</a> object.</li>
  <li>If the list <a>reflects</a> an attribute, or represents the
  base value of an object that <a>reflects</a> an attribute, then
  <a>reserialize</a> the reflected attribute.</li>
  <li>Return <var>newItem</var>.</li>
</ol>

<p>The <b id="__svg__SVGNameList__removeItem">removeItem</b> method
is used to remove an item from the list.  When removeItem(<var>index</var>)
is called, the following steps are run:</p>

<ol class="algorithm">
  <li>If the list is <a href="#ReadOnlyList">read only</a>, then <a>throw</a> a
  <a>NoModificationAllowedError</a>.</li>
  <li>If <var>index</var> is greater than or equal to the length of
  the list, then <a>throw</a> an <a>IndexSizeError</a> with code.</li>
  <li>Let <var>item</var> be the list element at index <var>index</var>.</li>
  <li><a>Detach</a> <var>item</var>.</li>
  <li>Remove the list element at index <var>index</var>.</li>
  <li>Return <var>item</var>.</li>
</ol>

<p>The <b id="__svg__SVGNameList__appendItem">appendItem</b> method
is used to append an item to the end of the list.  When appendItem(<var>newItem</var>)
is called, the following steps are run:</p>

<ol class="algorithm">
  <li>If the list is <a href="#ReadOnlyList">read only</a>, then <a>throw</a> a
  <a>NoModificationAllowedError</a>.</li>
  <li>If <var>newItem</var> is an object type, and <var>newItem</var>
  is not a detached object, then set <var>newItem</var> to be
  a newly created object of the same type as <var>newItem</var>
  and which has the same (number or length) value.</li>
  <li>Let <var>index</var> be the length of the list.</li>
  <li>Append <var>newItem</var> to the end of the list.</li>
  <li><a>Attach</a> <var>newItem</var> to the <a>list interface</a> object.</li>
  <li>If the list <a>reflects</a> an attribute, or represents the
  base value of an object that <a>reflects</a> an attribute, then
  <a>reserialize</a> the reflected attribute.</li>
  <li>Return <var>newItem</var>.</li>
</ol>

<p>The behavior of the <b id="__svg__SVGNameList__setter">indexed property setter</b>
is the same as that for the <a href="#__svg__SVGNameList__replaceItem">replaceItem</a>
method.</p>

<h3 id="InterfaceSVGNumberList">Interface SVGNumberList</h3>

<p>The <a>SVGNumberList</a> interface is a <a>list interface</a> whose
elements are <a>SVGNumber</a> objects.  An <a>SVGNumberList</a> object
represents a list of numbers.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGNumberList</b> {

  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__length">length</a>;
  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__numberOfItems">numberOfItems</a>;

  undefined <a href="types.html#__svg__SVGNameList__clear">clear</a>();
  <a>SVGNumber</a> <a href="types.html#__svg__SVGNameList__initialize">initialize</a>(<a>SVGNumber</a> newItem);
  getter <a>SVGNumber</a> <a href="types.html#__svg__SVGNameList__getItem">getItem</a>(unsigned long index);
  <a>SVGNumber</a> <a href="types.html#__svg__SVGNameList__insertItemBefore">insertItemBefore</a>(<a>SVGNumber</a> newItem, unsigned long index);
  <a>SVGNumber</a> <a href="types.html#__svg__SVGNameList__replaceItem">replaceItem</a>(<a>SVGNumber</a> newItem, unsigned long index);
  <a>SVGNumber</a> <a href="types.html#__svg__SVGNameList__removeItem">removeItem</a>(unsigned long index);
  <a>SVGNumber</a> <a href="types.html#__svg__SVGNameList__appendItem">appendItem</a>(<a>SVGNumber</a> newItem);
  <a href="#__svg__SVGNameList__setter">setter</a> undefined (unsigned long index, <a>SVGNumber</a> newItem);
};</pre>

<p>The behavior of all of the interface members of <a>SVGNumberList</a> are
defined in the <a href="#ListInterfaces">List interfaces</a> section above.</p>


<h3 id="InterfaceSVGLengthList">Interface SVGLengthList</h3>

<p>The <a>SVGLengthList</a> interface is a <a>list interface</a> whose
elements are <a>SVGLength</a> objects.  An <a>SVGLengthList</a> object
represents a list of lengths.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGLengthList</b> {

  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__length">length</a>;
  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__numberOfItems">numberOfItems</a>;

  undefined <a href="types.html#__svg__SVGNameList__clear">clear</a>();
  <a>SVGLength</a> <a href="types.html#__svg__SVGNameList__initialize">initialize</a>(<a>SVGLength</a> newItem);
  getter <a>SVGLength</a> <a href="types.html#__svg__SVGNameList__getItem">getItem</a>(unsigned long index);
  <a>SVGLength</a> <a href="types.html#__svg__SVGNameList__insertItemBefore">insertItemBefore</a>(<a>SVGLength</a> newItem, unsigned long index);
  <a>SVGLength</a> <a href="types.html#__svg__SVGNameList__replaceItem">replaceItem</a>(<a>SVGLength</a> newItem, unsigned long index);
  <a>SVGLength</a> <a href="types.html#__svg__SVGNameList__removeItem">removeItem</a>(unsigned long index);
  <a>SVGLength</a> <a href="types.html#__svg__SVGNameList__appendItem">appendItem</a>(<a>SVGLength</a> newItem);
  <a href="#__svg__SVGNameList__setter">setter</a> undefined (unsigned long index, <a>SVGLength</a> newItem);
};</pre>

<p>The behavior of all of the interface members of <a>SVGLengthList</a> are
defined in the <a href="#ListInterfaces">List interfaces</a> section above.</p>


<h3 id="InterfaceSVGStringList">Interface SVGStringList</h3>

<p>The <a>SVGStringList</a> interface is a <a>list interface</a> whose
elements are <b>DOMString</b> values.  An <a>SVGStringList</a> object
represents a list of strings.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGStringList</b> {

  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__length">length</a>;
  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__numberOfItems">numberOfItems</a>;

  undefined <a href="types.html#__svg__SVGNameList__clear">clear</a>();
  DOMString <a href="types.html#__svg__SVGNameList__initialize">initialize</a>(DOMString newItem);
  getter DOMString <a href="types.html#__svg__SVGNameList__getItem">getItem</a>(unsigned long index);
  DOMString <a href="types.html#__svg__SVGNameList__insertItemBefore">insertItemBefore</a>(DOMString newItem, unsigned long index);
  DOMString <a href="types.html#__svg__SVGNameList__replaceItem">replaceItem</a>(DOMString newItem, unsigned long index);
  DOMString <a href="types.html#__svg__SVGNameList__removeItem">removeItem</a>(unsigned long index);
  DOMString <a href="types.html#__svg__SVGNameList__appendItem">appendItem</a>(DOMString newItem);
  <a href="#__svg__SVGNameList__setter">setter</a> undefined (unsigned long index, DOMString newItem);
};</pre>

<p>The behavior of all of the interface members of <a>SVGStringList</a> are
defined in the <a href="#ListInterfaces">List interfaces</a> section above.</p>


<h2 id="DOMInterfacesForReflectingSVGAttributes">DOM interfaces for reflecting animatable SVG attributes</h2>

<p>
  The following interfaces are used to represent the reflected value
  of animatable content attributes.
  They each consist of two component objects, representing the same data:
  <code>baseVal</code> and <code>animVal</code>.
  The <code>baseVal</code> (base value) object is modifiable,
  to update the corresponding attribute value.
</p>

<p class='note'>
  In SVG 1.1, the <code>animVal</code> attribute of the SVG DOM interfaces represented the
  current animated value of the reflected attribute. In this version of SVG,
  <code>animVal</code> no longer represents the current animated value and is instead an
  alias of <code>baseVal</code>.
</p>


<h3 id="InterfaceSVGAnimatedBoolean">Interface SVGAnimatedBoolean</h3>

<p>An <a>SVGAnimatedBoolean</a> object is used to <a>reflect</a> an
animatable attribute that takes a boolean value.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedBoolean</b> {
           attribute boolean <a href="types.html#__svg__SVGAnimatedBoolean__baseVal">baseVal</a>;
  readonly attribute boolean <a href="types.html#__svg__SVGAnimatedBoolean__animVal">animVal</a>;
};</pre>

<p class="ready-for-wider-review">The <b id="__svg__SVGAnimatedBoolean__baseVal">baseVal</b> and
<b id="__svg__SVGAnimatedBoolean__animVal">animVal</b> IDL attributes
both represent the current non-animated value of the reflected attribute.
On getting <a href="types.html#__svg__SVGAnimatedBoolean__baseVal">baseVal</a>
or <a href="types.html#__svg__SVGAnimatedBoolean__animVal">animVal</a>,
the following steps are run:</p>

<ol class="algorithm">
  <li>Let <var>value</var> be the value of the reflected attribute,
  or the empty string if it is not present.</li>
  <li>If <var>value</var> is not "true" or "false", then set <var>value</var>
  to the reflected attribute's <a>initial value</a>.</li>
  <li>Return true if <var>value</var> is "true", and false otherwise.</li>
</ol>

<p>On setting <a href="types.html#__svg__SVGAnimatedBoolean__baseVal">baseVal</a>,
the reflected attribute is set to "true" if the value is true, and "false"
otherwise.</p>

<h3 id="InterfaceSVGAnimatedEnumeration">Interface SVGAnimatedEnumeration</h3>

<p>An <a>SVGAnimatedEnumeration</a> object is used to <a>reflect</a>
an animatable attribute that takes a keyword value (such as
the <a>'textPath/method'</a> attribute on <a>'textPath'</a>) or to reflect
the type of value that an animatable attribute has (done
only by the <a href='painting.html#__svg__SVGMarkerElement__orientType'>orientType</a>
IDL attribute for the <a>'marker element'</a> element's
<a>'marker/orient'</a> attribute).</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedEnumeration</b> {
           attribute unsigned short <a href="types.html#__svg__SVGAnimatedEnumeration__baseVal">baseVal</a>;
  readonly attribute unsigned short <a href="types.html#__svg__SVGAnimatedEnumeration__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>For <a>SVGAnimatedEnumeration</a> objects that <a>reflect</a> an
animatable attribute that takes only a keyword value, the
<b id="__svg__SVGAnimatedEnumeration__baseVal">baseVal</b> and
<b id="__svg__SVGAnimatedEnumeration__animVal">animVal</b> IDL attributes
represents the current non-animated value of the reflected attribute.
For <a href='painting.html#__svg__SVGMarkerElement__orientType'>orientType</a>,
they represent the type of the current non-animated value of the
reflected <a>'marker/orient'</a> attribute.  On getting
<a href='#__svg__SVGAnimatedEnumeration__baseVal'>baseVal</a> or
<a href='#__svg__SVGAnimatedEnumeration__animVal'>animVal</a>, the
following steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the value of the reflected attribute
  (using the attribute's <a>initial value</a> if it is not present
  or invalid).</li>
  <li>Return the <dfn id="TermNumericTypeValue" data-dfn-type="dfn" data-export="">numeric type value</dfn>
  for <var>value</var>, according to the reflecting IDL attribute's
  definition.</li>
</ol>

<p>On setting <a href="types.html#__svg__SVGAnimatedEnumeration__baseVal">baseVal</a>,
the following steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the value being assigned to
  <a href="types.html#__svg__SVGAnimatedEnumeration__baseVal">baseVal</a>.</li>
  <li>If <var>value</var> is 0 or is not the <a>numeric type value</a>
  for any value of the reflected attribute, then throw a <a>TypeError</a>.</li>
  <li>Otherwise, if the reflecting IDL attribute is
  <a href='painting.html#__svg__SVGMarkerElement__orientType'>orientType</a>
  and <var>value</var> is <a href='painting.html#__svg__SVGMarkerElement__SVG_MARKER_ORIENT_ANGLE'>SVG_MARKER_ORIENT_ANGLE</a>,
  then set the reflected attribute to the string "0".</li>
  <li>Otherwise, <var>value</var> is the <a>numeric type value</a>
  for a specific, single keyword value for the reflected attribute.
  Set the reflected attribute to that value.</li>
</ol>

<h3 id="InterfaceSVGAnimatedInteger">Interface SVGAnimatedInteger</h3>

<p>An <a>SVGAnimatedInteger</a> object is used to <a>reflect</a> an
animatable attribute that takes an integer value (such as
<a>'feTurbulence/numOctaves'</a> on <a>'feTurbulence'</a>).  It is also
used to reflect one part of an animatable attribute that takes
an integer followed by an optional second integer (such as
<a>'feConvolveMatrix/order'</a> on <a>'feConvolveMatrix'</a>).</p>

<p class="note">This <a>SVGAnimatedInteger</a> interface
is not used in this specification, however the
<a href="https://www.w3.org/TR/filter-effects/">Filter Effects</a>
specification has a number of uses of it.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedInteger</b> {
           attribute long <a href="types.html#__svg__SVGAnimatedInteger__baseVal">baseVal</a>;
  readonly attribute long <a href="types.html#__svg__SVGAnimatedInteger__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>For <a>SVGAnimatedInteger</a> objects that <a>reflect</a>
an animatable attribute that takes a single integer value, the
<b id="__svg__SVGAnimatedInteger__baseVal">baseVal</b> and
<b id="__svg__SVGAnimatedInteger__animVal">animVal</b> IDL attributes
represent the current non-animated value of the reflected attribute.
For those that reflect one integer of an attribute that takes an
integer followed by an optional second integer, they represent the
current non-animated value of one of the two integers.  On getting
<a href="#__svg__SVGAnimatedInteger__baseVal">baseVal</a> or
<a href="#__svg__SVGAnimatedInteger__animVal">animVal</a>, the
following steps are run:</p>

<ol class="algorithm">
  <li>Let <var>value</var> be the value of the reflected attribute
  (using the attribute's <a>initial value</a> if it is not present
  or invalid).</li>
  <li>If the reflected attribute is defined to take an integer
  followed by an optional second integer, then:
    <ol>
      <li>If this <a>SVGAnimatedInteger</a> object reflects the
      first integer, then return the first value in <var>value</var>.</li>
      <li>Otherwise, this <a>SVGAnimatedInteger</a> object reflects the
      second integer.  Return the second value in <var>value</var> if it has been
      explicitly specified, and if not, return the implicit value
      as described in the definition of the attribute.
      <p class='note'>For example, the definition of <a>'feConvolveMatrix/order'</a>
      says that the implicit second integer is the same as the explicit
      first integer.</p></li>
    </ol>
  </li>
  <li>Otherwise, the reflected attribute is defined to take a single
  integer value.  Return <var>value</var>.</li>
</ol>

<p>On setting <a href="#__svg__SVGAnimatedInteger__baseVal">baseVal</a>,
the following steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the value being assigned to
  <a href="types.html#__svg__SVGAnimatedInteger__baseVal">baseVal</a>.</li>
  <li>Let <var>new</var> be a list of integers.</li>
  <li>If the reflected attribute is defined to take an integer
  followed by an optional second integer, then:
    <ol>
      <li>Let <var>current</var> be the value of the reflected attribute
      (using the attribute's <a>initial value</a> if it is not present
      or invalid).</li>
      <li>Let <var>first</var> be the first integer in <var>current</var>.</li>
      <li>Let <var>second</var> be the second integer in <var>current</var>
      if it has been explicitly specified, and if not, the implicit value
      as described in the definition of the attribute.</li>
      <li>If this <a>SVGAnimatedInteger</a> object reflects the
      first integer, then set <var>first</var> to <var>value</var>.
      Otherwise, set <var>second</var> to <var>value</var>.</li>
      <li>Append <var>first</var> to <var>new</var>.</li>
      <li>Append <var>second</var> to <var>new</var>.</li>
    </ol>
  </li>
  <li>Otherwise, the reflected attribute is defined to take a single
  integer value.  Append <var>value</var> to <var>new</var>.</li>
  <li>Set the content attribute to a string consisting of each integer
  in <var>new</var> serialized to an implementation specific string that,
  if parsed as an <a>&lt;number&gt;</a> using CSS syntax, would return that
  integer, joined and separated by a single U+0020 SPACE character.</li>
</ol>

<h3 id="InterfaceSVGAnimatedNumber">Interface SVGAnimatedNumber</h3>

<p>An <a>SVGAnimatedNumber</a> object is used to <a>reflect</a> an
animatable attribute that takes a number value (such as
<a>'path/pathLength'</a> on <a>'path'</a>).  It is also
used to reflect one part of an animatable attribute that takes
an number followed by an optional second number (such as
<a>'feDiffuseLighting/kernelUnitLength'</a> on <a>'feDiffuseLighting'</a>).</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedNumber</b> {
           attribute float <a href="types.html#__svg__SVGAnimatedNumber__baseVal">baseVal</a>;
  readonly attribute float <a href="types.html#__svg__SVGAnimatedNumber__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>For <a>SVGAnimatedNumber</a> objects that <a>reflect</a>
an animatable attribute that takes a single number value, the
<b id="__svg__SVGAnimatedNumber__baseVal">baseVal</b> and
<b id="__svg__SVGAnimatedNumber__animVal">animVal</b> IDL attributes
represent the current non-animated value of the reflected attribute.
For those that reflect one number of an attribute that takes a
number followed by an optional second number, they represent the
current non-animated value of one of the two numbers.  On getting
<a href="#__svg__SVGAnimatedNumber__baseVal">baseVal</a> or
<a href="#__svg__SVGAnimatedNumber__animVal">animVal</a>, the
following steps are run:</p>

<ol class="algorithm">
  <li>Let <var>value</var> be the value of the reflected attribute
  (using the attribute's <a>initial value</a> if it is not present
  or invalid).</li>
  <li>If the reflected attribute is defined to take an number
  followed by an optional second number, then:
    <ol>
      <li>If this <a>SVGAnimatedNumber</a> object reflects the
      first number, then return the first value in <var>value</var>.</li>
      <li>Otherwise, this <a>SVGAnimatedNumber</a> object reflects the
      second number.  Return the second value in <var>value</var> if it has been
      explicitly specified, and if not, return the implicit value
      as described in the definition of the attribute.
      <p class='note'>For example, the definition of <a>'feDiffuseLighting/kernelUnitLength'</a>
      says that the implicit second number is the same as the explicit
      first number.</p></li>
    </ol>
  </li>
  <li>Otherwise, the reflected attribute is defined to take a single
  number value.  Return <var>value</var>.</li>
</ol>

<p>On setting <a href="#__svg__SVGAnimatedNumber__baseVal">baseVal</a>,
the following steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the value being assigned to
  <a href="types.html#__svg__SVGAnimatedNumber__baseVal">baseVal</a>.</li>
  <li>Let <var>new</var> be a list of numbers.</li>
  <li>If the reflected attribute is defined to take an number
  followed by an optional second number, then:
    <ol>
      <li>Let <var>current</var> be the value of the reflected attribute
      (using the attribute's <a>initial value</a> if it is not present
      or invalid).</li>
      <li>Let <var>first</var> be the first number in <var>current</var>.</li>
      <li>Let <var>second</var> be the second number in <var>current</var>
      if it has been explicitly specified, and if not, the implicit value
      as described in the definition of the attribute.</li>
      <li>If this <a>SVGAnimatedNumber</a> object reflects the
      first number, then set <var>first</var> to <var>value</var>.
      Otherwise, set <var>second</var> to <var>value</var>.</li>
      <li>Append <var>first</var> to <var>new</var>.</li>
      <li>Append <var>second</var> to <var>new</var>.</li>
    </ol>
  </li>
  <li>Otherwise, the reflected attribute is defined to take a single
  number value.  Append <var>value</var> to <var>new</var>.</li>
  <li>Set the content attribute to a string consisting of each number
  in <var>new</var> serialized to an implementation specific string that,
  if parsed as an <a>&lt;number&gt;</a> using CSS syntax, would return the
  value closest to the number (given the implementation's supported
  <a href='#Precision'>Precision</a>real number precision),
  joined and separated by a single U+0020 SPACE character.</li>
</ol>

<h3 id="InterfaceSVGAnimatedLength">Interface SVGAnimatedLength</h3>

<!--
<div class="annotation svg2-requirement">
  <table>
    <tr><th>SVG 2 Requirement:</th>
    <td>Make it easier to read and write to attributes in the SVG DOM.</td></tr>
    <tr><th>Resolution:</th>
    <td><a href="http://www.w3.org/2011/10/27-svg-irc#T18-19-13">We will make it easier to read and write to attributes in the SVG DOM in SVG2.</a></td></tr>
    <tr><th>Purpose:</th>
    <td>To avoid the awkward access to the base values of <a>SVGAnimatedLength</a>s.</td></tr>
    <tr><th>Owner:</th>
    <td>Cameron (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3414">ACTION-3414</a>)</td></tr>
  </table>
</div>
-->
<p class='ready-for-wider-review'>An <a>SVGAnimatedLength</a> object is used to <a>reflect</a> either
(a) an animatable attribute that takes a <a>&lt;length&gt;</a>,
<a>&lt;percentage&gt;</a> or <a>&lt;number&gt;</a> value, or (b) a
CSS property that takes one of these values and its corresponding
presentation attribute.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedLength</b> {
  [SameObject] readonly attribute <a>SVGLength</a> <a href="types.html#__svg__SVGAnimatedLength__baseVal">baseVal</a>;
  [SameObject] readonly attribute <a>SVGLength</a> <a href="types.html#__svg__SVGAnimatedLength__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>The <b id="__svg__SVGAnimatedLength__baseVal">baseVal</b> and
<b id="__svg__SVGAnimatedLength__animVal">animVal</b> IDL attributes
represent the current value of the reflected content attribute.
On getting <a href="#__svg__SVGAnimatedLength__baseVal">baseVal</a> or
<a href="#__svg__SVGAnimatedLength__animVal">animVal</a>,
an <a>SVGLength</a> object is returned that:</p>

<ul>
  <li>either <a href='#LengthMode'>reflects the base value</a> of the
  reflected attribute or <a href='#LengthMode'>reflects the
  given presentation attribute</a>,</li>
  <li>is <a href='#LengthAssociatedElement'>associated with</a> the SVG element that
  the object with the reflecting IDL attribute of type <a>SVGAnimatedLength</a>
  was obtained from, and</li>
  <li>has a <a href='#LengthAssociatedElement'>directionality</a> as defined by the
  specific reflected attribute.</li>
</ul>

<h3 id="InterfaceSVGAnimatedAngle">Interface SVGAnimatedAngle</h3>

<p>An <a>SVGAnimatedAngle</a> object is used to <a>reflect</a>
the <a>&lt;angle&gt;</a> value of the animated <a>'marker/orient'</a>
attribute on <a>'marker element'</a>, through the
<a href='painting.html#__svg__SVGMarkerElement__orientAngle'>orientAngle</a>
IDL attribute.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedAngle</b> {
  [SameObject] readonly attribute <a>SVGAngle</a> <a href="types.html#__svg__SVGAnimatedAngle__baseVal">baseVal</a>;
  [SameObject] readonly attribute <a>SVGAngle</a> <a href="types.html#__svg__SVGAnimatedAngle__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>The <b id="__svg__SVGAnimatedAngle__baseVal">baseVal</b> and
<b id="__svg__SVGAnimatedAngle__animVal">animVal</b> IDL attributes represent
the current non-animated <a>&lt;angle&gt;</a> value of the
reflected <a>'marker/orient'</a> attribute.  On getting
<a href="#__svg__SVGAnimatedAngle__baseVal">baseVal</a> or
<a href="#__svg__SVGAnimatedAngle__animVal">animVal</a>, an
<a>SVGAngle</a> object is returned that:</p>

<ul>
  <li><a href='#AngleMode'>reflects the base value</a> of the
  reflected <a>'marker/orient'</a> attribute, and</li>
  <li>is <a href='#AngleAssociatedElement'>associated with</a> the SVG <a>'marker element'</a>
  element that the object with the reflecting IDL attribute of type
  <a>SVGAnimatedAngle</a> was obtained from.</li>
</ul>

<h3 id="InterfaceSVGAnimatedString">Interface SVGAnimatedString</h3>

<p>An <a>SVGAnimatedString</a> object is used to <a>reflect</a> an
animatable attribute that takes a string value.  It can optionally
be defined to additionally reflect a second, deprecated attribute.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedString</b> {
           attribute DOMString <a href="types.html#__svg__SVGAnimatedString__baseVal">baseVal</a>;
  readonly attribute DOMString <a href="types.html#__svg__SVGAnimatedString__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>The <b id="__svg__SVGAnimatedString__baseVal">baseVal</b>
and <b id="__svg__SVGAnimatedString__animVal">animVal</b> IDL attributes
represent the current non-animated value of the reflected attribute.
On getting <a href="types.html#__svg__SVGAnimatedString__baseVal">baseVal</a>
or <a href="types.html#__svg__SVGAnimatedString__animVal">animVal</a>,
the following steps are run:</p>

<ol class="algorithm">
  <li>If the reflected attribute is not present, then:
    <ol>
      <li>If the <a>SVGAnimatedString</a> object is defined to additionally
      reflect a second, deprecated attribute, and that attribute is present,
      then return its value.</li>
      <li>Otherwise, if the reflected attribute has an <a>initial value</a>,
      then return it.</li>
      <li>Otherwise, return the empty string.</li>
    </ol>
  </li>
  <li>Otherwise, the reflected attribute is present.  Return its value.</li>
</ol>

<p class='note'>For the <a href='#__svg__SVGURIReference__href'>href</a>
member on the <a>SVGURIReference</a> interface, this will result in
the deprecated <a>'xlink:href'</a> attribute being returned if it is
present and the <span class='attr-name'>'href'</span> attribute is not,
and in the <span class='attr-name'>'href'</span> attribute being
returned in all other cases.</p>

<p>On setting <a href="types.html#__svg__SVGAnimatedString__baseVal">baseVal</a>,
the following steps are run:</p>

<ol class='algorithm'>
  <li>If the reflected attribute is not present,
  the <a>SVGAnimatedString</a> object is defined to additionally reflect
  a second, deprecated attribute, and that deprecated attribute is present,
  then set that deprecated attribute to the specified value.</li>
  <li>Otherwise, set the reflected attribute to the specified value.</li>
</ol>

<p class='note'>For the <a href='#__svg__SVGURIReference__href'>href</a>
member on the <a>SVGURIReference</a> interface, this will result in
the deprecated <a>'xlink:href'</a> attribute being set if it is
present and the <span class='attr-name'>'href'</span> attribute is not,
and in the <span class='attr-name'>'href'</span> attribute being
set in all other cases.</p>

<h3 id="InterfaceSVGAnimatedRect">Interface SVGAnimatedRect</h3>

<p>An <a>SVGAnimatedRect</a> object is used to <a>reflect</a> an
animatable attribute that takes a rectangle value as specified
by an <var>x</var>, <var>y</var>, <var>width</var> and <var>height</var>.</p>

<p class="note">In this specification the only attribute to be
reflected as an <a>SVGAnimatedRect</a> is <a>'viewBox'</a>.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedRect</b> {
  [SameObject] readonly attribute <a>DOMRect</a> <a href="types.html#__svg__SVGAnimatedRect__baseVal">baseVal</a>;
  [SameObject] readonly attribute <a>DOMRectReadOnly</a> <a href="types.html#__svg__SVGAnimatedRect__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>The <b id="__svg__SVGAnimatedRect__baseVal">baseVal</b>
and <b id="__svg__SVGAnimatedRect__animVal">animVal</b> IDL
attributes represent the current non-animated rectangle value of
the reflected attribute.  On getting <a href="#__svg__SVGAnimatedRect__baseVal">baseVal</a>
or <a href="#__svg__SVGAnimatedRect__animVal">animVal</a>,
a <a>DOMRect</a> object is returned.</p>

<p class='ready-for-wider-review'>Upon creation of the <a href="#__svg__SVGAnimatedRect__baseVal">baseVal</a>
or <a href="#__svg__SVGAnimatedRect__animVal">animVal</a>
<a>DOMRect</a> objects, and afterwards whenever the reflected content attribute
is added, removed, or changed, the following steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>value</var> be the value of the reflected attribute
  (using the attribute's <a>initial value</a> if it is not present
  or invalid).</li>
  <li>Let <var>x</var>, <var>y</var>, <var>width</var> and <var>height</var>
  be those corresponding components of <var>value</var>.</li>
  <li>Set the <a>DOMRect</a> object's
  <a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#x-coordinate">x coordinate</a>,
  <a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#y-coordinate">y coordinate</a>,
  <a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#width">width</a> and
  <a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#height">height</a>
  to <var>x</var>, <var>y</var>, <var>width</var> and <var>height</var>,
  respectively.</li>
</ol>

<p class='ready-for-wider-review'>Whenever the
<a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#x-coordinate">x coordinate</a>,
<a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#y-coordinate">y coordinate</a>,
<a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#width">width</a> or
<a href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#height">height</a> property
of the <a href="#__svg__SVGAnimatedRect__baseVal">baseVal</a> or
<a href="#__svg__SVGAnimatedRect__animVal">animVal</a>
<a>DOMRect</a> object changes, except as part of the previous algorithm that
reflects the value of the content attribute into the <a>DOMRect</a>, the reflected
content attribute must be <a>reserialized</a>.</p>

<h3 id="InterfaceSVGAnimatedNumberList">Interface SVGAnimatedNumberList</h3>

<p>An <a>SVGAnimatedNumberList</a> object is used to <a>reflect</a> an animatable
attribute that takes a list of <a>&lt;number&gt;</a> values.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedNumberList</b> {
  [SameObject] readonly attribute <a>SVGNumberList</a> <a href="types.html#__svg__SVGAnimatedNumberList__baseVal">baseVal</a>;
  [SameObject] readonly attribute <a>SVGNumberList</a> <a href="types.html#__svg__SVGAnimatedNumberList__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>The <b id="__svg__SVGAnimatedNumberList__baseVal">baseVal</b>
and <b id="__svg__SVGAnimatedNumberList__animVal">animVal</b> IDL attributes
represent the current non-animated value of the reflected attribute.
On getting <a href="#__svg__SVGAnimatedNumberList__baseVal">baseVal</a> or
<a href="#__svg__SVGAnimatedNumberList__animVal">animVal</a>,
an <a>SVGNumberList</a> object is returned that reflects the base value
of the reflected attribute.</p>

<h3 id="InterfaceSVGAnimatedLengthList">Interface SVGAnimatedLengthList</h3>

<p>An <a>SVGAnimatedLengthList</a> object is used to <a>reflect</a> an animatable
attribute that takes a list of <a>&lt;length&gt;</a>, <a>&lt;percentage&gt;</a>
or <a>&lt;number&gt;</a> values.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedLengthList</b> {
  [SameObject] readonly attribute <a>SVGLengthList</a> <a href="types.html#__svg__SVGAnimatedLengthList__baseVal">baseVal</a>;
  [SameObject] readonly attribute <a>SVGLengthList</a> <a href="types.html#__svg__SVGAnimatedLengthList__animVal">animVal</a>;
};</pre>

<p class='ready-for-wider-review'>The <b id="__svg__SVGAnimatedLengthList__baseVal">baseVal</b>
or <b id="__svg__SVGAnimatedLengthList__animVal">animVal</b> IDL attributes
represent the current non-animated value of the reflected attribute.
On getting <a href="#__svg__SVGAnimatedLengthList__baseVal">baseVal</a> or
<a href="#__svg__SVGAnimatedLengthList__animVal">animVal</a>,
an <a>SVGLengthList</a> object is returned that reflects the base value
of the reflected attribute.</p>


<h2 id="OtherDOMInterfaces">Other DOM interfaces</h2>


<h3 id="InterfaceSVGUnitTypes">Interface SVGUnitTypes</h3>

<p>The <a>SVGUnitTypes</a> interface defines a commonly used set of constants
used for reflecting <a>'linearGradient/gradientUnits'</a>, <a>'pattern/patternContentUnits'</a> and
other similar attributes.</p>

<pre class="idl">[Exposed=Window]
interface <b>SVGUnitTypes</b> {
  // Unit Types
  const unsigned short <a href="types.html#__svg__SVGUnitTypes__SVG_UNIT_TYPE_UNKNOWN">SVG_UNIT_TYPE_UNKNOWN</a> = 0;
  const unsigned short <a href="types.html#__svg__SVGUnitTypes__SVG_UNIT_TYPE_USERSPACEONUSE">SVG_UNIT_TYPE_USERSPACEONUSE</a> = 1;
  const unsigned short <a href="types.html#__svg__SVGUnitTypes__SVG_UNIT_TYPE_OBJECTBOUNDINGBOX">SVG_UNIT_TYPE_OBJECTBOUNDINGBOX</a> = 2;
};</pre>

<p>The unit type constants defined on <a>SVGUnitTypes</a> have the following meanings:</p>

<table class='vert'>
  <tr><th>Constant</th><th>Meaning</th></tr>
  <tr><td><b id="__svg__SVGUnitTypes__SVG_UNIT_TYPE_USERSPACEONUSE">SVG_UNIT_TYPE_USERSPACEONUSE</b></td><td>Corresponds to the <span class='attr-value'>'userSpaceOnUse'</span> attribute value.</td></tr>
  <tr><td><b id="__svg__SVGUnitTypes__SVG_UNIT_TYPE_OBJECTBOUNDINGBOX">SVG_UNIT_TYPE_OBJECTBOUNDINGBOX</b></td><td>Corresponds to the <span class='attr-value'>'objectBoundingBox'</span> attribute value.</td></tr>
  <tr><td><b id="__svg__SVGUnitTypes__SVG_UNIT_TYPE_UNKNOWN">SVG_UNIT_TYPE_UNKNOWN</b></td><td>Some other type of value.</td></tr>
</table>


<h3 id="InterfaceSVGTests" data-dfn-type="interface" data-lt="SVGTests">Mixin SVGTests</h3>

<p>The <a>SVGTests</a> interface is used to reflect
<a>conditional processing attributes</a>, and is mixed in to other
interfaces for elements that support these attributes.</p>

<pre class="idl">interface mixin <b>SVGTests</b> {
  [SameObject] readonly attribute <a>SVGStringList</a> <a href="types.html#__svg__SVGTests__requiredExtensions">requiredExtensions</a>;
  [SameObject] readonly attribute <a>SVGStringList</a> <a href="types.html#__svg__SVGTests__systemLanguage">systemLanguage</a>;
};</pre>

<p>The <b id="__svg__SVGTests__requiredExtensions">requiredExtensions</b> IDL attribute
<a>reflects</a> the <a>'requiredExtensions'</a> content attribute.</p>

<p>The <b id="__svg__SVGTests__systemLanguage">systemLanguage</b> IDL attribute
<a>reflects</a> the <a>'systemLanguage'</a> content attribute.</p>


<h3 id="InterfaceSVGFitToViewBox" data-dfn-type="interface" data-lt="SVGFitToViewBox">Mixin SVGFitToViewBox</h3>

<p>The <a>SVGFitToViewBox</a> interface is used to reflect
the <a>'viewBox'</a> and <a>'preserveAspectRatio'</a> attributes,
and is mixed in to other interfaces for elements that support
these two attributes.</p>

<pre class="idl">interface mixin <b>SVGFitToViewBox</b> {
  [SameObject] readonly attribute <a>SVGAnimatedRect</a> <a href="types.html#__svg__SVGFitToViewBox__viewBox">viewBox</a>;
  [SameObject] readonly attribute <a>SVGAnimatedPreserveAspectRatio</a> <a href="types.html#__svg__SVGFitToViewBox__preserveAspectRatio">preserveAspectRatio</a>;
};</pre>

<p>The <b id="__svg__SVGFitToViewBox__viewBox">viewBox</b> IDL attribute
<a>reflects</a> the <a>'viewBox'</a> content attribute.</p>

<p>The <b id="__svg__SVGFitToViewBox__preserveAspectRatio">preserveAspectRatio</b> IDL attribute
<a>reflects</a> the <a>'preserveAspectRatio'</a> content attribute.</p>


<h3 id="InterfaceSVGURIReference" data-dfn-type="interface" data-lt="SVGURIReference">Mixin SVGURIReference</h3>

<p>The <a>SVGURIReference</a> interface is used to reflect
the <span class='attr-name'>'href'</span> attribute and the deprecated
<a>'xlink:href'</a> attribute.</p>

<pre class="idl">interface mixin <b>SVGURIReference</b> {
  [SameObject] readonly attribute <a>SVGAnimatedString</a> <a href="types.html#__svg__SVGURIReference__href">href</a>;
};</pre>

<p>The <b id="__svg__SVGURIReference__href">href</b> IDL attribute
represents the value of the <span class='attr-name'>'href'</span>
attribute, and, on elements that are defined to support it,
the deprecated <a>'xlink:href'</a> attribute.  On getting
<a href='#__svg__SVGURIReference__href'>href</a>, an
<a>SVGAnimatedString</a> object is returned that:</p>

<ul>
  <li>reflects the <span class='attr-name'>'href'</span> attribute, and</li>
  <li>if the element is defined to support the deprecated
  <a>'xlink:href'</a> attribute, additionally reflects that deprecated attribute.</li>
</ul>

<p class='note'>The <a>SVGAnimatedString</a> interface is defined
to reflect, through its <a href='#__svg__SVGAnimatedString__baseVal'>baseVal</a>
and <a href='#__svg__SVGAnimatedString__animVal'>animVal</a> members, the deprecated
<a>'xlink:href'</a> attribute, if that attribute is
present and the <span class='attr-name'>'href'</span> is not, and to
reflect the <span class='attr-name'>'href'</span> attribute in all
other circumstances. <a href="https://svgwg.org/specs/animations/">Animation elements</a>
treat <span class='attr-value'>attributeName='xlink:href'</span>
as being an alias for targeting the <span class='attr-name'>'href'</span> attribute.</p>

</body>
</html>
