<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional+edit//EN" "xhtml1-transitional+edit.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:edit="http://xmlns.grorg.org/SVGT12NG/">
<head>
  <title>SVG Document Object Model (DOM)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="stylesheet"           title="Default"               type="text/css" media="screen" href="style/default_svg.css"/>
  <link rel="alternate stylesheet" title="No issues/annotations" type="text/css" media="screen" href="style/default_no_issues.css"/>
  <link rel="alternate stylesheet" title="CSS3 Unmodified"       type="text/css" media="screen" href="style/default.css"/>
  <link rel="alternate stylesheet" title="SVG 1.1"               type="text/css" media="screen" href="style/svg-style.css"/>
  <!-- W3C style sheet will be added here during processing. -->
</head>
<body>

<h1>SVG Document Object Model (DOM)</h1>

    <p class="normativity"><strong>This appendix is normative.</strong></p>

<div class="annotation">
  <p>
    SVG2 Requirement: Improve the DOM.
  </p>
  <p>
    Resolution: We will generally improve the SVG DOM for SVG2.
  </p>
  <p>
    <a href="http://www.w3.org/2011/10/27-svg-irc#T18-35-49">Pre-TPAC F2F Day 1</a>.
  </p>
  <p>
    Purpose: Keep our users happy. Speed up acess.
    See <a href="http://www.w3.org/Graphics/SVG/WG/wiki/SVG_2_DOM">SVG 2 DOM</a> Wiki page.
  </p>
  <p>
    Owner: Cameron
  </p>
</div>

<div class="annotation">
  <p>
    SVG2 Requirement: Make it easier to read and write to attributes in the SVG DOM.
  </p>
  <p>
    Resolution: We will make it easier to read and write to attributes in the SVG DOM in SVG2.
  </p>
  <p>
    <a href="http://www.w3.org/2011/10/27-svg-irc#T18-19-13">Pre-TPAC F2F Day 1</a>.
  </p>
  <p>
    Purpose: Easier is easier.
  </p>
  <p>
    Owner: Cameron
  </p>
</div>

<div class="annotation">
  <p>
    SVG2 Requirement: Improve the SVG path DOM APIs.
  </p>
  <p>
    Resolution: We will improve the SVG path DOM APIs in SVG2.
  </p>
  <p>
    <a href="http://www.w3.org/2011/10/27-svg-irc#T18-23-23">Pre-TPAC F2F Day 1</a>.
  </p>
  <p>
    Purpose: Clean up SVGPathSegList interface, possibly share API with Canvas. 
  </p>
  <p>
    Owner: Cameron
  </p>
</div>

<h2 id="SVGDOMOverview">SVG DOM overview</h2>

    <p>This appendix provides an introduction to the SVG DOM and
    discusses the relationship of the SVG DOM with the
    <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/"><cite>Document Object Model (DOM) Level 2 Core Specification</cite></a>
    [<a href="refs.html#ref-DOM2">DOM2</a>]. The
    specific SVG DOM interfaces that correspond to particular
    sections of the SVG specification are defined at the end of
    corresponding chapters in this specification, as follows:</p>
    <ul>
      <li><a href="types.html#BasicDOMInterfaces">Basic DOM interfaces</a></li>
      <li><a href="styling.html#DOMInterfaces">Styling interfaces</a></li>
      <li><a href="struct.html#DOMInterfaces">Document Structure interfaces</a></li>
      <li><a href="coords.html#DOMInterfaces">Coordinate Systems, Transformations and Units interfaces</a></li>
      <li><a href="paths.html#DOMInterfaces">Paths interfaces</a></li>
      <li><a href="shapes.html#DOMInterfaces">Basic Shapes interfaces</a></li>
      <li><a href="text.html#DOMInterfaces">Text interfaces</a></li>
      <li><a href="painting.html#DOMInterfaces">Painting: Filling, Stroking and Marker Symbols interfaces</a></li>
      <li><a href="color.html#DOMInterfaces">Color interfaces</a></li>
      <li><a href="pservers.html#DOMInterfaces">Gradients and Patterns interfaces</a></li>
      <li><a href="masking.html#DOMInterfaces">Clipping, Masking and Compositing interfaces</a></li>
      <li><a href="filters.html#DOMInterfaces">Filter Effects interfaces</a></li>
      <li><a href="interact.html#DOMInterfaces">Interactivity interfaces</a></li>
      <li><a href="linking.html#DOMInterfaces">Linking interfaces</a></li>
      <li><a href="script.html#DOMInterfaces">Scripting interfaces</a></li>
      <li><a href="animate.html#DOMInterfaces">Animation interfaces</a></li>
      <li><a href="fonts.html#DOMInterfaces">Fonts interfaces</a></li>
      <li><a href="metadata.html#DOMInterfaces">Metadata interfaces</a></li>
      <li><a href="extend.html#DOMInterfaces">Extensibility interfaces</a></li>
    </ul>
    <p>The SVG DOM builds upon and is compatible with 
    DOM Level 2.  In particular:</p>
    <ul>
      <li>The SVG DOM requires complete support for
      <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/">DOM Level 2 Core</a>
      [<a href="refs.html#ref-DOM2">DOM2</a>]</li>

      <li>Wherever appropriate, the SVG DOM is modeled after and
      maintains consistency with the
      <a href="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-html.html">Document Object Model HTML</a>
      ([<a href="refs.html#ref-DOM1">DOM1</a>], chapter 2).</li>

      <li>The SVG DOM requires complete support for 
      <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Views-20001113/">DOM Level 2 Views</a>
      [<a href="refs.html#ref-DOM2VIEWS">DOM2VIEWS</a>].</li>

      <li>The SVG DOM requires support for relevant aspects of
      <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/">DOM Level 2 Events</a>
      [<a href="refs.html#ref-DOM2EVENTS">DOM2EVENTS</a>].
      (For the specific features from DOM 2 Events that are required, see
      see <a href="svgdom.html#RelationshipWithDOM2Events">Relationship with DOM Level 2 Events</a>.)</li>

      <li>For implementations that support CSS, the SVG DOM requires complete
      support for
      <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113/stylesheets.html">DOM Level 2 Style Sheets</a>
      ([<a href="refs.html#ref-DOM2STYLE">DOM2STYLE</a>], chapter 1)
      and relevant aspects of
      <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113/css.html">DOM Level 2 CSS</a>
      ([<a href="refs.html#ref-DOM2STYLE">DOM2STYLE</a>], chapter 2).
      (For the specific features from DOM 2 CSS that are required, see
      <a href="svgdom.html#RelationshipWithCSSOM">Relationship with DOM Level 2 CSS</a>.)</li>
    </ul>
    <p>A DOM application can use the <strong>hasFeature</strong> method of
    the <a>DOMImplementation</a> interface to
    verify that the interfaces listed in this section are
    supported. The list of available interfaces is provided in
    section <a href="svgdom.html#FeatureStrings">Feature strings
    for the <strong>hasFeature</strong> method call</a>.
    </p>
    <p>All SVG DOM objects that directly correspond to an attribute, e.g.
    the <a>SVGAnimatedLength</a> <a>SVGRectElement::ry</a> in an
    <a>SVGRectElement</a>, are live.
    This means that any changes made to the attribute are immediately
    reflected in the corresponding SVG DOM object.
    </p>    
    <h3 id="SVGObjectInitialization">SVG DOM object initialization</h3>
    <p>
      The SVG DOM allows attributes to be accessed even though they haven't been
      specified explicitly in the document markup. When this happens an appropriate object 
      is created, initialized and returned. This newly constructed object does not affect rendering until
      it is modified for the first time. After the first modification the object
      becomes live, such that any modifications made to the corresponding
      attribute are immediately reflected in the object.
    </p>
    <p>
      For example, if <code>rectElement.x.baseVal</code> is accessed
      and the <a>'rect/x'</a> attribute was not specified in the document, the
      returned SVG DOM object would represent the value <span class="attr-value">0 user units</span>.
    </p>
    <p>
      For cases where an attribute has a default value the returned SVG DOM object that must reflect that value, 
      and for all other cases the object is initialized as described below.
      If a particular SVG DOM interface is not listed below that means
      that the object initialization shall be done using the values for the 
      objects that the interface contains, e.g <span class="DOMInterfaceName">DOMString</span> in the
      case of <a>SVGAnimatedString</a>, or four <span class="DOMInterfaceName">floats</span> in the case of <a>SVGRect</a>.
    </p>
    <dl id="SVGObjectInitValues">
    	<dt class="DOMInterfaceName"><a href="text.html#__svg__SVGTextContentElement__textLength">SVGTextContentElement.textLength</a></dt>
    	<dd>
        Initialized with the return-value of <a>SVGTextContentElement::getComputedTextLength</a> on the same element.
      </dd>
      <dt class="DOMInterfaceName">DOMString</dt>
      <dd>
        Initialized as the empty string (<span class="attr-value">""</span>).
      </dd>
      <dt class="DOMInterfaceName">float</dt>
      <dt class="DOMInterfaceName">long</dt>
      <dt class="DOMInterfaceName">short</dt>
      <dd>
        Initialized as <span class="attr-value">0</span>.
      </dd>
      <dt class="DOMInterfaceName">boolean</dt>
      <dd>
        Initialized as <span class="attr-value">false</span>.
      </dd>
      <dt class="DOMInterfaceName"><a>SVGLength</a></dt>
      <dd>
        Initialized as <span class="attr-value">0 user units</span> (<a href="types.html#__svg__SVGLength__SVG_LENGTHTYPE_NUMBER">SVG_LENGTHTYPE_NUMBER</a>).
      </dd>
      <dt class="DOMInterfaceName"><a>SVGLengthList</a></dt>
      <dt class="DOMInterfaceName"><a>SVGNumberList</a></dt>
      <dt class="DOMInterfaceName"><a>SVGPointList</a></dt>
      <dt class="DOMInterfaceName"><a>SVGStringList</a></dt>
      <dt class="DOMInterfaceName"><a>SVGTransformList</a></dt>
      <dd>
        Initialized as the empty list.
      </dd>
      <dt class="DOMInterfaceName"><a>SVGAngle</a></dt>
      <dd>
        Initialized as <span class="attr-value">0 in unspecified units</span> (<a href="types.html#__svg__SVGAngle__SVG_ANGLETYPE_UNSPECIFIED">SVG_ANGLETYPE_UNSPECIFIED</a>).
      </dd>
      <dt class="DOMInterfaceName"><a>SVGZoomAndPan</a></dt>
      <dd>
        Initialized as <span class="attr-value">0</span> (<a href="types.html#__svg__SVGZoomAndPan__SVG_ZOOMANDPAN_UNKNOWN">SVG_ZOOMANDPAN_UNKNOWN</a>).
      </dd>
      <dt class="DOMInterfaceName"><a>SVGPreserveAspectRatio</a></dt>
      <dd>
        Initialized as <span class="attr-value">'xMidYMid meet'</span>.
      </dd>        
    </dl>

<h2 id="ElementsInTheSVGDOM">Elements in the SVG DOM</h2>

<p>Every <a>Element</a> object that corresponds to an SVG element (that is,
an element with namespace URI "http://www.w3.org/2000/svg" and a
local name that is one of the elements defined in this specification)
must also implement the DOM interface identified in element definition.
For example, in <a href="shapes.html#RectElement">The <span class="element-name">'rect'</span> element</a>,
the <a>SVGRectElement</a> interface is identified.  This means that every
<a>Element</a> object whose namespace URI is "http://www.w3.org/2000/svg"
and whose local name is "rect" must also implement <a>SVGRectElement</a>.</p>

<h2 id="SVGDOMNamingConventions">Naming conventions</h2>

    <p>The SVG DOM follows similar naming conventions to the
    <a href="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-html.html">Document Object Model HTML</a>
    ([<a href="refs.html#ref-DOM1">DOM1</a>], chapter 2).</p>
    <p>All names are defined as one or more English words
    concatenated together to form a single string. Property or
    method names start with the initial keyword in lowercase, and
    each subsequent word starts with a capital letter. For example,
    a property that returns document meta information such as the
    date the file was created might be named "fileDateCreated". In
    the ECMAScript binding, properties are exposed as properties of
    a given object. In Java, properties are exposed with get and
    set methods.</p>
    <p>For attributes with the CDATA data type, the case of the
    return value is that given in the source document.</p>

<h2 id="ExceptionSVGException">Exception SVGException</h2>

<edit:interface name='::svg::SVGException'/>

<h2 id="FeatureStrings">Feature strings for the <strong>hasFeature</strong> method call</h2>

    <p>The feature strings that are available for the
    <strong>hasFeature</strong> method call that is part of the SVG
    DOM's support for the <a>DOMImplementation</a> interface
    defined in
    <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/">DOM Level 2 Core</a>
    [<a href="refs.html#ref-DOM2">DOM2</a>]
    are the same features strings available for the <a>'requiredFeatures'</a> attribute that is
    available for many SVG elements.</p>
    <p>For all features that correspond to the SVG language and are
    documented in this specification (see appendix <a
    href="feature.html">Feature Strings</a> for a list of features
    in the SVG language), the <strong>version</strong> number for
    the <strong>hasFeature</strong> method call is "1.1". For
    features that correspond to other languages, refer to the
    relevant other specifications to determine the appropriate
    version number for the given feature.</p>

<h2 id="RelationshipWithDOM2Events">Relationship with DOM Level 2 Events</h2>

<p>The SVG DOM supports all of the interfaces defined in, and
the following event types from,
<a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/">DOM Level 2 Events</a>
[<a href="refs.html#ref-DOM2EVENTS">DOM2EVENTS</a>]:</p>

    <ul>
      <li>
        These <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-eventgroupings-uievents">User Interface events</a>
        ([<a href="refs.html#ref-DOM2EVENTS">DOM2EVENTS</a>], section 1.6.1):
        <ul>
          <li><a href="interact.html#FocusInEvent">DOMFocusIn</a></li>
          <li><a href="interact.html#FocusOutEvent">DOMFocusOut</a></li>
          <li><a href="interact.html#ActivateEvent">DOMActivate</a></li>
        </ul>
      </li>
      <li>
        These <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-eventgroupings-mouseevents">mouse events</a>
        ([<a href="refs.html#ref-DOM2EVENTS">DOM2EVENTS</a>], section 1.6.2):
        <ul>
          <li><a href="interact.html#ClickEvent">click</a></li>
          <li><a href="interact.html#MouseDownEvent">mousedown</a></li>
          <li><a href="interact.html#MouseUpEvent">mouseup</a></li>
          <li><a href="interact.html#MouseOverEvent">mouseover</a></li>
          <li><a href="interact.html#MouseMoveEvent">mousemove</a></li>
          <li><a href="interact.html#MouseOutEvent">mouseout</a></li>
        </ul>
        <em>clientX</em> and <em>clientY</em> parameters for mouse
        events represent the mouse coordinates at which the event
        occurred relative to the DOM Implementation's client area.
        <em>relatedTarget</em> is used to identify a secondary
        EventTarget related to a UI event. Currently this attribute
        is used with the mouseover event to indicate the
        EventTarget which the pointing device exited and with the
        mouseout event to indicate the EventTarget which the
        pointing device entered.
      </li>
      <li>
        These <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-eventgroupings-mutationevents">mutation events</a>
        ([<a href="refs.html#ref-DOM2EVENTS">DOM2EVENTS</a>], section 1.6.4):
        <ul>
          <li><a href="interact.html#DOMSubtreeModifiedEvent">DOMSubtreeModified</a></li>
          <li><a href="interact.html#DOMNodeInsertedEvent">DOMNodeInserted</a></li>
          <li><a href="interact.html#DOMNodeRemovedEvent">DOMNodeRemoved</a></li>
          <li><a href="interact.html#DOMNodeRemovedFromDocumentEvent">DOMNodeRemovedFromDocument</a></li>
          <li><a href="interact.html#DOMNodeInsertedIntoDocumentEvent">DOMNodeInsertedIntoDocument</a></li>
          <li><a href="interact.html#DOMAttrModifiedEvent">DOMAttrModified</a></li>
          <li><a href="interact.html#DOMCharacterDataModifiedEvent">DOMCharacterDataModified</a></li>
        </ul>
      </li>
      <li>
        The SVG DOM defines the following SVG-specific custom event
        interfaces. These event interfaces are mandatory for SVG
        user agents: 
        <ul>
          <li><a href="interact.html#LoadEvent">SVGLoad</a></li>
          <li><a href="interact.html#UnloadEvent">SVGUnload</a></li>
          <li><a href="interact.html#AbortEvent">SVGAbort</a></li>
          <li><a href="interact.html#ErrorEvent">SVGError</a></li>
          <li><a href="interact.html#ResizeEvent">SVGResize</a></li>
          <li><a href="interact.html#ScrollEvent">SVGScroll</a>
          (triggered by either scroll or pan user actions)</li>
        </ul>
        Note that the SVGLoad event does not fire until the
        document is fully loaded and is therefore subject to the
        processing of any <a>'externalResourcesRequired'</a>
        attributes.
      </li>
      <li>
        The SVG DOM defines an additional custom event interface: 
        <ul>
          <li><a href="interact.html#ZoomEvent">SVGZoom</a>
          (definition can be found in the description of the <a>SVGZoomEvent</a> interface)</li>
        </ul>
      </li>
      <li>
        The following event types are triggered due to state
        changes in animations. (The definitions for these events
        can be found in the description of the <a>TimeEvent</a> interface.)
        <ul>
          <li><a href="interact.html#BeginEvent">beginEvent</a></li>
          <li><a href="interact.html#EndEvent">endEvent</a></li>
          <li><a href="interact.html#RepeatEvent">repeatEvent</a></li>
        </ul>
      </li>
    </ul>

<p id="EventListeners">While event listeners can be registered using an
<code>addEventListener</code> call on any element in the DOM,
the use of <a href="script.html#EventAttributes">event attributes</a>
on elements where those attributes are disallowed will not result in their
being invoked if the relevant event is dispatched to the element.
For example, if the <a>'onclick'</a> attribute were specified on
a <a>'title'</a> element, its contents would never be run in
response to a <span class='attr-value'>click</span> event:</p>

<pre class='example'><![CDATA[<svg xmlns="http://www.w3.org/2000/svg">
  <title onclick="alert('Hello')">Invalid event attribute</title>
  <script>
    // Find the 'title' element.
    var title = document.getElementsByTagNameNS("http://www.w3.org/2000/svg", "title")[0];

    // Create and initialize a 'click' event.
    var event = document.createEvent("MouseEvent");
    event.initMouseEvent("click", true, false, this, 1, 0, 0, 0, 0, false,
                         false, false, false, 0, null);

    // Dispatch the event to the 'title' element.  Since onclick="" is not
    // allowed on 'title', the alert will not show.
    title.dispatchEvent(event);
  </script>
</svg>]]></pre>

<p>See the <a href='attindex.html'>Attribute Index</a> for details on
which elements a given event attribute is allowed to be specified on.</p>

<p>Implementors may view the setting of event attributes as the
creation and registration of an <a>EventListener</a> on the
<a>EventTarget</a>.  Such event listeners are invoked only for
the "bubbling" and "at target" phases, as if false were specified
for the <code>useCapture</code> argument to <code>addEventListener</code>.
This <a>EventListener</a> behaves in the same manner as any other
which may be registered on the <a>EventTarget</a>.</p>

<p>If the attribute representing the event listener is changed,
this may be viewed as the removal of the previously registered
<a>EventListener</a> and the registration of a new one. Futhermore, no
specification is made as to the order in which event attributes
will receive the event with regards to the other EventListeners
on the <a>EventTarget</a>.</p>

<p>In Java, one way that event listeners can be established is
to define a class which implements the <a>EventListener</a> interface,
such as:</p>

<pre>
class MyAction1 implements EventListener {
  public void handleEvent(Event evt) {
    // process the event
  }
}
// ... later ...
MyAction1 mc1 = new MyAction1();
myElement.addEventListener("DOMActivate", mc1, false);
</pre>

<p>In ECMAScript, one way to establish an event listener is to
define a function and pass that function to the <code>addEventListener</code> method:</p>

<pre>
function myAction1(evt) {
  // process the event
}
// ... later ...
myElement.addEventListener("DOMActivate", myAction1, false)
</pre>

<p>In ECMAScript, the character data content of an
<a href="script.html#EventAttributes">event attribute</a> becomes
the definition of the ECMAScript function which gets invoked in
response to the event. As with all registered ECMAScript event
listener functions, this function receives an <a>Event</a> object as a
parameter, and the name of the Event object is
<strong>evt</strong>. For example, it is possible to write:</p>

<pre>
&lt;rect onactivate="MyActivateHandler(evt)" .../&gt;
</pre>

<p>which will pass the <a>Event</a> object <strong>evt</strong> into
function <code>MyActivateHandler</code>.</p>

<h2 id="RelationshipWithCSSOM">Relationship with DOM Level 2 CSS</h2>

<h3 id="CSSDOMIntro">Introduction</h3>

<p>The section describes the facilities from 
<a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113/css.html">DOM Level 2 CSS</a>
([<a href="refs.html#ref-DOM2STYLE">DOM2STYLE</a>], chapter 2)
that are part of the SVG DOM.</p>

<h3 id="CSSDOMFeaturesNoCSSSupport">User agents that do not support styling with CSS</h3>

<p>User agents that do not support <a href="styling.html#StylingWithCSS">styling with CSS</a>
are only required to support the following interfaces from
<a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113/css.html">DOM Level 2 CSS</a>
([<a href="refs.html#ref-DOM2STYLE">DOM2STYLE</a>], chapter 2), along with
any interfaces necessary to implement the interfaces, such as
<a>CSSPrimitiveValue</a> and <a>CSSValueList</a>. These interfaces are used in
conjunction with the <a>SVGStylable::getPresentationAttribute</a> method call
on interface <a>SVGStylable</a>, which must be supported on all implementations
of the SVG DOM.</p>

<ul>
  <li>Interface <a>RGBColor</a></li>
  <li>Interface <a>CSSValue</a></li>
</ul>

<h3 id="CSSDOMFeaturesWithCSSSupport">User agents that support styling with CSS</h3>

<p>User agents that support <a href="styling.html#StylingWithCSS">Styling with CSS</a>,
the SVG DOM, and <a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/aural.html">aural styling</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], chapter 19)
must support all of the interfaces defined in
<a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113/css.html">DOM Level 2 CSS</a>
([<a href="refs.html#ref-DOM2STYLE">DOM2STYLE</a>], chapter 2)
which apply to aural properties.</p>

<p>For <a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/media.html#visual-media-group">visual media</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], section 7.3.1),
user agents must support all of the required interfaces defined in
DOM Level 2 CSS.  All of the interfaces that are optional for DOM Level 2 CSS
are also optional for user agents implementing the SVG DOM.</p>
    
<h3 id="ExtendedInterfaces">Extended interfaces</h3>

<p>Note: the <a>SVGStylable::getPresentationAttribute</a> method and the interfaces that extend <a>CSSValue</a> are deprecated, and may be dropped from future versions of the SVG specification.</p>

<p>Whether or not a user agent supports <a href="styling.html#StylingWithCSS">styling with CSS</a>,
a user agent still must support interface <a>CSSValue</a>, as this is the type
that is returned from the <a>SVGStylable::getPresentationAttribute</a>
method call on interface <a>SVGStylable</a>.</p>

<p>DOM Level 2 CSS defines a set of
<a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113/css.html#CSS-extended">extended interfaces</a>
([<a href="refs.html#ref-DOM2STYLE">DOM2STYLE</a>], section 2.3) for use in
conjunction with interface <a>CSSValue</a>. The table below specifies the type
of <a>CSSValue</a> used to represent each SVG property that applies to
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/media.html#visual-media-group">visual media</a> 
([<a href="refs.html#ref-CSS2">CSS2</a>], section 7.3.1).
The expectation is that the <a>CSSValue</a> returned from the
<span class="dom-method-name">getPropertyCSSValue</span> method on the
<a>CSSStyleDeclaration</a> interface or the <a>SVGStylable::getPresentationAttribute</a>
method on the <a>SVGStylable</a> interface can be cast down, using
binding-specific casting methods, to the specific derived interface.</p>

<p>For properties that are represented by a custom interface
(the <span class='dom-attr-name'>cssValueType</span> of the <a>CSSValue</a> is CSS_CUSTOM),
the name of the derived interface is specified in the table. For these
properties, the table below indicates which extended interfaces
are mandatory and which are not.</p>

<p>For properties that consist of lists of values (the
<span class='dom-attr-name'>cssValueType</span> of the <a>CSSValue</a> is
CSS_VALUE_LIST), the derived interface is <a>CSSValueList</a>. For all other
properties (the <span class='dom-attr-name'>cssValueType</span> of the <a>CSSValue</a>
is CSS_PRIMITIVE_VALUE), the derived interface is <a>CSSPrimitiveValue</a>.</p>

<p>For shorthand properties, a <a>CSSValue</a> always will have a value
of null. Shorthand property values can only be accessed and modified as
strings.</p>

<p>The SVG DOM defines the following SVG-specific custom property
interfaces, all of which are mandatory for SVG user agents:</p>

<ul>
  <li><a>SVGColor</a></li>
  <li><a>SVGICCColor</a></li>
  <li><a>SVGPaint</a></li>
</ul>

    <table class='vert property-table' summary="type representations for properties">
      <tr>
        <th>Property Name</th>
        <th>Representation</th>
        <th>Mandatory?<br/>(Extended interfaces only)</th>
      </tr>
      <tr>
        <td><a>'alignment-baseline'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'baseline-shift'</a></td>
        <td>ident, length, percentage</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'clip'</a></td>
        <td>rect, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'clip-path'</a></td>
        <td>uri, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'clip-rule'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'color'</a></td>
        <td>rgbcolor, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'color-interpolation'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'color-profile property'</a></td>
        <td>list of strings, uri's and idents</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'color-rendering'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'cursor property'</a></td>
        <td>uri, ident</td>
        <td>no</td>
      </tr>
      <tr>
        <td><a>'direction'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'display'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'dominant-baseline'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'enable-background'</a></td>
        <td>list of idents and numbers</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'fill'</a></td>
        <td><a>SVGPaint</a></td>
        <td>yes</td>
      </tr>
      <tr>
        <td><a>'fill-opacity'</a></td>
        <td>number</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'fill-rule'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'filter property'</a></td>
        <td>uri, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'flood-color'</a></td>
        <td><a>SVGColor</a></td>
        <td>yes</td>
      </tr>
      <tr>
        <td><a>'flood-opacity'</a></td>
        <td>number</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'font property'</a></td>
        <td>null</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'font-family'</a></td>
        <td>list of strings and idents</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'font-size'</a></td>
        <td>ident, length, percentage</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'font-size-adjust'</a></td>
        <td>number, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'font-stretch'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'font-style'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'font-variant'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'font-weight'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'glyph-orientation-horizontal'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'glyph-orientation-vertical'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'image-rendering'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'kerning'</a></td>
        <td>ident, length</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'letter-spacing'</a></td>
        <td>ident, length</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'lighting-color'</a></td>
        <td><a>SVGColor</a></td>
        <td>yes</td>
      </tr>
      <tr>
        <td><a>'marker property'</a></td>
        <td>null</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'marker-end'</a></td>
        <td>uri, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'marker-mid'</a></td>
        <td>uri, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'marker-start'</a></td>
        <td>uri, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'mask property'</a></td>
        <td>uri, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'opacity'</a></td>
        <td>number</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'overflow'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'pointer-events'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'shape-rendering'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'stop-color'</a></td>
        <td><a>SVGColor</a></td>
        <td>yes</td>
      </tr>
      <tr>
        <td><a>'stop-opacity'</a></td>
        <td>number</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'stroke'</a></td>
        <td><a>SVGPaint</a></td>
        <td>yes</td>
      </tr>
      <tr>
        <td><a>'stroke-dasharray'</a></td>
        <td>ident or list of lengths</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'stroke-dashoffset'</a></td>
        <td>length</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'stroke-linecap'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'stroke-linejoin'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'stroke-miterlimit'</a></td>
        <td>length</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'stroke-opacity'</a></td>
        <td>number</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'stroke-width'</a></td>
        <td>length</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'text-anchor'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'text-decoration'</a></td>
        <td>list of ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'text-rendering'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'unicode-bidi'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'visibility'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'word-spacing'</a></td>
        <td>length, ident</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td><a>'writing-mode'</a></td>
        <td>ident</td>
        <td>&nbsp;</td>
      </tr>
    </table>

<h2 id="ReadOnlyNodes">Read only nodes in the DOM</h2>

<p>Some operations and attributes in the SVG DOM are defined to raise an
exception when an attempt is made to modify a node in the DOM that
is read only.  Such read only nodes are not related to attributes declared
in IDL with the <code>readonly</code> keyword.  Rather, they are nodes
that cannot be modified by virtue of being defined as
<a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/glossary.html#dt-readonly-node">readonly nodes</a>
by <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/">DOM Level 2 Core</a>
([<a href="refs.html#ref-DOM2">DOM2</a>], Glossary appendix).
Specifically, <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-527DCFF2">Entity</a>
and <a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-11C98490">EntityReference</a>
nodes and their descendants are read only ([<a href="refs.html#ref-DOM2">DOM2</a>], section 1.3).</p>

    <h2 id="InvalidValues">Invalid values</h2>
    <p>If a script sets a DOM attribute to an invalid value (e.g.,
    a negative number for an attribute that requires a non-negative
    number or an out-of-range value for an enumeration), unless
    this specification indicates otherwise, no exception shall be
    raised on setting, but the given document fragment shall become
    technically <span class="SVG-Term">in error</span> as described
    in <a href="implnote.html#ErrorProcessing">Error
    processing</a>.</p>

</body>
</html>
