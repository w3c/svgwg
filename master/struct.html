<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional+edit//EN" "xhtml1-transitional+edit.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:edit="http://xmlns.grorg.org/SVGT12NG/">
<head>
  <title>Document Structure</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="stylesheet"           title="Default"               type="text/css" media="screen" href="style/default_no_maturity.css"/>
  <link rel="alternate stylesheet" title="All annotations"       type="text/css" media="screen" href="style/default_svg.css"/>
  <link rel="alternate stylesheet" title="No issues/annotations" type="text/css" media="screen" href="style/default_no_issues.css"/>
  <!--
  <link rel="alternate stylesheet" title="CSS3 Unmodified"       type="text/css" media="screen" href="style/default.css"/>
  <link rel="alternate stylesheet" title="SVG 1.1"               type="text/css" media="screen" href="style/svg-style.css"/>
  -->
  <!-- W3C style sheet will be added here during processing. -->
</head>
<body>

<h1>Document Structure</h1>

<h2 id="NewDocument">Defining an SVG document fragment: the <span class='element-name'>'svg'</span> element</h2>

<edit:with element='svg'>

<h3 id="NewDocumentOverview">Overview</h3>

<p>An <a>SVG document fragment</a> consists of any number of SVG elements
contained within an <a>'svg'</a> element.</p>

<p>An SVG document fragment can range from an empty fragment (i.e.,
no content inside of the <a>'svg'</a> element), to a very simple SVG
document fragment containing a single SVG <a>graphics element</a>
such as a <a>'rect'</a>, to a complex, deeply nested collection of
<a>container elements</a> and <a>graphics elements</a>.</p>

<p>An SVG document fragment can stand by itself as a self-contained
file or resource, in which case the SVG document fragment is an <a>SVG
document</a>, or it can be embedded inline as a fragment within a parent
HTML or XML document.</p>

<p id="EmbeddedSVGExample">The following example shows simple SVG
content embedded inline as a fragment within a parent XML document.
Note the use of XML namespaces to indicate that the <a>'svg'</a> and
<a>'ellipse'</a> elements belong to the SVG namespace:</p>

<pre class='xml'><![CDATA[
<?xml version="1.0" standalone="yes"?>
<parent xmlns="http://example.org"
        xmlns:svg="http://www.w3.org/2000/svg">
   <!-- parent contents here -->
   <svg:svg width="4cm" height="8cm">
      <svg:ellipse cx="2cm" cy="4cm" rx="2cm" ry="1cm" />
   </svg:svg>
   <!-- ... -->
</parent>
]]></pre>

<p>This example shows a slightly more complex (i.e., it contains
multiple rectangles) stand-alone, self-contained SVG document:</p>

<edit:example href='images/struct/StandAlone01.svg' image='no'/>

<p><a>'svg'</a> elements can appear in the middle of SVG content. This
is the mechanism by which SVG document fragments can be embedded within
other SVG document fragments.</p>

<p>Another use for <a>'svg'</a> elements within the middle
of SVG content is to establish a new viewport. (See
<a href="coords.html#EstablishingANewSVGViewport">Establishing a new
viewport</a>.)</p>

<p>When SVG is parsed as a XML, for compliance with the
<a href="http://www.w3.org/TR/2006/REC-xml-names-20060816/"><cite>Namespaces in XML</cite></a> Recommendation
[<a href="refs.html#ref-XML-NS">XML-NS</a>], an SVG namespace
declaration must be provided so that all SVG elements are identified
as belonging to the SVG namespace. The following are possible ways to
provide a namespace declaration. An <span class='attr-name'>'xmlns'</span>
attribute without a namespace prefix could be specified on an
<a>'svg'</a> element, which means that SVG is the default namespace
for all elements within the scope of the element with the <span class='attr-name'>'xmlns'</span> attribute:</p>

<pre class='xml'><![CDATA[
<svg xmlns="http://www.w3.org/2000/svg" …>
  <rect …/>
</svg>
]]></pre>

<p>If a namespace prefix is specified on the <span class='attr-name'>'xmlns'</span>
attribute (e.g., <code class='xml'>xmlns:svg="http://www.w3.org/2000/svg"</code>),
then the corresponding namespace is not the default namespace, so an
explicit namespace prefix must be assigned to the elements:</p>

<pre class='xml'><![CDATA[
<svg:svg xmlns:svg="http://www.w3.org/2000/svg" …>
  <svg:rect …/>
</svg:svg>
]]></pre>

<p>Namespace prefixes can be specified on ancestor elements (illustrated
in the <a href="#EmbeddedSVGExample">above example</a>). For more
information, refer to the <a href="http://www.w3.org/TR/2006/REC-xml-names-20060816/"><cite>Namespaces in XML</cite></a> Recommendation
[<a href="refs.html#ref-XML-NS">XML-NS</a>].</p>

<p class="issue" data-issue="1">This section should talk about how a document's behavior
is defined in terms of the DOM, and also explain how the HTML parser can
create SVG fragments.</p>

<h3 id="Definitions">Definitions</h3>

<dl class='definitions'  data-dfn-type="dfn" data-export="">

  <dt id="TermStructuralElement"><dfn>structural element</dfn></dt>
  <dd>The structural elements are those which define the primary
  structure of an SVG document.  Specifically, the following
  elements are structural elements:
  <edit:elementcategory name='structural'/>.</dd>

  <dt id="TermStructurallyExternalElement">structurally external element</dt>
  <dd>Elements that define its structure by reference to an external resource.
  Specifically, the following elements are structurally external elements when
  they have an <span class="attr-name">'href'</span> attribute:
  <edit:elementcategory name='structurally external'/>.</dd>

  <dt id="TermSVGUserAgent">SVG user agent</dt>
  <dd>An SVG user agent is a <a>user agent</a> that is able to retrieve and
  render SVG content.</dd>

  <dt id="TermUserAgent">user agent</dt>
  <dd>
    <p>The general definition of a user agent is an application
    that retrieves and renders Web content, including text,
    graphics, sounds, video, images, and other content types. A
    user agent may require additional user agents that handle
    some types of content. For instance, a browser may run a
    separate program or plug-in to render sound or video. User
    agents include graphical desktop browsers, multimedia
    players, text browsers, voice browsers, and assistive
    technologies such as screen readers, screen magnifiers,
    speech synthesizers, onscreen keyboards, and voice input
    software.</p>

    <p>A "user agent" may or may not have the ability to retrieve
    and render SVG content; however, an "SVG user agent"
    retrieves and renders SVG content.</p>
  </dd>

  <dt id="TermCurrentSVGDocumentFragment">current SVG document fragment</dt>
  <dd>The document sub-tree which starts with the outermost
  ancestor <a>'svg'</a> element of a given SVG
  element, with the requirement that all container elements
  between the outermost <a>'svg'</a> and the given element are
  all elements in the SVG namespace.</dd>

  <dt id="TermOutermostSVGElement">outermost svg element</dt>
  <dd>The furthest <a>'svg'</a> ancestor element that remains in the
  <a>current SVG document fragment</a>.</dd>

  <dt id="TermSVGDocumentFragment">SVG document fragment</dt>
  <dd>A document sub-tree which starts with an <a>'svg'</a>
  element which is either the root element of the document or whose parent
  element is not in the SVG namespace.
  An SVG document fragment can consist of a stand-alone SVG document,
  or a fragment of a parent document enclosed by an <a>'svg'</a>
  element.
  When an <a>'svg'</a> element is a descendant of another <a>'svg'</a>
  element, only the <a>outermost svg element</a> is the root of an SVG
  document fragment.
  </dd>

  <dt id="TermSVGElements"> SVG elements</dt>
  <dd>Any element in the <a>SVG namespace</a>.</dd>

  <dt id="TermGraphicsElement"><dfn id="graphics-element">graphics element</dfn></dt>
  <dd>One of the element types that can cause graphics to be
  drawn onto the target canvas. Specifically:
  <edit:elementcategory name='graphics'/>.</dd>

  <dt id="TermGraphicsReferencingElement"><dfn id="graphics-referencing-element">graphics referencing element</dfn></dt>
  <dd>A graphics element which uses a reference to a different
  document or element as the source of its graphical content.
  Specifically: <edit:elementcategory name='graphics referencing'/>.</dd>

</dl>

<h3 id="SVGElement">The <span class='element-name'>'svg'</span> element</h3>

<div class="annotation svg2-requirement">
 <table>
  <tr>
   <th>SVG 2 Requirement:</th>
   <td>Should support the playbackorder attribute to inform UA to not display controls to seek backwards.</td>
 </tr>
 <tr>
   <th>Resolution:</th>
   <td><a href="http://www.w3.org/2012/03/29-svg-irc#T20-39-02">Support the playbackorder attribute.</a></td>
 </tr>
 <tr>
   <th>Purpose:</th>
   <td>To inform UA to not display controls to seek backwards.</td>
 </tr>
 <tr>
   <th>Owner:</th>
   <td>Cyril</td>
 </tr>
</table>
</div>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Support transforming <a>'svg'</a> elements.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2011/10/28-svg-irc#T00-23-44">We will allow <span class='attr-name'>'transform'</span> on <span class='element-name'>'svg'</span> in SVG 2.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>To allow transforms on nested <a>'svg'</a> elements, in line with author expectations.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Dirk (no action)</td>
    </tr>
  </table>
</div>

<div class="annotation svg2-requirement">
  <table>
   <tr>
    <th>SVG 2 Requirement:</th>
    <td>Support a means for having SMIL animations start before their time container has fully loaded.</td>
  </tr>
  <tr>
    <th>Resolution:</th>
    <td><a href="http://www.w3.org/2012/03/29-svg-irc#T20-23-57">Timeline control.</a></td>
  </tr>
  <tr>
    <th>Purpose:</th>
    <td>To start animations before the SVG document is fully loaded (useful for large SVG documents).</td>
  </tr>
  <tr>
    <th>Owner:</th>
    <td>Cyril</td>
  </tr>
 </table>
</div>

<edit:elementsummary name='svg'/>
<p>
  The <a>'x'</a> and <a>'y'</a> attributes specify the
  top-left corner of the rectangular region into which an
  embedded <a>'svg'</a> element is placed.  On an <a>outermost svg element</a>,
  these attributes have no effect.
</p>

<p class="note">Note that <a>'width'</a> and <a>'height'</a> are presentation attributes.</p>

<p>
  For <a>outermost svg elements</a>,
  the <a>'width property'</a> and <a>'height property'</a> attributes specify
  the intrinsic size of the SVG document fragment.
  For embedded <a>'svg'</a> elements, they specify the size
  of the rectangular region into which the <a>'svg'</a> element
  is placed.
</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="SVGElementPreserveAspectRatioAttribute">preserveAspectRatio</dfn></td>
        <td>defer? <a>&lt;align&gt;</a> [ meet | slice ]?</td>
        <td>xMidYMid meet</td>
        <td>yes</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Specifies the fitting behavior when the aspect ratio of the <a>'svg'</a>
    element does not match the aspect ratio of the rectangle it is placed in.
    See the definition of <a>'preserveAspectRatio'</a> for details.</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="SVGElementZoomAndPanAttribute">zoomAndPan</dfn></td>
        <td>disable | magnify</td>
        <td>magnify</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Specifies whether the user agent should supply a means to zoom
    and pan the SVG content.  See the definition of <a>'zoomAndPan'</a>
    for details.</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="SVGElementPlaybackorderAttribute">playbackorder</dfn></td>
        <td>forwardonly | all</td>
        <td>all</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="4">This attribute may be harmonized and/or replaced with the
    work done as part of the <a href="https://dvcs.w3.org/hg/FXTF/raw-file/tip/web-anim/index.html">Web Animation specification</a>.</p>
    <p>
      Indicates whether it is possible to seek backwards in the document. In
      earlier versions of SVG there was no need to put restrictions on the
      direction of seeking but with the newly introduced facilities for
      long-running documents (e.g. the <a href="#DiscardElement">
        <span class="element-name">'discard'</span></a> element) there is
      sometimes a need to restrict this.
    </p>
    <p>
      If <span class="attr-name">'playbackorder'</span> is set to
      <span class="attr-value">'forwardonly'</span>, the content will likely
      contain <a>'discard'</a>
      elements or scripts that destroy resources, thus seeking back in the
      document fragment's timeline may result in missing content.
      If <span class="attr-name">'playbackorder'</span> is
      <span class="attr-value">'forwardonly'</span>, the content should not
      provide a way, through hyperlinking or script, of seeking backwards in
      the timeline.  Similarly the UA should disable any controls it may
      provide in the user interface for seeking backwards. Content with
      <span class="attr-value">playbackorder="forwardonly"</span>
      that provides a mechanism for seeking backwards in time may result in
      undefined behavior or a document that is in error.
    </p>
    <p class="issue" data-issue="5">Can't we define this so that there is no undefined behavior?
    Awaiting <a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3726">ACTION-3726</a> (Brian).
    </p>
    <p>Attribute values have the following meanings:</p>
    <dl>
      <dt><span class="attr-value">'forwardonly'</span></dt>
      <dd>This file is intended to be played only in the forward direction, sequentially, therefore
        seeking backwards should not be allowed.</dd>
      <dt><span class="attr-value">'all'</span></dt>
      <dd>Indicates that the document is authored appropriately for seeking in both directions.</dd>
    </dl>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="SVGElementTimelinebeginAttribute">timelinebegin</dfn></td>
        <td>loadend | loadbegin</td>
        <td>loadend</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>
      Controls the initialization of the timeline for the <a>SVG document
      fragment</a>.
    </p>
    <p>
      The <a>outermost svg element</a> of an <a>SVG document fragment</a>
      defines a <em>timeline</em>.
      Absolute times used by <a>animation elements</a> in an <a>SVG document
      fragment</a> are relative to the document fragment's <em>timeline</em>.
    </p>
    <p>
      By default, the <em>timeline</em> is initialized when the document
      fragment's <a href="interact.html#LoadEvent"><code>load</code></a> event
      is fired but for progressively loaded animations, the author may set this
      attribute to <span class="attr-value">'loadend'</span>,
      thus allowing the timeline to begin as the document loads, rather than
      waiting until the complete document is loaded.
    </p>
    <p>Attribute values have the following meanings:</p>
    <dl>
      <dt><span class="attr-value">'loadend'</span></dt>
      <dd>
        The document fragment's timeline starts the moment the
        <a href="interact.html#LoadEvent"><code>load</code></a> event for the
        <a>outermost svg element</a> is triggered.
      </dd>
      <dt><span class="attr-value">'loadbegin'</span></dt>
      <dd>
        The document's timeline starts at the moment the
        <a>outermost svg element</a>'s <em>start-tag</em> (as defined in
        <a href="http://www.w3.org/TR/2006/REC-xml-20060816/#sec-starttags">XML
        1.0</a> [<a href="refs.html#ref-XML10">XML10</a>] or <a
        href="http://www.w3.org/TR/html5/syntax.html#syntax-start-tag">HTML</a>
        [<a href="refs.html#ref-HTML">HTML</a>] when using the HTML parser) is
        fully parsed.
      </dd>
    </dl>
  </dd>
</dl>

<p>If an SVG document is likely to be referenced as a component
of another document, the author will often want to include a
<a>'viewBox'</a> attribute on the <a>outermost svg element</a> of the
referenced document. This attribute provides a convenient way to design
SVG documents to scale-to-fit into an arbitrary viewport.</p>

<p id="SVGElementEventHandlerAttributes">The <a>'svg'</a> element exposes as <a>event handler content attributes</a> a number of the <a>event handlers</a> of the <a>Window</a> object. It also mirrors their <a>event handler IDL attributes</a>.</p>

<p>The <a href="interact.html">onblur</a>, <a>'onerror'</a>, <a href="interact.html">onfocus</a>, <a>'onload'</a>, and <a>'onscroll'</a> <a>event handlers</a> of the <a>Window</a> object, exposed on the <a>'svg'</a> element,
replace the generic <a>event handlers</a> with the same names normally supported by <a>SVG elements</a>.</p>

</edit:with>

<h2 id="Groups">Grouping: the <span class='element-name'>'g'</span> element</h2>

<h3 id="GroupsOverview">Overview</h3>

<dl class='definitions'  data-dfn-type="dfn" data-export="">
  <dt id="TermContainerElement"><dfn id="container-element">container element</dfn></dt>
  <dd>An element which can have <a>graphics elements</a> and other
  container elements as child elements. Specifically:
  <edit:elementcategory name='container'/>.</dd>
</dl>

<p>The <a>'g'</a> element is a <a>container element</a> for grouping together
related <a>graphics elements</a>.</p>

<p>A group of elements, as well as individual objects, can be given
a name using the <a>'id'</a> attribute. Named groups are needed for
several purposes such as animation and re-usable objects.</p>

<p>An example:</p>

<edit:example href='images/struct/grouping01.svg' image='no' link='yes'/>

<p>A <a>'g'</a> element can contain other <a>'g'</a> elements nested
within it, to an arbitrary depth.</p>


<h3 id="GElement">The <span class='element-name'>'g'</span> element</h3>

<edit:elementsummary name='g'/>

<h2 id="UnknownElement">Unknown elements</h2>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Have unknown elements treated as <a>'g'</a> for the purpose of rendering.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2012/01/13-svg-irc#T00-25-54">Accept having unknown elements treated as <span class='element-name'>'g'</span> for the purpose of rendering.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>To allow fallbacks without the use of <a>'switch'</a>, and to align with the behavior of unknown elements in HTML.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Nobody (no action)</td>
    </tr>
  </table>
</div>

<edit:elementsummary name='unknown'/>

<p>
Within an <a>SVG document fragment</a>, any subtree that is rooted by an unknown element in the SVG namespace
must be treated as an <a>SVGUnknownElement</a>. Whatever known svg child content the element has must be rendered.
</p>

<p>In the following example, the <a>'path'</a> element inside the unknown <em>mysteryelement</em> must render.</p>

<pre><![CDATA[
<?xml version="1.0" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 200">
  <mysteryelement width="600" height="200" style="transform:translateX(100px)">
    <path d="M0 0h600v200h-600z"/>
  </mysteryelement>
</svg>
]]></pre>

<h2 id="Head">Defining content for reuse, and the <span class='element-name'>'defs'</span> element</h2>

<h3 id="Overview">Overview</h3>

<p>SVG allows graphical objects to be defined for later reuse.
To do this, it makes extensive use of <a>URL references</a>
[<a href="refs.html#ref-RFC3987">RFC3987</a>] to these other objects.
For example, to fill a rectangle with a linear gradient, you first
define a <a>'linearGradient'</a> element and give it an ID, as in:</p>

<pre class='xml'><![CDATA[
<linearGradient id="MyGradient">...</linearGradient>
]]></pre>

<p>You then reference the linear gradient as the value of the
<a>'fill'</a> property for the rectangle, as in:</p>

<pre class='xml'><![CDATA[
<rect style="fill:url(#MyGradient)"/>
]]></pre>

<p>Some types of element, such as gradients, will not by themselves produce a graphical result. They can therefore be placed anywhere convenient. However, sometimes it is desired to define a graphical object and prevent it from being directly rendered. it is only there to be referenced elsewhere. To do this, and to allow convenient grouping defined content, SVG provides the <span class='element-name'>'defs'</span> element.</p>

<p>It is recommended that, wherever possible, referenced elements be defined
inside of a <a>'defs'</a> element. Among the elements that are always
referenced: <a>'clipPath'</a>, <a>'cursor element'</a>,
<a>'filter element'</a>, <a>'linearGradient'</a>, <a>'marker element'</a>,
<a>'mask element'</a>, <a>'pattern'</a>, <a>'radialGradient'</a> and
<a>'symbol'</a>.</p>

<h3 id="DefsElement">The <span class='element-name'>'defs'</span> element</h3>

<edit:elementsummary name='defs'/>

<p>The <a>'defs'</a> element is a container element for
<a href="struct.html#Head">referenced elements</a>. For understandability and
<a href="access.html">accessibility</a> reasons, it is recommended
that, whenever possible, referenced elements be defined inside
of a <a>'defs'</a>.</p>

<p>The content model for <a>'defs'</a> is the same as for the
<a>'g'</a> element; thus, any element that can be a child of a
<a>'g'</a> can also be a child of a <a>'defs'</a>, and vice versa.</p>

<p>Elements that are descendants of a <a>'defs'</a> are not rendered directly;
they are prevented from becoming part of the rendering tree
just as if the <a>'defs'</a> element were a <a>'g'</a> element and the
<a>'display'</a> property were set to <span class="prop-value">none</span>.
Note, however, that the descendants of a <a>'defs'</a> are
always present in the source tree and thus can always be
referenced by other elements; thus, the value of the <a>'display'</a>
property on the <a>'defs'</a> element or any of its descendants does not
prevent those elements from being referenced by other elements.</p>

<h2 id="DiscardElement">The <span class='element-name'>'discard'</span> element</h2>

<p class="issue" data-issue="17">Would this element be better as part of the Animation chapter?
It also needs to be a member of the element categories that other animation elements
are, and an IDL interface needs to be written for it.
Covered by <a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3727">ACTION-3727</a> (Cyril).</p>

<edit:with element='discard'>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Have the <a>'discard'</a> element to declaratively discard elements from the document tree.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2012/03/29-svg-minutes.html">SVG 2 will support the discard element.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>To conserve memory while displaying long-running documents.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Cyril (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3319">ACTION-3319</a>)</td>
    </tr>
  </table>
</div>

<edit:elementsummary name='discard'/>

<p class="issue" data-issue="18">Need to define SVGDiscardElement DOM interface for <a>'discard'</a> element. Covered by <a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3727">ACTION-3727</a> (Cyril).</p>

<p>
  The <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element allows authors to specify the time at which particular elements are to
  be discarded, thereby reducing the resources required by an <a>SVG user
  agent</a>.
  This is particularly useful to help SVG viewers conserve memory while
  displaying long-running documents.  This element will not be processed by
  static SVG viewers.
</p>
<p>
  The <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element may occur wherever the
  <a href="https://svgwg.org/specs/animations/#AnimateElement"><span class="element-name">'animate'</span></a>
  element may.
</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="DiscardElementHrefAttribute">href</dfn></td>
        <td>URL <a href="types.html#attribute-url" class="syntax">[URL]</a></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>
      An <a>URL reference</a>
      that identifies the <a href="https://svgwg.org/specs/animations/#TargetElement">target element</a>
      to discard.
      See the definition of <a href="https://svgwg.org/specs/animations/#HrefAttribute"><span
      class="attr-name">'href'</span></a> on <a>animation elements</a> for
      details on identifying a target element.
      Note, however, that unlike other <a>animation elements</a>, the
      <a>'discard'</a> element does not support the deprecated
      <a>'xlink:href'</a> attribute.
    </p>
    <p>
      Note that if the target element is not part of the
      <a>current SVG document fragment</a>
      then whether the target element will be removed or not is defined by the
      host language.
    </p>
    <p>
      If the <a>'href'</a> attribute is not provided, then the target element
      will be the immediate parent element of the discard element.
    </p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="DiscardElementBeginAttribute">begin</dfn></td>
        <td><a href="https://svgwg.org/specs/animations/#BeginValueListSyntax">&lt;begin-value-list&gt;</a></td>
        <td>0s</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="19">Attribute syntax needs fixing.</p>
    <p>
      Indicates when the target element will be discarded.  See the definition
      of <a href="https://svgwg.org/specs/animations/#BeginAttribute"><span class="attr-name">'begin'</span></a>
      on <a>animation elements</a> for details.
    </p>
  </dd>
</dl>

<p>
  The <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element has an implicit
  <a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/smil-timing.html#Timing-DefiningSimpleDur">simple duration</a>
  of <span class="attr-value">"indefinite"</span>.  As soon as the element's
  <a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/smil-timing.html#Timing-ComputingActiveDur">active duration</a>
  starts, the <a>SVG user agent</a>
  discards the element identified by the
  <a href="#DiscardElementHrefAttribute"><span class="attr-name">'href'</span></a>
  attribute ([<a href="refs.html#ref-SMIL">SMIL</a>], section 5.4.5).
  The removal operation acts as if
  <a href="http://www.w3.org/TR/2012/WD-dom-20120405/#dom-node-removechild"><code>removeChild</code></a>
  were called on the parent of the target element with the target element as
  parameter. [<a href="refs.html#ref-DOM4">DOM4</a>] The <a>SVG user agent</a>
  must remove the target node as well as all of its attributes and descendants.
</p>
<p>
  After removal of the <a href="https://svgwg.org/specs/animations/#TargetElement">target element</a>,
  the <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element is no longer useful. It must also be discarded following the
  target element removal. If the
  <a href="struct.html#DiscardElementHrefAttribute"><span class="attr-name">'href'</span></a>
  attribute has an <a>invalid</a> URL reference
  (the target element did not exist, for example),
  the <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element itself must still be removed following activation.
</p>
<p>
  <a href="http://www.w3.org/TR/2008/REC-SMIL3-20081201/smil-timing.html#Timing-HyperlinksAndTiming">Seeking backwards</a>
  in the timeline ([<a href="refs.html#ref-SMIL">SMIL</a>], section 5.4.5)
  must not re-insert the discarded elements. Discarded elements are intended to
  be completely removed from memory. So, authors are encouraged to set the
  <a href="#SVGElementPlaybackorderAttribute"><span class="attr-name">'playbackorder'</span></a>
  attribute to <span class="attr-value">"forwardonly"</span> when using the
  <a href="#DiscardElement"><span class="element-name">'discard'</span></a> element.
</p>
<p>
  The <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element itself can be discarded prior to its activation, in which case it will
  never trigger the removal of its own target element.
  <a>SVG user agents</a>
  must allow the <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element to be the target of another
  <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element.
</p>

<p>
  The following example demonstrates a simple usage of the
  <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
  element. The list below describes relevant behavior in the document timeline
  of this example:
</p>

<dl>
  <dt>At time = 0:</dt>
  <dd>When the document timeline starts, the blue ellipse starts to move down the page.</dd>
  <dt>At time = 1 second:</dt>
  <dd>The red rectangle starts moving up the page.</dd>
  <dt>At time = 2 seconds:</dt>
  <dd>
    The <a href="https://svgwg.org/specs/animations/#AnimateTransformElement"><span class="element-name">'animateTransform'</span></a>
    on the <a href="shapes.html#EllipseElement"><span class="element-name">'ellipse'</span></a>
    ends. The <a href="shapes.html#EllipseElement"><span class="element-name">'ellipse'</span></a>
    and its children are also discarded, as it is the
    <a href="https://svgwg.org/specs/animations/#TargetElement">target element</a> of a
    <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
    with <span class="attr-value">begin="2"</span>. The green
    <a href="shapes.html#PolygonElement"><span class="element-name">'polygon'</span></a>
    starts to move across the page.
  </dd>
  <dt>At time = 3 seconds:</dt>
  <dd>
    The animation on the red rectangle ends. The rectangle and its children are
    discarded as it is the target of a
    <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
    element with <span class="attr-value">begin="3"</span>.
  </dd>
  <dt>At time = 4 seconds:</dt>
  <dd>
    The animation on the green triangle ends. The green
    <a href="shapes.html#PolygonElement"><span class="element-name">'polygon'</span></a>
    and its children are discarded as it is the target of a
    <a href="#DiscardElement"><span class="element-name">'discard'</span></a>
    element with <span class="attr-value">begin="4".</span>
  </dd>
</dl>

<edit:example href='examples/discard01.svg' name='discard01' link='yes' image='no'/>

</edit:with>

<h2 id="DescriptionAndTitleElements">The <span class='element-name'>'desc'</span>
and <span class='element-name'>'title'</span> elements</h2>

<h3 id='DescriptionDefinitions'>Definition</h3>
<dl class='definitions'  data-dfn-type="dfn" data-export="">
  <dt id="TermDescriptiveElement"><dfn>descriptive element</dfn></dt>
  <dd>An element which provides supplementary descriptive information about
  its parent.  Specifically, the following elements are descriptive elements:
  <edit:elementcategory name='descriptive'/>.</dd>
</dl>

<div id='DescElement'>
<edit:elementsummary name='desc'/>
</div>

<div id='TitleElement'>
<edit:elementsummary name='title'/>
</div>

<p class="note">The attribute <a>'lang'</a> added to allow internationalization
of the <a>'desc'</a> and <a>'title element'</a> elements.</p>

<p class="annotation">Adding 'lang' resolved at Rigi Kaltbad face-to-face.
Removed text that limited number of 'desc' and 'title' elements.</p>

<p class="issue" data-issue="20">Is there any updated wording from SVG Tiny 1.2 that we
should be using wrt tooltips?</p>

<p>Each <a>container element</a> or <a>graphics element</a> in an SVG drawing
can supply one or more <a>'desc'</a> and/or one or more <a>'title'</a> description
strings where
the description is text-only. When the current SVG document fragment is
rendered as SVG on visual media, <a>'desc'</a> and <a>'title'</a> elements are
not rendered as part of the graphics. The <a>'title'</a> child element represents advisory information for the element, such as would be appropriate for a tooltip. On a link, this could be the title or a description of the target resource; on an image or drawing object, it could be the image credit or short description of the image; it could be further information about the source; on interactive content, it could be a label for, or instructions for, use of the element; and so forth. The value is text. The <a>'desc'</a> element represents more detailed, textual information, for the element. This is typically exposed to assistive technologies to provide more detailed information, such as help information about the element. The value is text.
</p>
<p>
Authors are provided two vehicles for providing a visible label with a drawing element. The first way is to embed text within the drawing element. The second is to associate visible text with a drawing element through the use of <a>'aria-labelledby'</a> on the element being labelled. Authors may provide a non-visible label to a drawing element by applying an <a>'aria-label'</a> to it but also by providing a descendant <a>'title'</a> element. An author may also expose a hidden label on an element to an assistive technologies through the use of <a>'aria-labelledby'</a> when it points to content that is hidden and contains text. It is common for user agents to render the <a>'title'</a> element as a tooltip. Tooltips are an important way to convey alternative text information for a drawing object where the text label is either not readily visible or could be rendered in a clearer way in response to passing over the drawing element with a pointing device. One benefit of using a descendant 'title' element can be seen when using SVG to to produce an image button or small drawing that has no visible text but it is important to be able to render a short textual equivalent label, or tooltip, when a pointing device passes over the button.
</p>
<p>
Authors should provide a <a>'title'</a> child element to the outermost svg element within a stand-alone SVG document. Since users often consult documents out of context, authors should provide context-rich titles. Thus, instead of a title such as "Introduction", which doesn't provide much contextual background, authors should supply a title such as "Introduction to Medieval Bee-Keeping" instead. For reasons of accessibility, user agents should always make the content of the ‘title’ child element to the outermost svg element available to users. The mechanism for doing so depends on the user agent (e.g., as a caption, spoken).
</p>
<p>
If the SVG document is embedded in an HTML document, the outermost svg element may only serve to act as a container for SVG drawings and applying a <a>'title'</a> child element may not be of value.  Applying a <a>'title'</a> element to the outermost SVG element in this may may result in a tooltip being generated.
</p>
<p>
Unlike the desc element, authors also have the ability to associate more detailed information with content that includes visible text. This can be achieved by applying <a>'aria-describedby'</a> to the element, or container of elements being described and passing an ID reference to content that includes text that describes the element in question. However, if the text describing the object is hidden the text within the description would be exposed to assistive technologies as detailed text information, similar to a descendant <a>'desc'</a> element. The <a>'aria-describedby'</a> attribute takes precedence over the child <a>'desc'</a> when providing a description, consequently authors should only use <a>'aria-describedby'</a> when an element is described by visible text on the screen, otherwise the use of a child <a>'desc'</a> is preferred.
</p>
<p>
User agents may, however, for example,
display the <a>'title'</a> element as a tooltip, as the pointing device moves
over particular elements. Alternate presentations are possible, both visual and
aural, which display the <a>'desc'</a> and <a>'title'</a> elements but do not
display <a>'path'</a> elements or other <a>graphics elements</a>. For deep
hierarchies, and for following <a>'use'</a> element references, it is
sometimes desirable to allow the user to control how deep they drill down into
descriptive text.</p>

<p>More than one <a>'desc'</a> or <a>'title element'</a> may be
present with different <a>'lang'</a> attributes. The text displayed
will be the text from the element where the <a>'lang'</a> attribute
best matches the language set by the user agent. If no match exists,
the text from the first element is used (to allow default text to be
given for legacy renderers). If multiple equally valid matches exist,
the first match is used.</p>

<p>The following is an example. In typical operation, the SVG user agent would
not render the <a>'desc'</a> and <a>'title'</a> elements but would render the
remaining contents of the <a>'g'</a> element.</p>

<pre><![CDATA[
<?xml version="1.0" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg"
     width="4in" height="3in">
  <g>
    <title>Company sales by region</title>
    <title lang="fr">Chiffre d'affaires par région</title>
    <desc>Bar chart which shows company sales by region.</desc>
    <desc lang="fr">Graphique illustrant les ventes par région.</desc>
    <!-- Bar chart defined as vector data -->
  </g>
</svg>
]]></pre>

<p>Description and title elements can contain marked-up text
from other namespaces.</p>

<p class="issue" data-issue="23">We should say what purpose including other-namespaced
markup in <a>'title'</a> and <a>'desc'</a> has.  If it is just that
these are basically metadata extension points for other profiles or
uses of SVG, then we should say that.</p>

<p class="issue" data-issue="24">We have this sentence here about tooltips
which is stronger than the earlier note that some
implementations do this.  We should look at how HTML describes
the <span class="attr-name">'title'</span> attribute and whether
a tooltip is required, suggested, etc., and follow that.</p>

<p class="issue" data-issue="25">Once we have said how ARIA attributes can be used
in SVG, we might want to define <a>'title'</a> and <a>'desc'</a>
in a manner consistent with them, so that it is clear what it means
for example for an element to have both a <a>'desc'</a> element
child and an <span class="attr-name">'aria-describedby'</span>
attribute.</p>

<!--
Do we want/need to keep this part?
<h2 id="Introduction">Introduction</h2>

<p>Metadata is structured data about data.</p>

<p>In the computing industry, there are ongoing standardization
efforts towards metadata with the goal of promoting industry
interoperability and efficiency. Content creators should track
these developments and include appropriate metadata in their
SVG content which conforms to these various metadata standards
as they emerge.</p>

<p>The W3C has a <a href="http://www.w3.org/2001/sw/Activity">Semantic Web
Activity</a> which has been established to serve a leadership
role, in both the design of enabling specifications and the
open, collaborative development of technologies that support
the automation, integration and reuse of data across various
applications. The Semantic Web Activity builds upon the earlier
W3C Metadata Activity, including the definition of Resource
Description Framework (RDF). The
<a href="http://www.w3.org/TR/2004/REC-rdf-primer-20040210/"><cite>RDF Primer</cite></a>
is the first in a set of six documents that define the Resource Description Framework
[<a href="refs.html#ref-RDF-PRIMER">RDF-PRIMER</a>].</p>

<p>Another activity relevant to most applications of metadata
is the <a href="http://dublincore.org/">Dublin Core</a>
[<a href="refs.html#ref-DCORE">DCORE</a>], which is
a set of generally applicable core metadata properties (e.g.,
Title, Creator/Author, Subject, Description, etc.).</p>

<p>Individual industries or individual content creators are
free to define their own metadata schema but are encouraged to
follow existing metadata standards and use standard metadata
schema wherever possible to promote interchange and
interoperability. If a particular standard metadata schema does
not meet your needs, then it is usually better to define an
additional metadata schema in an existing framework such as RDF
and to use custom metadata schema in combination with standard
metadata schema, rather than totally ignore the standard
schema.</p>-->

<h2 id="MetadataElement">The <span class="element-name">'metadata'</span> element</h2>

<p>Metadata which is included with SVG content should be
specified within <a>'metadata'</a>
elements. The contents of the <a>'metadata'</a> should be elements from
other XML namespaces, with these elements from these namespaces
expressed in a manner conforming with the <a href="http://www.w3.org/TR/2006/REC-xml-names-20060816/"><cite>Namespaces in XML</cite></a> Recommendation
[<a href="refs.html#ref-XML-NS">XML-NS</a>].</p>

<p>Authors should provide a <a>'metadata'</a> child element to the
<a>outermost svg element</a> within a
stand-alone SVG document. The <a>'metadata'</a> child element to an <a>'svg'</a> element serves the
purposes of identifying document-level metadata.</p>

<p>The definitions of many of SVG's elements (particularly,
container and text elements) place no restriction on the
placement or number of the <a>'metadata'</a> sub-elements. This
flexibility is only present so that there will be a consistent
content model for container elements, because some container
elements in SVG allow for mixed content, and because <a href="http://www.w3.org/TR/2008/REC-xml-20081126/#sec-mixed-content">the mixed
content rules for XML</a> ([<a href="refs.html#ref-XML10">XML10</a>], section 3.2.2)
do not permit the desired restrictions. Future
versions of the SVG language might provide more restrictive
mixed content rules. It is strongly recommended that at most
one <a>'metadata'</a> element appear
as a child of any particular element, and that this element
appear before any other child elements (except possibly <a>'desc'</a> or
<a>'title'</a> elements) or character
data content. If metadata-processing user agents need to choose
among multiple <a>'metadata'</a>
elements for processing it should choose the first one.</p>

<edit:elementsummary name='metadata'/>

<p>Here is an example of how metadata can be included in an SVG
document. The example uses the Dublin Core version 1.1 schema.
(Other XML-compatible metadata languages, including ones not
based on RDF, can be used also.)</p>

<pre><![CDATA[
<?xml version="1.0" standalone="yes"?>
<svg width="4in" height="3in"
    xmlns = 'http://www.w3.org/2000/svg'>
    <desc xmlns:myfoo="http://example.org/myfoo">
      <myfoo:title>This is a financial report</myfoo:title>
      <myfoo:descr>The global description uses markup from the
        <myfoo:emph>myfoo</myfoo:emph> namespace.</myfoo:descr>
      <myfoo:scene><myfoo:what>widget $growth</myfoo:what>
      <myfoo:contains>$three $graph-bar</myfoo:contains>
        <myfoo:when>1998 $through 2000</myfoo:when> </myfoo:scene>
   </desc>
    <metadata>
      <rdf:RDF
           xmlns:rdf = "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
           xmlns:rdfs = "http://www.w3.org/2000/01/rdf-schema#"
           xmlns:dc = "http://purl.org/dc/elements/1.1/" >
        <rdf:Description about="http://example.org/myfoo"
             dc:title="MyFoo Financial Report"
             dc:description="$three $bar $thousands $dollars $from 1998 $through 2000"
             dc:publisher="Example Organization"
             dc:date="2000-04-11"
             dc:format="image/svg+xml"
             dc:language="en" >
          <dc:creator>
            <rdf:Bag>
              <rdf:li>Irving Bird</rdf:li>
              <rdf:li>Mary Lambert</rdf:li>
            </rdf:Bag>
          </dc:creator>
        </rdf:Description>
      </rdf:RDF>
    </metadata>
</svg>
]]></pre>

<h2 id="SymbolElement">The <span class='element-name'>'symbol'</span> element</h2>

<edit:elementsummary name='symbol'/>

<edit:with element='symbol'>

<h3 id="SymbolAttributes">Attributes</h3>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="symbol" id="SymbolElementRefXAttribute">refX</dfn></td>
        <td><a>&lt;length&gt;</a> | left | center | right</td>
        <td>0</td>
        <td>yes</td>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="symbol" id="SymbolElementRefYAttribute">refY</dfn></td>
        <td><a>&lt;length&gt;</a> | top | center | bottom</td>
        <td>0</td>
        <td>yes</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="note">
      New in SVG 2. Added to make it easier to align symbols to a
      particular point, as is often done in maps. Similar to the
      matching attributes on <a>'marker element'</a>.
    </p>

    <p class="annotation">
      Add refX/refY to symbol element. Resolved at
      <a href="http://www.w3.org/2014/04/08-svg-minutes.html#item12">Leipzig F2F</a>.
    </p>
    <p class="annotation">
      We will add top/center/bottom, left/center/right keywords to
      refX/refY on marker/symbol. Resolved at
      <a href="http://www.w3.org/2014/08/26-svg-minutes.html#item07">London
      F2F</a>. Values inspired by
      <a href="http://www.w3.org/TR/css3-background/#the-background-position">'background-position'</a>.
    </p>

    <p>
      The <a>'refX'</a> and <a>'refY'</a> attributes define the
      reference point of the symbol which is to be placed exactly at
      the symbol's position as defined by the <a>'use'</a> element.
      They are interpreted as being in the coordinate system of the
      symbol contents, after application of the <a>'viewBox'</a>
      and <a>'preserveAspectRatio'</a> attributes.
    </p>

  </dd>
</dl>

<h3 id="SymbolNotes">Notes on symbols</h3>

<p>The <a>'symbol'</a> element is used to define graphical template objects
which can be instantiated by a <a>'use'</a> element.</p>

<p>The use of <a>'symbol'</a> elements for graphics that are used multiple
times in the same document adds structure and semantics.</p>

<p>The key distinctions between a <a>'symbol'</a> and a <a>'g'</a> are:</p>

<ul>
  <li>A <a>'symbol'</a> element itself is not rendered. Only instances of a
  <a>'symbol'</a> element (i.e., a reference to a <a>'symbol'</a> by
  a <a>'use'</a> element) are rendered.</li>

  <li>A <a>'symbol'</a> element has attributes <a>'viewBox'</a> and
  <a>'preserveAspectRatio'</a> which allow a <a>'symbol'</a> to scale-to-fit
  within a rectangular viewport defined by the referencing
  <a>'use'</a> element.</li>
</ul>

<p>The <a href="styling.html#UAStyleSheet">user agent style sheet</a> sets
the <a>'overflow'</a> property for <a>'symbol element'</a> elements to
<span class="prop-value">hidden</span>, which causes a rectangular clipping
path to be created at the bounds of symbol's viewport.  Unless the
<a>'overflow'</a> property is overridden, any graphics within the symbol which
goes outside of the symbol's viewport will be clipped.</p>

<p>Closely related to the <a>'symbol'</a> element are the
<a>'marker element'</a> and <a>'pattern'</a> elements.</p>

<p><a>'symbol'</a> elements are never rendered directly; their only usage is
as something that can be referenced using the
<a>'use'</a> element. The <a>'display'</a> property does not apply
to the <a>'symbol'</a> element; thus, <a>'symbol'</a> elements are
not directly rendered even if the <a>'display'</a> property is set to a
value other than <span class="prop-value">none</span>, and <a>'symbol'</a>
elements are available for referencing even when the
<a>'display'</a> property on the <a>'symbol'</a> element or any of its
ancestors is set to <span class="prop-value">none</span>.</p>

</edit:with>

<h2 id="UseElement">The <span class='element-name'>'use'</span> element</h2>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Allow <a>'use'</a> to reference an external document's root element by omitting the fragment.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2011/10/28-svg-irc#T00-33-43">We will relax referencing requirements to particular elements to allow dropping fragments to mean referencing root element, where it makes sense, such as with use, in SVG 2.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>To avoid requiring authors to modify the referenced document to add an ID to the root element.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Cameron (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3417">ACTION-3417</a>)</td>
    </tr>
  </table>
</div>

<edit:with element='use'>

<edit:elementsummary name='use'/>

<p>The <a>'use'</a> element
references another element and indicates that the <a>graphical
contents</a> of that element is included/drawn at that given point
in the document.</p>

<p class="issue" data-issue="27"><a>'use'</a> is described as referencing template
objects, but the parameters of the template are limited – just
different inherited property values.</p>

<p>The <dfn id="TermGraphicalContents">graphical contents</dfn>
are any <a>'svg'</a>, <a>'symbol'</a>, <a>'g'</a>, <a>graphics element</a> or
other <a>'use'</a> elements, that a <a>'use'</a> element references.
</p>

<div class="ready-for-wider-review">
<p>The <a>'use'</a> element can reference an entire SVG document
by specifying an <a>'href'</a> value without a fragment.
Such references are taken to be referring to the root element
of the referenced document.</p>

<p class="note">This allows an entire SVG document to be referenced
without having to ensure that it has an ID on its root element.</p>
</div>

<p>The <a>'use'</a> element has
optional attributes <a>'use/x'</a>, <a>'use/y'</a>, <a>'use/width'</a> and <a>'use/height'</a> which are used to map the
graphical contents of the referenced element onto a rectangular
region within the current coordinate system.</p>

<p>The effect of a <a>'use'</a>
element is as if the <a>graphical contents</a> of the referenced element were
deeply cloned into a separate non-exposed DOM tree which had
the <a>'use'</a> element as its
parent and all of the <a>'use'</a>
element's ancestors as its higher-level ancestors. Because the
cloned DOM tree is non-exposed, the SVG Document Object Model
(DOM) only contains the <a>'use'</a>
element and its attributes. The SVG DOM does not show the
referenced element's contents as children of <a>'use'</a> element.</p>

<p class="added-since-last-wd">The non-exposed DOM tree must be created even if
<span class="prop-value">'display: none'</span> is set on the <a>'use'</a> element.
Note that <a>'script'</a> elements that get conceptually cloned into the non-exposed DOM tree
do not execute again, and <a>'audio'</a> and <a>'video'</a> elements that may play audio
must only do so if the <a>'use'</a> element is rendered.
</p>

<p class="issue" data-issue="28">We should define the behavior of <a>'use'</a>
in terms of Web Components. See <a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3729">ACTION-3729</a> (Tab)</p>

<p>The conceptual deep cloning of the referenced element into a
non-exposed DOM tree also copies any property values resulting
from <a href="http://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html">the CSS cascade</a>
([<a href="refs.html#ref-CSS21">CSS21</a>], chapter 6)
on the referenced element and its contents. CSS2 selectors can
be applied to the original (i.e., referenced) elements because
they are part of the formal document structure. CSS2 selectors
cannot be applied to the (conceptually) cloned DOM tree because
its contents are not part of the formal document structure.</p>

<p>Property inheritance, however, works as if the referenced
element had been textually included as a deeply cloned child of
the <a>'use'</a> element. The
referenced element inherits properties from the <a>'use'</a> element and the <a>'use'</a> element's ancestors. An
instance of a referenced element does not inherit properties
from the referenced element's original parents.</p>

<p class="note">Note that specifying <span
class="prop-value">'visibility:hidden'</span> on a <a>'use'</a> element does not guarantee
that the referenced content will not be rendered. If the <a>'use'</a> element specifies <span
class="prop-value">'visibility:hidden'</span> and the element
it references specifies <span
class="prop-value">'visibility:hidden'</span> or <span
class="prop-value">'visibility:inherit'</span>, then that one
element will be hidden. However, if the referenced element
instead specifies <span
class="prop-value">'visibility:visible'</span>, then that
element will be visible even if the <a>'use'</a> element specifies <span
class="prop-value">'visibility:hidden'</span>.</p>

<p>If event attributes are assigned to referenced elements,
then the actual target for the event will be the
element within the "instance tree" corresponding to the given
referenced element.</p>

<p>The event handling for the non-exposed tree works as if the
referenced element had been textually included as a deeply
cloned child of the <a>'use'</a>
element, and events are dispatched according to the shadow tree
<a href="http://www.w3.org/TR/2013/WD-shadow-dom-20130514/#event-dispatch">event dispatching algorithm</a> [<a href="refs.html#ref-SHADOWDOM">SHADOWDOM</a>].
The event's target and currentTarget attributes are set to the
instance tree element that
corresponds to the target and current target elements in the
referenced subtree. An event propagates through the exposed and
non-exposed portions of the tree in the same manner as it would
in the regular document tree: first going from the root element
to the <a>'use'</a> element and then
through non-exposed tree elements in the capture phase,
followed by the target phase at the target of the event, then
bubbling back through non-exposed tree to the use element and
then back through regular tree to the root element in bubbling
phase. In order to maintain encapsulation events must use the
<a href="http://www.w3.org/TR/2013/WD-shadow-dom-20130514/#event-retargeting">event retargeting algorithm</a> [<a href="refs.html#ref-SHADOWDOM">SHADOWDOM</a>]
when crossing from a non-exposed tree to the regular tree.
</p>

<div class="ready-for-wg-review">
<p>
The element referenced by <a>'use'</a> may be in a separate document. However,
this specification does not define how or if the user agent will process
stylesheets in that document, or what viewport will be used for
resolving percentages and media queries in such documents, if animations run
in the separate document and which document controls the animation timeline. Script elements in the
resource document must not be executed, and the corresponding conceptually cloned script elements
must also not execute.
</p>
<p class="note">
When re-using external assets, therefore, authors are advised not to include any scripts in the external
file and to use inline styles or presentation attributes only. Percentage
lengths should only be used if the re-used assets define their own viewport 
(i.e., if the re-used element is an <a>'svg'</a> or <a>'symbol'</a>). Declarative animations in
external assets should not be used.
</p>
<p>
User agents may restrict restrict external resource documents for security
reasons. In particular, this specification does not allow cross-origin resource requests in <a>'use'</a>.
A future version of this or another specification may provide a method of securely enabling cross-origin re-use
of assets.
</p>
</div>

<p>Animations on a referenced element will cause the instances
to also be animated.</p>

<p>A <a>'use'</a> element has the
same visual effect as if the <a>'use'</a> element were replaced by the
following generated content:</p>

<p class="issue" data-issue="36">Except that the replaced content shouldn't affect
how styles are matched.</p>

<p>
  In the generated content, the <a>'use'</a> will be replaced
  by <a>'g'</a>, where all attributes from the <a>'use'</a> element
  except for <a>'use/x'</a>, <a>'use/y'</a>, <a>'use/width'</a>,
  <a>'use/height'</a>, <a>'use/href'</a> and <a>'xlink:href'</a> are transferred
  to the generated <a>'g'</a> element. An additional transformation
  <span class="attr-value">translate(x,y)</span> is appended to the
  end (i.e., right-side) of the <a>'transform'</a> property on the
  generated <a>'g'</a>, where <span class="attr-value">x</span>
  and <span class="attr-value">y</span> represent the values of
  the <a>'use/x'</a> and <a>'use/y'</a> attributes on the <a>'use'</a>
  element.
</p>

<ul>
  <li>
    <p>
      <strong>If the <a>'use'</a> element references a <a>'symbol'</a> element</strong>:
    </p>
    <p>
      The referenced <a>'symbol'</a> and its contents are deep-cloned
      into the generated tree, with the exception that the
      <a>'symbol'</a> is replaced by an <a>'svg'</a>. This
      generated <a>'svg'</a> will always have explicit values for its
      <a>'width'</a> and <a>'height'</a> presentation attributes. If
      attributes <a>'use/width'</a> and/or <a>'use/height'</a> are
      provided on the <a>'use'</a> element, then these attributes will
      be transferred to the generated <a>'svg'</a>. If
      attributes <a>'use/width'</a> and/or <a>'use/height'</a> are not
      specified, the generated <a>'svg'</a> element will use values
      of <span class='attr-value'>'100%'</span> for these attributes.
    </p>
  </li>
  <li>
    <p>
      <strong>If the <a>'use'</a> element references an <a>'svg'</a> element:</strong>
    </p>
    <p>
      The referenced <a>'svg'</a> and its contents are deep-cloned
      into the generated tree. If attributes <a>'use/width'</a>
      and/or <a>'use/height'</a> are provided on the <a>'use'</a>
      element, then these values will override the corresponding
      attributes on the <a>'svg'</a> in the generated tree.
    </p>
  </li>
  <li>
    <p>
      <strong>Otherwise:</strong>
    </p>
    <p>
      The referenced object and its contents are deep-cloned into the
      generated tree.
    </p>
  </li>
</ul>

<p>For user agents that support <a
href="styling.html#StylingWithCSS">Styling with CSS</a>, the
generated <a>'g'</a> element carries along with
it the "cascaded" property values on the <a>'use'</a> element which result from
<a href="http://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html">the CSS cascade</a>
([<a href="refs.html#ref-CSS21">CSS21</a>], chapter 6).
Additionally, the copy (deep clone) of the referenced resource
carries along with it the "cascaded" property values resulting
from the CSS cascade on the original (i.e., referenced)
elements. Thus, the result of various CSS selectors in
combination with the <a>'class'</a> and <a>'style attribute'</a> attributes are, in effect,
replaced by the functional equivalent of a <a>'style attribute'</a> attribute in the generated
content which conveys the "cascaded" property values.</p>

<p><span class="example-ref">Example Use01</span> below has a
simple <a>'use'</a> on a <a>'rect'</a>.</p>

<edit:example href='images/struct/Use01.svg' name='Use01' description="Simple case of 'use' on a 'rect'" link='yes' image='yes'/>

<p>The visual effect would be equivalent to the following document:</p>

<edit:example href='images/struct/Use01-GeneratedContent.svg' link='yes'/>

<p><span class="example-ref">Example Use02</span> below has a
<a>'use'</a> on a <a>'symbol'</a>.</p>

<edit:example href='images/struct/Use02.svg' name='Use02' description="'use' on a 'symbol'" link='yes' image='yes'/>

<p>The visual effect would be equivalent to the following document:</p>

<edit:example href='images/struct/Use02-GeneratedContent.svg' link='yes'/>

<p><span class="example-ref">Example Use03</span> illustrates
what happens when a <a>'use'</a> has
a <a>'transform'</a> property.</p>

<edit:example href='images/struct/Use03.svg' name='Use03' description="'use' with a 'transform' property" link='yes' image='yes'/>

<p>The visual effect would be equivalent to the following document:</p>

<edit:example href='images/struct/Use03-GeneratedContent.svg' link='yes'/>

<p><span class="example-ref">Example Use04</span> illustrates a
<a>'use'</a> element with various
methods of applying CSS styling.</p>

<edit:example href='images/struct/Use04.svg' name='Use04' description="'use' with CSS styling" link='yes' image='yes'/>

<p>The visual effect would be equivalent to the following
document. Observe that some of the style rules above apply to
the generated content (i.e., rules 1-6, 10-12), whereas others
do not (i.e., rules 7-9). The rules which do not affect the
generated content are:</p>

<ul>
  <li>Rules 7 and 8: CSS selectors only apply to the formal
  document tree, not on the generated tree; thus, these
  selectors will not yield a match.</li>

  <li>Rule 9: The generated tree only inherits from the
  ancestors of the <a>'use'</a>
  element and does not inherit from the ancestors of the
  referenced element; thus, this rule does not affect the
  generated content.</li>
</ul>

<p>In the generated content below, the selectors that yield a
match have been transferred into inline <a>'style attribute'</a> attributes for
illustrative purposes.</p>

<edit:example href='images/struct/Use04-GeneratedContent.svg' link='yes'/>

<p>When a <a>'use'</a> references
another element which is another <a>'use'</a> or whose content contains a
<a>'use'</a> element, then the deep
cloning approach described above is recursive. However, a set
of references that directly or indirectly reference a element
to create a circular dependency is an error, as described in <a
href="#Head">References and the <span class='element-name'>'defs'</span> element</a>.</p>

<p><em>Attribute definitions:</em></p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="use" id="UseElementXAttribute">x</dfn>, <dfn data-dfn-type="element-attr" data-dfn-for="use" id="UseElementYAttribute">y</dfn></td>
        <td><a>&lt;length&gt;</a></td>
        <td>0</td>
        <td>yes</td>
      </tr>
      <tr>
        <td><dfn data-dfn-type="element-attr" data-dfn-for="use" id="UseElementWidthAttribute">width</dfn>, <dfn id="UseElementHeightAttribute">height</dfn></td>
        <td><a>&lt;length&gt;</a></td>
        <td>(see below)</td>
        <td>yes</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>The <a>'x'</a>, <a>'y'</a>, <a>'width'</a> and <a>'height'</a>
    attributes specify the positioning of the referenced element.
    The <a>'width'</a> and <a>'height'</a> attributes have different
    <a>initial values</a> depending on the type of the referenced element:</p>
    <dl class='switch'>
      <dt><a>'svg'</a></dt>
      <dd>The <a>initial values</a> are the <a>'width'</a> and <a>'height'</a>
      presentation attribute values from the referenced <a>'svg'</a> element.</dd>
      <dt>anything else</dt>
      <dd>The <a>initial values</a> are <span class='attr-value'>'100%'</span>.</dd>
    </dl>
    <p>A negative value for <a>'width'</a> or <a>'height'</a> is an error (see
    <a href="implnote.html#ErrorProcessing">Error processing</a>).  If
    <a>'width'</a> or <a>'height'</a> is zero then rendering of the
    <a>'use'</a> element is disabled.</p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="UseElementHrefAttribute">href</dfn></td>
        <td>URL <a href="types.html#attribute-url" class="syntax">[URL]</a></td>
        <td>(none)</td>
        <td>yes</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>An <a href="linking.html#URLReference">URL reference</a> to the
    element/fragment within an SVG document to be cloned for
    rendering.</p>
    Refer to the common handling defined for <a
    href="linking.html#linkRefAttrs">URL reference attributes</a> and
    <a href="linking.html#XLinkRefAttrs">deprecated XLink attributes</a>.
  </dd>
</dl>

</edit:with>

<h2 id="ConditionalProcessing">Conditional processing</h2>

<h3 id="ConditionalProcessingOverview">Conditional processing overview</h3>

<p>SVG contains a <a>'switch'</a> element along with
attributes <a>'requiredExtensions'</a> and <a>'systemLanguage'</a> to provide an
ability to specify alternate viewing depending on the
capabilities of a given user agent or the user's language.</p>

<p>Attributes <a>'requiredExtensions'</a> and <a>'systemLanguage'</a> act as tests and
evaluate to either true or false. The <a>'switch'</a> renders the first of
its children for which all of these attributes test true. If
the given attribute is not specified, then a true value is
assumed.</p>

<p>Similar to the <a>'display'</a> property, conditional processing
attributes only affect the direct rendering of elements and do
not prevent elements from being successfully referenced by
other elements (such as via a <a>'use'</a>).</p>

<p>In consequence:</p>

<ul>
  <li><a>'requiredExtensions'</a> and <a>'systemLanguage'</a> attributes affect
  <a>'a'</a>, <a>'foreignObject'</a>, <a>'textPath'</a>, and <a>'tspan'</a> elements.</li>

  <li><a>'requiredExtensions'</a> and <a>'systemLanguage'</a> attributes will
  have no effect on the <a>'clipPath'</a>, <a>'filter element'</a>, <a>'marker element'</a>, <a>'mask element'</a>,
  <a>'pattern'</a> and <a>'symbol'</a> elements or on <a>gradient elements</a>.</li>

  <li><a>'requiredExtensions'</a> and <a>'systemLanguage'</a> attributes do not
  apply to the <a>'defs'</a>, and
  <a>'cursor element'</a> elements because
  they are not part of the rendering tree.</li>

  <li><a>'requiredExtensions'</a> and <a>'systemLanguage'</a> attributes affect
  <a>'animate'</a>, <a>'animateMotion'</a>, <a>'animateTransform'</a>, and <a>'set'</a> elements. If the
  conditional statement on these animation elements fails, the
  animation will never be triggered.</li>
</ul>

<h3 id="ConditionalProcessingDefinitions">Definitions</h3>
<dl class='definitions'  data-dfn-type="dfn" data-export="">
  <dt id="TermConditionalProcessingAttribute">conditional processing attribute</dt>
  <dd>A conditional processing attribute is one that controls whether
  or not the element on which it appears is processed.  Most elements,
  but not all, may have conditional processing attributes specified
  on them.  See <a href="struct.html#ConditionalProcessing">Conditional processing</a>
  for details.  The conditional processing attributes defined in
  SVG 1.1 are <edit:attributecategory name='conditional processing'/>.</dd>
</dl>

<h3 id="SwitchElement">The <span class='element-name'>'switch'</span> element</h3>

<edit:elementsummary name='switch'/>

<p>The <a>'switch'</a> element evaluates
the <a>'requiredExtensions'</a> and
<a>'systemLanguage'</a> attributes on its direct child elements in
order, and then processes and renders the first child for which these
attributes evaluate to true. All others will be bypassed and therefore
not rendered. If the child element is a container element such as a
<a>'g'</a>, then the entire subtree is either processed/rendered or
bypassed/not rendered.</p>

<p>Note that the values of properties <a>'display'</a> and
<a>'visibility'</a> have no effect on <a>'switch'</a> element
processing. In particular, setting <a>'display'</a> to
<span class="prop-value">none</span> on a child of a <a>'switch'</a> element
has no effect on true/false testing associated with <a>'switch'</a>
element processing.</p>

<p>The <a>'switch'</a> element does not affect the processing of
<a>'script'</a> and <a>'style element'</a> elements.</p>

<p>For more information and an example, see
<a href="embedded.html#ForeignObjectElement">Embedding foreign
object types</a>.</p>

<h3 id="ConditionalProcessingRequiredExtensionsAttribute">The <span class='attr-name'>'requiredExtensions'</span> attribute</h3>

<p>The <a>'requiredExtensions'</a>
attribute defines a list of required language extensions.
Language extensions are capabilities within a user agent that
go beyond the feature set defined in this specification. Each
extension is identified by an <a
href="linking.html#URLReference">URL reference</a>.</p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="RequiredExtensionsAttribute">requiredExtensions</dfn></td>
        <td><em>list-of-extensions</em></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="40">Need a grammar for list-of-extensions.</p>
    <p>The value is a list of <a
    href="linking.html#URLReference">URL reference</a>s which
    identify the required extensions, with the individual
    values separated by white space. Determines whether all of
    the named <em>extensions</em> are supported by the user
    agent. If all of the given extensions are supported, then
    the attribute evaluates to true; otherwise, the current
    element and its children are skipped and thus will not be
    rendered.</p>
  </dd>
</dl>

<p>If a given <a href="linking.html#URLReference">URL
reference</a> contains white space within itself, that white
space must be escaped.</p>

<p>If the attribute is not present, then its implicit return
value is "true". If a null string or empty string value is
given to attribute <a>'requiredExtensions'</a>, the attribute
returns "false".</p>

<p><a>'requiredExtensions'</a> is often
used in conjunction with the <a>'switch'</a> element. If the <a>'requiredExtensions'</a> is used in other
situations, then it represents a simple switch on the given
element whether to render the element or not.</p>

<p>The URL names for the extension should include versioning
information, such as "http://example.org/SVGExtensionXYZ/1.0",
so that script writers can distinguish between different
versions of a given extension.</p>

<h3 id="ConditionalProcessingSystemLanguageAttribute">The <span class="attr-name">'systemLanguage'</span> attribute</h3>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="SystemLanguageAttribute">systemLanguage</dfn></td>
        <td><em>list-of-languages</em></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p class="issue" data-issue="59">Need a grammar for list-of-languages.</p>
    <p>The value is a comma-separated list of Language-Tag values,
    as defined in <a href="http://www.ietf.org/rfc/bcp/bcp47.txt">BCP 47</a>
    [<a href="refs.html#ref-BCP47">BCP47</a>].
    </p>
  </dd>
</dl>

<p>Evaluates to "true" if one of the languages indicated by
user preferences exactly equals one of the languages given in
the value of this parameter, or if one of the languages
indicated by user preferences exactly equals a prefix of one of
the languages given in the value of this parameter such that
the first tag character following the prefix is "-".</p>

<p>Evaluates to "false" otherwise.</p>

<p>Note: This use of a prefix matching rule does not imply that
language tags are assigned to languages in such a way that it
is always true that if a user understands a language with a
certain tag, then this user will also understand all languages
with tags for which this tag is a prefix.</p>

<p>The prefix rule simply allows the use of prefix tags if this
is the case.</p>

<p>Implementation note: When making the choice of linguistic
preference available to the user, implementers should take into
account the fact that users are not familiar with the details
of language matching as described above, and should provide
appropriate guidance. As an example, users may assume that on
selecting "en-gb", they will be served any kind of English
document if British English is not available. The user
interface for setting user preferences should guide the user to
add "en" to get the best matching behavior.</p>

<p>Multiple languages MAY be listed for content that is
intended for multiple audiences. For example, content that is
presented simultaneously in the original Maori and English
versions, would call for:</p>

<pre>&lt;text systemLanguage="mi, en"&gt;&lt;!-- content goes here --&gt;&lt;/text&gt;</pre>

<p>However, just because multiple languages are present within
the object on which the <a>'systemLanguage'</a> test
attribute is placed, this does not mean that it is intended for
multiple linguistic audiences. An example would be a beginner's
language primer, such as "A First Lesson in Latin," which is
clearly intended to be used by an English-literate audience. In
this case, the <a>'systemLanguage'</a> test attribute
should only include "en".</p>

<p class="note">Authoring note: Authors should realize that if several
alternative language objects are enclosed in a <a>'switch'</a>, and none of them
matches, this may lead to situations where no content is
displayed. It is thus recommended to include a "catch-all"
choice at the end of such a <a>'switch'</a> which is acceptable in
all cases.</p>

<p>If the attribute is not present, then its implicit return
value is "true". If a null string or empty string value is
given to attribute <a>'systemLanguage'</a>, the attribute returns
"false".</p>

<p><a>'systemLanguage'</a> is often used
in conjunction with the <a>'switch'</a> element. If the <a>'systemLanguage'</a> is used in other
situations, then it represents a simple switch on the given
element whether to render the element or not.</p>

<h3 id="ApplicabilityOfTestAttributes">Applicability of test attributes</h3>

<p>The following list describes the applicability of the test
attributes to the elements that do not directly produce
rendering.</p>

<p class="issue" data-issue="42">This was already mentioned in the "Conditional processing overview"
section.  We should just describe this once.</p>

<ul>
  <li>the test attributes do not effect the
  <a>'mask element'</a>, <a>'clipPath'</a>, <a>'linearGradient'</a>,
  <a>'radialGradient'</a> and <a>'pattern'</a> elements. The
  test attributes on a referenced element do not affect the
  rendering of the referencing element.</li>

  <li>the test attributes do not effect the <a>'defs'</a>, and <a>'cursor element'</a> elements as they are not
  part of the rendering tree.</li>

  <li>an animation element (<a>'animate'</a>, <a>'animateMotion'</a>, <a>'animateTransform'</a> and <a>'set'</a>) will never be triggered if
  it has a test attribute that evaluates to false.</li>
</ul>

<h2 id="HTMLMetadataElements">HTML metadata elements</h2>

<p>For user agents that support HTML, the following HTML elements (in
the HTML namespace) must be supported in SVG documents:</p>

<ul>
  <li>the <a class="html" href="http://www.w3.org/TR/html/document-metadata.html#the-base-element"><code>base</code></a> element</li>
  <li>the <a class="html" href="http://www.w3.org/TR/html/document-metadata.html#the-link-element"><code>link</code></a> element</li>
  <li>the <a class="html" href="http://www.w3.org/TR/html/document-metadata.html#the-meta-element"><code>meta</code></a> element</li>
  <li>the <a class="html" href="http://www.w3.org/TR/html/document-metadata.html#the-style-element"><code>style</code></a> element</li>
  <li>the <a class="html" href="http://www.w3.org/TR/html/scripting-1.html#the-script-element"><code>script</code></a> element</li>
</ul>

<p class="note">
Note that the <a class="html" href="http://www.w3.org/TR/html/document-metadata.html#the-base-element"><code>base</code></a> element will affect all URL values in the document, including e.g paint server references.
</p>

<h2 id="CommonAttributes">Common attributes</h2>

<h3 id="CommonAttributeDefinitions">Definitions</h3>

<dl class='definitions'  data-dfn-type="dfn" data-export="">

  <dt id="TermCoreAttribute"><dfn>core attributes</dfn></dt>
  <dd>The core attributes are those attributes that can be specified
  on any SVG element.  This includes <a href="struct.html#CommonAttributes">Common attributes</a>,
  and <a href="styling.html">styling attributes</a>.
  The core attributes are <edit:attributecategory name='core'/> and
  <edit:attributecategory name='style'/>.
  </dd>

</dl>

<h3 id="Core.attrib">Attributes common to all elements: <span class='attr-name'>'id'</span></h3>

<p>The <a>'id'</a> attribute is available on all SVG elements:</p>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="IDAttribute" data-dfn-for="core-attributes" data-dfn-type="element-attr">id</dfn></td>
        <td>(see below)</td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd class="ready-for-wider-review">
    <p>Reflects the <a href="http://www.w3.org/TR/dom/#concept-id">element's
    ID</a> [<a href="refs.html#ref-DOM4">DOM4</a>].  The <a>'id'</a> attribute
    must be any value other than the empty string.</p>
  </dd>
</dl>

<h3 id="LangSpaceAttrs">The <span class="attr-name">'lang'</span> and <span class="attr-name">'xml:lang'</span> attributes</h3>

<p>The <span class='attr-name'>'lang'</span> attribute (in no namespace) specifies the primary language for the element's contents and
for any of the element's attributes that contain text.
</p>
<p>The <span class='attr-name'>'lang'</span> attribute in the XML namespace is defined in XML [<a href="refs.html#ref-XML10">XML10</a>].</p>
<p>If these attributes are omitted from an element, then the language of this element is the same as the language of its parent element, if any.</p>
<p>The <span class='attr-name'>'lang'</span> attribute in the XML namespace may be used on SVG elements in XML documents.
If both the <span class='attr-name'>'lang'</span> attribute in no namespace and the <span class='attr-name'>'lang'</span> attribute
in the XML namespace are specified on the same element, they must have exactly the same value when compared in an ASCII case-insensitive manner.
</p>
<p>
If both the <span class='attr-name'>'lang'</span> attribute in no namespace and the <span class='attr-name'>'lang'</span> attribute in the
XML namespace are set on an element, user agents must use the <span class='attr-name'>'lang'</span> attribute in the XML namespace, and
the <span class='attr-name'>'lang'</span> attribute in no namespace must be ignored for the purposes of determining the element's language.
</p>

<div class="annotation svg2-requirement">
  <table>
    <tr>
      <th>SVG 2 Requirement:</th>
      <td>Deprecate the use of <span class='attr-name'>'xml:space'</span> to affect text layout and use the <span class='property'>'white-space'</span> property instead.</td>
    </tr>
    <tr>
      <th>Resolution:</th>
      <td><a href="http://www.w3.org/2011/03/03-svg-minutes.html#item04">We drop xml:space from SVG 2 and remove the relating tests from the SVG 1.1. test suite.</a></td>
    </tr>
    <tr>
      <th>Purpose:</th>
      <td>To align with CSS.</td>
    </tr>
    <tr>
      <th>Owner:</th>
      <td>Chris (<a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3004">ACTION-3004</a>, done; and
                 <a href="http://www.w3.org/Graphics/SVG/WG/track/actions/3005">ACTION-3005</a>, done)</td>
    </tr>
  </table>
</div>

<dl class="attrdef-list">
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="LangAttribute" data-dfn-for="core-attributes" data-dfn-type="element-attr">lang</dfn></td>
        <td><a href="http://tools.ietf.org/html/bcp47#section-2.1">Language-Tag</a> <span class='syntax'>[ABNF]</span></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>The <span class='attr-name'>'lang'</span> attribute specifies the primary language for the element's contents and
for any of the element's attributes that contain text. Its value must be a valid BCP 47 language tag,
or the empty string. Setting the attribute to the empty string indicates that the primary language is unknown.
[<a href="refs.html#ref-BCP47">BCP47</a>].
    </p>
  </dd>
  <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="XMLSpaceAttribute" data-dfn-for="core-attributes" data-dfn-type="element-attr">xml:space</dfn></td>
        <td>(see below)</td>
        <td>default</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>Deprecated XML attribute to specify whether white space
    is preserved in character data. The only possible values
    are the strings <span class='attr-value'>'default'</span> and <span class='attr-value'>'preserve'</span>.
    White space is not allowed.  Refer to the
    <a href="http://www.w3.org/TR/2008/REC-xml-20081126/"><cite>Extensible Markup Language (XML) 1.0</cite></a>
    Recommendation [<a href="refs.html#ref-XML10">XML10</a>] and to the
    discussion <a href="text.html#WhiteSpace">white space
    handling</a> in SVG.</p>
    <p>New content should use the <a>'white-space'</a> property instead.</p>
  </dd>
</dl>

<h3 id="tabindexattribute">The <span class='attr-name'>'tabindex'</span> attribute</h3>

<dl class='attrdef-list'>
   <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="SVGElementTabindexAttribute" data-dfn-for="core-attributes" data-dfn-type="element-attr">tabindex</dfn></td>
        <td><a class="html" href="https://html.spec.whatwg.org/#valid-integer">valid integer</a> <span class="syntax">[HTML]</span></td>
        <td>(none)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
  <p>This content attribute allows authors to control whether an element is focusable, whether it is supposed to be reachable
  using <a href="interact.html#sequential-focus-navigation-and-the-tabindex-attribute">sequential focus navigation</a>, and what is to be the relative
  order of the element for the purposes of sequential focus
  navigation.</p>
    <p class="note">The name "tab index" comes from the common use of the
  "tab" key to navigate through the focusable elements. The term
  "tabbing" refers to moving forward through the focusable elements
  that can be reached using sequential focus navigation.
   </p>
  </dd>
</dl>





<h2 id="WAIARIAAttributes">WAI-ARIA attributes</h2>

<h3 id="WAIARIA-definitions">Definitions</h3>

<dl class='definitions'  data-dfn-type="dfn" data-export="">
  <dt id="TermARIAAttribute"><dfn>ARIA attributes</dfn></dt>
  <dd>These are the attributes used consisting of WAI-ARIA states and properties as well as
  the role attribute whose values are defined defined in WAI-ARIA. See WAI-ARIA
  <a href="http://www.w3.org/TR/wai-aria-1.1/#role_definitions">WAI-ARIA Definition of Roles</a>
 and WAI-ARIA <a href="http://www.w3.org/TR/wai-aria/states_and_properties">Supported States and Properties</a>.
  The aria attributes are <edit:attributecategory name='aria'/>.</dd>
</dl>

<h3 id="roleattribute">Role attribute</h3>

<p>SVG elements having native semantics that are not limited to <a href="http://www.w3.org/TR/wai-aria-1.1/#presentation">presentation</a> (having "no role"), may have an ARIA role attribute specified. The attribute, if specified, must have a value that is a <a>set of space-separated
tokens</a> representing the various WAI-ARIA roles that the element belongs to.
These tokens are role values defined in
<a href="http://www.w3.org/TR/wai-aria-1.1/#role_definitions">Definition of Roles</a>
([<a href="refs.html#ref-ARIA">ARIA</a>], section 5.4).</p>

<p>The WAI-ARIA role that an SVG element has assigned to it is the first
non-abstract role found in the list of values generated when the role attribute
is split on spaces. </p>

<dl class="attrdef-list">
   <dt>
    <table class="propdef attrdef">
      <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Initial value</th>
        <th>Animatable</th>
      </tr>
      <tr>
        <td><dfn id="RoleAttribute">role</dfn></td>
        <td><a>set of space-separated tokens</a> <span class="syntax">[HTML]</span></td>
        <td>(see below)</td>
        <td>no</td>
      </tr>
    </table>
  </dt>
  <dd>
    <p>The <a>'role'</a> attribute must be a
    <a>set of space-separated tokens</a> having values defined in
    <a href="http://www.w3.org/TR/wai-aria-1.1/#role_definitions">Definition of Roles</a> ([<a href="refs.html#ref-ARIA">ARIA</a>], section 5.4).
    </p>
    <p>The role value is a set of white-space separated machine-extractable semantic information used to define the purpose of the element.</p>
    <p>The <a>initial value</a> for the <a>'role'</a> attribute, for each SVG element, is the corresponding
    <a href="#implicit-aria-semantics">default implied ARIA semantic for SVG elements</a>.</p>
  </dd>
</dl>

<h3 id="ARIAStateandPropertyAttributes">State and property attributes (all aria- attributes)</h3>

<p>SVG elements having native semantics that are not limited to <a href="http://www.w3.org/TR/wai-aria-1.1/#presentation">presentation</a> (having "no role"), may have an may have WAI-ARIA state and property attributes
specified. These attributes are defined by ARIA in
<a href="http://www.w3.org/TR/wai-aria-1.1/#state_prop_def">Definitions of States and Properties (all aria-* attributes)</a>
(<a href="https://svgwg.org/svg2-draft/refs.html#ref-ARIA">[ARIA]</a>, section 6.6).</p>

<p>These attributes, if specified, must have a value that is the WAI-ARIA value
type in the "Value" field of the definition for the state or property, mapped to
the appropriate SVG value type according to
<a href="http://www.w3.org/TR/wai-aria-1.1/#typemapping">Mapping WAI-ARIA Value types to languages</a>
using the SVG mapping ([<a href="refs.html#ref-ARIA">ARIA</a>], section 10.2).</p>

<p>WAI-ARIA State and Property attributes can be used on any element. They are
not always meaningful, however, and in such cases user agents might not perform
any processing aside from including them in the DOM. Unlike some other host
languages, SVG is not considered to have strong native host language semantics
in terms of the user interface, consequently state and property attributes are
processed according to the <a href="http://www.w3.org/TR/wai-aria-1.1/"><cite>ARIA</cite></a> and
<a href="http://www.w3.org/TR/svg-aam-1.0/"><cite>SVG Accessibility API Mappings</cite></a> specification
specifications. [<a href="refs.html#ref-ARIA">ARIA</a>] [<a href="refs.html#ref-SVGAAM">SVG-AAM</a>]</p>

<h3 id="implicit-aria-semantics">Implicit ARIA Semantics</h3>
<p>The following table defines the <span>implicit native
  semantics</span> and corresponding <span>default implicit ARIA
  semantics</span> that apply to <a href="eltindex.html">SVG elements</a>. Each
  language feature (element) in a cell in the first
  column implies the ARIA semantics (role, states, and/or properties)
  given in the cell in the second column of the same row. The third column defines restrictions as to what WAI-ARIA semantic (role, state, or property) may or may not apply.</p>

  <table id="table-aria-implicit" class="vert">
      <thead>
          <tr><th>Language feature</th><th>Default implied ARIA semantics</th><th>Restrictions</th></tr>
      </thead>

   <tbody>
    <tr><td><a>'a'</a></td>
        <td><code title="attr-aria-role-link">link</code> role</td>
        <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'animate'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'animateMotion'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'animateTransform'</a></td>
      <td>none</td>
      <td>no role may be appplied</td>
    </tr>
    <tr>
      <td><a>'audio'</a></td>
      <td><code title="attr-group-role">group</code> role </td>
      <td>If specified, role must be <code title="attr-aria-role-application">application</code></td>
    </tr>
    <tr>
      <td><a>'canvas'</a></td>
      <td><code title="attr-group-role">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'circle'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'clipPath'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'cursor element'</a></td>
      <td>none</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'defs'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'desc'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'discard'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'ellipse'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'feBlend'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feColorMatrix'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feComponentTransfer'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feComposite'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feConvolveMatrix'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feDiffuseLighting'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feDisplacementMap'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feDistantLight'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feDropShadow'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feFlood'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feFuncA'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feFuncB'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feFuncG'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feFuncR'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feGaussianBlur'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feImage'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feMerge'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feMergeNode'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feMorphology'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feOffset'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'fePointLight'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feSpecularLighting'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feSpotLight'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feTile'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'feTurbulence'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'filter element'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'foreignObject'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'g'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'hatch'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'hatchpath'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'iframe'</a></td>
      <td>no role</td>
      <td>If Specified, role must be either <code title="attr-aria-role-application">application</code>, <code title="attr-aria-role-document">document</code>, or <code title="attr-aria-role-img">img</code> roles</td>
    </tr>
    <tr>
      <td><a>'image'</a></td>
      <td><code title="attr-aria-role-img">img</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'line'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'linearGradient'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'marker element'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'mask element'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'mesh'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'meshpatch'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'meshrow'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'metadata'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'mpath'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'path'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'pattern'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'polygon'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'polyline'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'radialGradient'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'rect'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'script'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'set'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'solidcolor'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'stop'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'style element'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'svg'</a></td>
      <td><code title="attr-group-role">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'switch'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'symbol'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'text'</a></td>
      <td><code title="attr-group-role">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'textPath'</a></td>
      <td><code title="attr-group-role">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'title'</a></td>
      <td>none</td>
      <td>no role may be applied</td>
    </tr>
    <tr>
      <td><a>'tspan'</a></td>
      <td><code title="attr-group-role">group</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'use'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-img">img</code> role</td>
      <td>no restrictions</td>
    </tr>
    <tr>
      <td><a>'video'</a></td>
      <td><code title="attr-group-role">group</code> role </td>
      <td>If specified, role must be <code title="attr-aria-role-application">application</code></td>
    </tr>
    <tr>
      <td><a>'view'</a></td>
      <td><code title="attr-aria-role-none">none</code> role provided no associated <a>'title'</a> element, <a>'desc'</a> element, <a>'aria-label'</a> attribute, <a>'aria-labelledby'</a> attribute, <a>'aria-describedby'</a> attribute; or <a>'tabindex'</a> attribute; otherwise, <code title="attr-aria-role-group">group</code> role</td>
      <td>no restrictions</td>
    </tr>
   </tbody>
  </table>

<h2 id="DOMInterfaces">DOM interfaces</h2>

<div class='ready-for-wg-review'>
<h3 id="InterfaceDocumentExtensions">Extensions to the Document interface</h3>

<p>The DOM Core specification defines a <a>Document</a> interface, which this specification extends.</p>
<p class="note">In the case where an SVG document is embedded by reference,
such as when an HTML document has an <span class="element-name">'object'</span>
element whose <span class="attr-name">'data'</span> attribute references an SVG
document (i.e., a document whose MIME type is "image/svg+xml"
and whose root element is thus an <a>'svg'</a> element), there will exist
two distinct DOM hierarchies. The first DOM hierarchy will be for the
referencing document (e.g., an XHTML document). The second DOM hierarchy
will be for the referenced SVG document.</p>

<p>For historical reasons, <a>Window</a> objects must also have a writable, configurable,
non-enumerable property named SVGDocument whose value is the <a>Document</a> interface object.</p>

<pre class="idl">partial interface <a>Document</a> {
  readonly attribute <a>SVGSVGElement</a> <a href="struct.html#__svg__SVGDocument__rootElement">rootElement</a>;
};</pre>

<p>The <b id="__svg__SVGDocument__rootElement">rootElement</b> IDL attribute
represents the root <a>'svg'</a> element.  On getting
<a href="#__svg__SVGDocument__rootElement">rootElement</a>, the root element
of the document is returned, if it is an <a>'svg'</a> element, or null
otherwise.</p>

<p class="note">This attribute is deprecated, and may be removed in a future SVG specification.
Authors are encouraged to use the <a href="http://www.w3.org/TR/dom/#dom-document-documentelement">documentElement</a> attribute on <a>Document</a> instead.</p>
<!--<p class="issue" data-issue="47">Data point: <a href="https://www.chromestatus.com/metrics/feature/timeline/popularity/251">UseCounter in blink</a> shows ~0.010.</p>-->

<p>The following IDL fragment must be supported only if the SVG implementation is also a
<a href="http://www.w3.org/TR/html/infrastructure.html#interactive">Web browser or other interactive user agent</a>,
and therefore implements HTML.</p>

<pre class="idl" edit:excludefromidl="true"><span class="comment">// must only be implemented in certain implementations</span>
partial interface <a>Document</a> {
  readonly attribute DOMString title;
  readonly attribute DOMString referrer;
  readonly attribute DOMString domain;
  readonly attribute Element? <a href="struct.html#__svg__SVGDocument__activeElement">activeElement</a>;
};</pre>

<p class="note">This is because the interface members above are already defined in HTML,
and in implementations that support SVG and HTML they cannot be duplicated.</p>

<p>The title, referrer, domain and <span id="__svg__SVGDocument__activeElement">activeElement</span> IDL attributes must behave the same as
<a href="http://www.w3.org/TR/html51/dom.html#document">the corresponding IDL attributes defined in HTML</a>.</p>


<h3 id="InterfaceSVGSVGElement">Interface SVGSVGElement</h3>

<edit:with element="svg">

<p>An <a>SVGSVGElement</a> object represents an <a>'svg'</a> element
in the DOM.  The <a>SVGSVGElement</a> interface also contains
miscellaneous utility methods, such as data type object factory methods
and animation timeline contronl methods.</p>

<p>An <a>SVGSVGElement</a> object maintains an internal
<a>DOMPoint</a> object, called its
<dfn id="CurrentTranslatePointObject">current translate point object</dfn>,
which is the object returned from the <a href="#__svg__SVGSVGElement__currentTranslate">currentTranslate</a>
IDL attribute.</p>

<pre class="idl">interface <b>SVGSVGElement</b> : <a>SVGGraphicsElement</a> {

  [SameObject] readonly attribute <a>SVGAnimatedLength</a> <a href="struct.html#__svg__SVGSVGElement__x">x</a>;
  [SameObject] readonly attribute <a>SVGAnimatedLength</a> <a href="struct.html#__svg__SVGSVGElement__y">y</a>;
  [SameObject] readonly attribute <a>SVGAnimatedLength</a> <a href="struct.html#__svg__SVGSVGElement__width">width</a>;
  [SameObject] readonly attribute <a>SVGAnimatedLength</a> <a href="struct.html#__svg__SVGSVGElement__height">height</a>;

  attribute float <a href="struct.html#__svg__SVGSVGElement__currentScale">currentScale</a>;
  [SameObject] readonly attribute <a>DOMPointReadOnly</a> <a href="struct.html#__svg__SVGSVGElement__currentTranslate">currentTranslate</a>;

  void <a href="struct.html#__svg__SVGSVGElement__pauseAnimations">pauseAnimations</a>();
  void <a href="struct.html#__svg__SVGSVGElement__unpauseAnimations">unpauseAnimations</a>();
  boolean <a href="struct.html#__svg__SVGSVGElement__animationsPaused">animationsPaused</a>();
  float <a href="struct.html#__svg__SVGSVGElement__getCurrentTime">getCurrentTime</a>();
  void <a href="struct.html#__svg__SVGSVGElement__setCurrentTime">setCurrentTime</a>(float seconds);

  <a>NodeList</a> <a href="struct.html#__svg__SVGSVGElement__getIntersectionList">getIntersectionList</a>(<a>DOMRectReadOnly</a> rect, <a>SVGElement</a>? referenceElement);
  <a>NodeList</a> <a href="struct.html#__svg__SVGSVGElement__getEnclosureList">getEnclosureList</a>(<a>DOMRectReadOnly</a> rect, <a>SVGElement</a>? referenceElement);
  boolean <a href="struct.html#__svg__SVGSVGElement__checkIntersection">checkIntersection</a>(<a>SVGElement</a> element, <a>DOMRectReadOnly</a> rect);
  boolean <a href="struct.html#__svg__SVGSVGElement__checkEnclosure">checkEnclosure</a>(<a>SVGElement</a> element, <a>DOMRectReadOnly</a> rect);

  void <a href="struct.html#__svg__SVGSVGElement__deselectAll">deselectAll</a>();

  <a>SVGNumber</a> <a href="struct.html#__svg__SVGSVGElement__createSVGNumber">createSVGNumber</a>();
  <a>SVGLength</a> <a href="struct.html#__svg__SVGSVGElement__createSVGLength">createSVGLength</a>();
  <a>SVGAngle</a> <a href="struct.html#__svg__SVGSVGElement__createSVGAngle">createSVGAngle</a>();
  <a>DOMPoint</a> <a href="struct.html#__svg__SVGSVGElement__createSVGPoint">createSVGPoint</a>();
  <a>DOMMatrix</a> <a href="struct.html#__svg__SVGSVGElement__createSVGMatrix">createSVGMatrix</a>();
  <a>DOMRect</a> <a href="struct.html#__svg__SVGSVGElement__createSVGRect">createSVGRect</a>();
  <a>SVGTransform</a> <a href="struct.html#__svg__SVGSVGElement__createSVGTransform">createSVGTransform</a>();
  <a>SVGTransform</a> <a href="struct.html#__svg__SVGSVGElement__createSVGTransformFromMatrix">createSVGTransformFromMatrix</a>(<a>DOMMatrixReadOnly</a> matrix);

  <span class="comment">// Deprecated methods that have no effect when called,</span>
  <span class="comment">// but which are kept for compatibility reasons.</span>
  unsigned long <a href="struct.html#__svg__SVGSVGElement__suspendRedraw">suspendRedraw</a>(unsigned long maxWaitMilliseconds);
  void <a href="struct.html#__svg__SVGSVGElement__unsuspendRedraw">unsuspendRedraw</a>(unsigned long suspendHandleID);
  void <a href="struct.html#__svg__SVGSVGElement__unsuspendRedrawAll">unsuspendRedrawAll</a>();
  void <a href="struct.html#__svg__SVGSVGElement__forceRedraw">forceRedraw</a>();
};

<a>SVGSVGElement</a> implements <a>SVGFitToViewBox</a>;
<a>SVGSVGElement</a> implements <a>SVGZoomAndPan</a>;
<a>SVGSVGElement</a> implements <a>WindowEventHandlers</a>;</pre>

<p>The
<b id="__svg__SVGSVGElement__x">x</b>,
<b id="__svg__SVGSVGElement__y">y</b>,
<b id="__svg__SVGSVGElement__width">width</b> and
<b id="__svg__SVGSVGElement__height">height</b> IDL attributes
<a>reflect</a> the computed values of the <a>'x'</a>, <a>'y'</a>, <a>'width'</a> and
<a>'height'</a> properties and their corresponding
presentation attributes, respectively.</p>

<p>The <b id="__svg__SVGSVGElement__currentScale">currentScale</b> and
<b id="__svg__SVGSVGElement__currentTranslate">currentTranslate</b> IDL
attributes represent the transform applied to the document in
response to user magnification and panning operations, as described under
<a href="interact.html#ZoomAndPanAttribute">Magnification and panning</a>.</p>

<p class="note">The document's magnification and panning
transform is a 2x3 matrix of the form
[currentScale 0 0 currentScale currentTranslate.x currentTranslate.y].
The value of the <a>'transform'</a> property does not affect
<a href="#__svg__SVGSVGElement__currentScale">currentScale</a> or
<a href="#__svg__SVGSVGElement__currentTranslate">currentTranslate</a>.</p>

<p>On getting <a href="#__svg__SVGSVGElement__currentScale">currentScale</a>,
the following steps are run:</p>

<ol class='algorithm'>
  <li>If the current <a>'svg'</a> element is not the <a>outermost svg element</a>,
  then return 1.</li>
  <li>Let [<var>a</var> <var>b</var> <var>c</var> <var>d</var> <var>e</var> <var>f</var>]
  be the 2x3 matrix that represents the document's magnification and panning
  transform.</li>
  <li>Return <var>a</var>.</li>
</ol>

<p>On setting <a href="#__svg__SVGSVGElement__currentScale">currentScale</a>,
the following steps are run:</p>

<ol class='algorithm'>
  <li>If the current <a>'svg'</a> element is not the <a>outermost svg element</a>,
  then return.</li>
  <li>Let <var>scale</var> be the value being assigned to
  <a href="#__svg__SVGSVGElement__currentScale">currentScale</a>.</li>
  <li>Let [<var>a</var> <var>b</var> <var>c</var> <var>d</var> <var>e</var> <var>f</var>]
  be the 2x3 matrix that represents the document's magnification and panning
  transform.</li>
  <li>Set the document's magnification and panning transform to
  [<var>scale</var> 0 0 <var>scale</var> <var>e</var> <var>f</var>].</li>
</ol>

<p>On getting <a href="#__svg__SVGSVGElement__currentTranslate">currentTranslate</a>,
the <a>SVGSVGElement</a> object's <a href="#CurrentTranslatePointObject">current
translate point object</a> is returned.  This object
<a href="shapes.html#PointMode">represents the current translation</a>
for the <a>'svg'</a> element.  A <a href="#CurrentTranslatePointObject">current
translate point object</a> must be <a href="shapes.html#ReadOnlyPoint">read only</a>
when its <a>'svg'</a> element is not the <a>outermost svg element</a>,
and writable otherwise.</p>

<p class="note">See the rules for <a href="shapes.html#AssignToDOMPoint">assigning to a DOMPoint</a>
for how modifying the <a href="#CurrentTranslatePointObject">current
translate point object</a> affects the document's magnification and panning transform.</p>

<p>Whenever the document's magnification and panning transform changes
in response to user interaction or whenever the <a>outermost svg element</a>
changes, the following steps are run:</p>

<ol class='algorithm'>
  <li>Let [<var>a</var> <var>b</var> <var>c</var> <var>d</var> <var>e</var> <var>f</var>]
  be the 2x3 matrix that represents the document's magnification and panning
  transform.</li>
  <li>Let <var>element</var> be the <a>outermost svg element</a>.</li>
  <li>Update the x and y components of <var>element</var>'s 
  <a href="CurrentTranslatePointObject">current translate point object</a>
  to <var>e</var> and <var>f</var>, respectively.</li>
</ol>

<p class="note">Running these steps when the <a>outermost svg element</a>
changes will ensure that if the document element is replaced with a different
<a>'svg'</a> element, that its <a href="#__svg__SVGSVGElement__currentTranslate">currentTranslate</a>
will be immediately updated to reflect the translation component of
the document's magnification and panning transform.</p>

<p>Whenver an <a>'svg'</a> element is no longer <a>outermost svg element</a>,
the x and y components of its <a href="CurrentTranslatePointObject">current
translate point object</a> must be set to 0.</p>

<p class="note">Note that the value of the <a>'zoomAndPan'</a> attribute
on the <a>outermost svg element</a> only controls whether the document's
magnification and panning transform can be updated through user interaction.
Regardless of the value of that attribute, the current scale and translation
can be changed by modifying <a href="#__svg__SVGSVGElement__currentScale">currentScale</a>
and <a href="#__svg__SVGSVGElement__currentTranslate">currentTranslate</a>.</p>

<p>The <b id="__svg__SVGSVGElement__suspendRedraw">suspendRedraw</b>,
<b id="__svg__SVGSVGElement__unsuspendRedraw">unsuspendRedraw</b>,
<b id="__svg__SVGSVGElement__unsuspendRedrawAll">unsuspendRedrawAll</b>
and <b id="__svg__SVGSVGElement__forceRedraw">forceRedraw</b>
methods are all deprecated and defined to have no effect.  When
the suspendRedraw method is called, it must return 1.</p>

<p>The <b id="__svg__SVGSVGElement__pauseAnimations">pauseAnimations</b>
and <b id="__svg__SVGSVGElement__unpauseAnimations">unpauseAnimations</b>
methods are used to pause and unpause all of the animations within
the <a>SVG document fragment</a>.</p>

<p>When pauseAnimations() is called, the following steps are run:</p>

<ol class="algorithm">
  <li>If the current <a>'svg'</a> element is not the <a>outermost svg element</a>,
  then return.</li>
  <li>Pause the timeline that controls SVG animations for the <a>SVG document fragment</a> that
  the <a>'svg'</a> element is in.</li>
</ol>

<p>When unpauseAnimations() is called, the following steps are run:</p>

<ol class="algorithm">
  <li>If the current <a>'svg'</a> element is not the <a>outermost svg element</a>,
  then return.</li>
  <li>Unpause the timeline that controls SVG animations for the <a>SVG document fragment</a> that
  the <a>'svg'</a> element is in.</li>
</ol>

<p class="note">The <a href="#__svg__SVGSVGElement__pauseAnimations">pauseAnimations</a>
and <a href="#__svg__SVGSVGElement__unpauseAnimations">unpauseAnimations</a>
methods only affect animations defined using SVG's <a>animation elements</a>.
They have no effect on CSS Transitions or Animations
[<a href="refs.html#ref-CSS3ANIMATIONS">CSS3ANIMATIONS</a>][<a href="refs.html#ref-CSS3TRANSITIONS">CSS3TRANSITIONS</a>]
or animations created using script.</p>

<p>The <b id="__svg__SVGSVGElement__animationsPaused">animationsPaused</b>
method returns whether SVG animation timeline has been paused.
When animationsPaused() is called, true is returned if the timeline that
controls SVG animations for the <a>SVG document fragment</a> that the
<a>'svg'</a> element in has been paused by
<a href="#__svg__SVGSVGElement__pauseAnimations">pauseAnimations</a>;
otherwise, false is returned.</p>

<p>The <b id="__svg__SVGSVGElement__getCurrentTime">getCurrentTime</b> and
<b id="__svg__SVGSVGElement__setCurrentTime">setCurrentTime</b> methods
are used to get and set the current time of the timeline that controls
SVG animations.  When getCurrentTime() is called, the following steps are run:</p>

<ol class='algorithm'>
  <li>If the timeline for the <a>current SVG document fragment</a> has not yet begun,
  then return 0.
    <p class='note'>This is the case, for example, if the <a>outermost svg element</a>
    has its <a>'timelinebegin'</a> attribute set to <span class='attr-value'>'loadend'</span>
    and the load event has not yet fired.</p>
  </li>
  <li>Otherwise, the timeline for the <a>current SVG document fragment</a> has begun.
  Return the current time in seconds relative to the start time of the timeline.</li>
</ol>

<p>When setCurrentTime(<var>seconds</var>) is called, the following steps are run:</p>

<ol class='algorithm'>
  <li>If the current <a>'svg'</a> element is not the <a>outermost svg element</a>,
  then return.</li>
  <li>If the timeline for the <a>current SVG document fragment</a> has begun, then
  the timeline's current time (in seconds, relative to the start time of the
  timeline) is set to <var>seconds</var>.</li>
  <li>Otherwise, the timeline has not begun.  <var>seconds</var> is recorded on
  the <a>current SVG document fragment</a> as the time to be seeked to
  once the timeline has begun.  If multiple calls to
  <a href="#__svg__SVGSVGElement__setCurrentTime">setCurrentTime</a> are made
  before the timeline has begun, the most recent call's time will be used to
  seek the timeline once it begins.</li>
</ol>

<p>The <b id="__svg__SVGSVGElement__getIntersectionList">getIntersectionList</b>,
<b id="__svg__SVGSVGElement__getEnclosureList">getEnclosureList</b>,
<b id="__svg__SVGSVGElement__checkIntersection">checkIntersection</b> and
<b id="__svg__SVGSVGElement__checkEnclosure">checkEnclosure</b> methods are
used to perform geometry operations on <a>graphics elements</a> to find
those whose (or check whether their) graphical content lies partially or
completely within a given rectangle.</p>

<p>To <dfn id="TermFindIntersectingOrEnclosedDescendants">find the intersecting
or enclosed descendants</dfn> of a given element <var>element</var>
with a given rectangle <var>rectangle</var> using <var>ancestor</var>
as the element in whose coordinate space <var>rectangle</var> is
to be interpreted, the following steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>result</var> be an initially empty list.</li>
  <li>If <var>element</var> is not displayed, due to having a <a>'display'</a> value
  of <span class='prop-value'>none</span> or being in a subtree that has
  failing <a>conditional processing attributes</a> or a failing branch
  of a <a>'switch'</a>, then return <var>result</var>.</li>
  <li>For each child element <var>child</var> of <var>element</var>, in document order:
    <ol>
      <li>If <var>child</var> is an <a>'svg'</a> or <a>'g'</a> element, then:
        <ol>
          <li>Let <var>descendants</var> be the result of
          <a href="#TermFindIntersectingOrEnclosedDescendants">finding the
          intersecting (or enclosed) descendants</a> of <var>child</var> with
          <var>rectangle</var> in <var>ancestor</var>'s coordinate space.</li>
          <li>Append to <var>result</var> all the elements of <var>descendants</var>.</li>
        </ol>
      </li>
      <li>Otherwise, if <var>child</var> is a <a>'use'</a> element, then:
        <ol>
          <li>Let <var>root</var> be the root of the <var>child</var>'s shadow tree.</li>
          <li>Let <var>descendants</var> be the result of
          <a href="#TermFindIntersectingOrEnclosedDescendants">finding the
          intersecting (or enclosed) descendants</a> of <var>child</var> with
          <var>rectangle</var> in <var>ancestor</var>'s coordinate space.</li>
          <li>If <var>descendants</var> is not empty, then append <var>child</var>
          to <var>result</var>.
            <p class="note">This means that although we look at the specific
            content referenced by the <a>'use'</a> element, we don't place the
            referencing content in the <var>result</var> list; only the <a>'use'</a>
            element itself is returned.</p>
          </li>
        </ol>
      </li>
      <li>Otherwise, if <var>child</var> is a <a>graphics element</a>, then:
        <ol>
          <li>Let <var>region</var> be the shape in <var>child</var>'s coordinate
          system that is sensitive to hit detection, taking into account the
          rules for interpreting <var>child</var>'s <a>'pointer-events'</a> value.</li>
          <li>Transform <var>region</var> into <var>ancestor</var>'s coordinate system.</li>
          <li>If we are finding intersecting descendants and <var>region</var> lies partially
          or fully within <var>rectangle</var>, then append <var>child</var> to <var>result</var>.</li>
          <li>Otherwise, we are finding enclosed descendants.  If <var>region</var> lies
          fully within <var>rectangle</var>, then append <var>child</var> to <var>result</var>.</li>
        </ol>
      </li>
    </ol>
  </li>
  <li>Return <var>result</var>.</li>
</ol>

<p>To <dfn id="TermFindNonContainerGraphicsElements">find the non-container
graphics elements</dfn> within a given element <var>element</var>, the following
steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>result</var> be an initially empty list.</li>
  <li>If <var>element</var> is an <a>'svg'</a> or <a>'g'</a> element,
  then for each child element <var>child</var> of <var>element</var>,
  in document order:
    <ol>
      <li>Let <var>descendants</var> be the result of
      <a href="#TermFindNonContainerGraphicsElements">finding the non-container
      graphics elements</a> within <var>child</var>.</li>
      <li>Append to <var>result</var> all the elements of <var>descendants</var>.</li>
    </ol>
  </li>
  <li>Otherwise, if <var>element</var> is a <a>graphics element</a> then
  append <var>element</var> to <var>result</var>.</li>
  <li>Return <var>result</var>.</li>
</ol>

<p>When getIntersectionList(<var>rect</var>, <var>referenceElement</var>) or
getEnclosureList(<var>rect</var>, <var>referenceElement</var>) is called,
the following steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>descendants</var> be a list, depending on what method we are in:
    <dl class='switch'>
      <dt><a href="#__svg__SVGSVGElement__getIntersectionList">getIntersectionList</a></dt>
      <dd><var>descendants</var> is the result of 
      <a href="#TermFindIntersectingOrEnclosedDescendants">finding the intersecting descendants</a>
      of the current <a>'svg'</a> element with rectangle <var>rect</var>
      in the current <a>'svg'</a> element's coordinate system.</dd>
      <dt><a href="#__svg__SVGSVGElement__getEnclosureList">getEnclosureList</a></dt>
      <dd><var>descendants</var> is the result of 
      <a href="#TermFindIntersectingOrEnclosedDescendants">finding the enclosed descendants</a>
      of the current <a>'svg'</a> element with rectangle <var>rect</var>
      in the current <a>'svg'</a> element's coordinate system.</dd>
    </dl>
  </li>
  <li>If <var>referenceElement</var> is not null, then remove from
  <var>descendants</var> any element that does not have <var>referenceElement</var>
  as an ancestor.</li>
  <li>Return a <a href="http://www.w3.org/TR/dom/#concept-collection-static">static</a>
  <a>NodeList</a> that contains all of the elements in <var>descendants</var>.
  ([<a href="refs.html#ref-DOM4">DOM4</a>], section 5.2.7)</li>
</ol>

<p>When checkIntersection(<var>element</var>, <var>rect</var>) or
checkEnclosure(<var>element</var>, <var>rect</var>) is called,
the following steps are run:</p>

<ol class='algorithm'>
  <li>Let <var>descendants</var> be a list, depending on what method we are in:
    <dl class='switch'>
      <dt><a href="#__svg__SVGSVGElement__getIntersectionList">getIntersectionList</a></dt>
      <dd><var>descendants</var> is the result of 
      <a href="#TermFindIntersectingOrEnclosedDescendants">finding the intersecting descendants</a>
      of the current <a>'svg'</a> element with rectangle <var>rect</var>
      in the current <a>'svg'</a> element's coordinate system.</dd>
      <dt><a href="#__svg__SVGSVGElement__getEnclosureList">getEnclosureList</a></dt>
      <dd><var>descendants</var> is the result of 
      <a href="#TermFindIntersectingOrEnclosedDescendants">finding the enclosed descendants</a>
      of the current <a>'svg'</a> element with rectangle <var>rect</var>
      in the current <a>'svg'</a> element's coordinate system.</dd>
    </dl>
  </li>
  <li>Let <var>elements</var> be the result of
  <a href="#TermFindNonContainerGraphicsElements">finding the non-container
  graphics elements</a> within <var>element</var>.</li>
  <li>If <var>elements</var> is empty, then return false.</li>
  <li>If any element in <var>elements</var> is not also in <var>descendants</var>,
  then return false.</li>
  <li>Return true.</li>
</ol>

<div class='ready-for-wider-review'>
<p>The <b id="__svg__SVGSVGElement__deselectAll">deselectAll</b> method is
used to remove any selections from the document.  When deselectAll() is called,
all <a href="http://www.w3.org/TR/2014/WD-dom-20140204/#concept-range">ranges</a>
from the document's <a href="http://w3c.github.io/selection-api/#dfn-selection">selection</a>
are removed and the <a href="http://w3c.github.io/selection-api/#dfn-selection">selection</a>'s
<a href="http://w3c.github.io/selection-api/#dfn-direction">direction</a> is set to
forwards. [<a href="refs.html#ref-DOM4">DOM4</a>][<a href="refs.html#ref-EDITING">EDITING</a>]
This method is deprecated, as it duplicates functionality from the Selection API.</p>

<p class="note">This is equivalent to calling <code>document.getSelection().removeAllRanges()</code>
on the document that this <a>'svg'</a> element is in.</p>
</div>

<p>The
<b id="__svg__SVGSVGElement__createSVGNumber">createSVGNumber</b>,
<b id="__svg__SVGSVGElement__createSVGLength">createSVGLength</b>,
<b id="__svg__SVGSVGElement__createSVGAngle">createSVGAngle</b>,
<b id="__svg__SVGSVGElement__createSVGPoint">createSVGPoint</b>,
<b id="__svg__SVGSVGElement__createSVGMatrix">createSVGMatrix</b>,
<b id="__svg__SVGSVGElement__createSVGRect">createSVGRect</b> and
<b id="__svg__SVGSVGElement__createSVGTransform">createSVGTransform</b>
methods are all factory functions used to create a new datatype object
of a particular type.  When one of these methods is called, a new
object is returned according to the following table:</p>

<table class='vert'>
  <tr><th>Method</th><th>Object and details</th></tr>
  <tr><td><a href="#__svg__SVGSVGElement__createSVGNumber">createSVGNumber</a></td><td>A new, <a href="types.html#NumberMode">detached</a> <a>SVGNumber</a> object whose value is 0.</td></tr>
  <tr><td><a href="#__svg__SVGSVGElement__createSVGLength">createSVGLength</a></td><td>A new, <a href="types.html#LengthMode">detached</a> <a>SVGLength</a> object whose value is the unitless <a>&lt;number&gt;</a> 0.</td></tr>
  <tr><td><a href="#__svg__SVGSVGElement__createSVGAngle">createSVGAngle</a></td><td>A new, <a href="types.html#AngleMode">detached</a> <a>SVGAngle</a> object whose value is the unitless <a>&lt;number&gt;</a> 0.</td></tr>
  <tr><td><a href="#__svg__SVGSVGElement__createSVGPoint">createSVGPoint</a></td><td>A new, <a href="shapes.html#PointMode">detached</a> <a>DOMPoint</a> object whose coordinates are all 0.</td></tr>
  <tr><td><a href="#__svg__SVGSVGElement__createSVGMatrix">createSVGMatrix</a></td><td>A new, <a href="coords.html#MatrixMode">detached</a> <a>DOMMatrix</a> object representing the identity matrix.</td></tr>
  <tr><td><a href="#__svg__SVGSVGElement__createSVGRect">createSVGRect</a></td><td>A new, <a>DOMRect</a> object whose x, y, width and height are all 0.</td></tr>
  <tr><td><a href="#__svg__SVGSVGElement__createSVGTransform">createSVGTransform</a></td><td>A new, <a href="coords.html#TransformMode">detached</a> <a>SVGTransform</a> object whose value is <span class='prop-value'>matrix(1, 0, 0, 1, 0, 0)</span>.</td></tr>
</table>

<p>The <a href="#__svg__SVGSVGElement__createSVGPoint">createSVGPoint</a>,
<a href="#__svg__SVGSVGElement__createSVGMatrix">createSVGMatrix</a> and
<a href="#__svg__SVGSVGElement__createSVGRect">createSVGRect</a> methods
are all deprecated and kept only for compatibility with legacy content.
Authors are encouraged to use the <a>DOMPoint</a>, <a>DOMMatrix</a> and
<a>DOMRect</a> constructors instead.</p>

<p>The <b id="__svg__SVGSVGElement__createSVGTransformFromMatrix">createSVGTransformFromMatrix</b>
method is used to create a new <a>SVGTransform</a> object from a matrix object.
Its behavior is the same as the
<a href="coords.html#__svg__SVGTransformList__createSVGTransformFromMatrix">createSVGTransformFromMatrix</a>
method on <a>SVGTransformList</a>.</p>

</edit:with>


<h3 id="InterfaceSVGGElement">Interface SVGGElement</h3>

<edit:with element="g">

<p>An <a>SVGGElement</a> object represents a <a>'g'</a> element in the DOM.</p>

<pre class="idl">interface <b>SVGGElement</b> : <a>SVGGraphicsElement</a> {
};</pre>

</edit:with>


<h3 id="InterfaceSVGUnknownElement">Interface SVGUnknownElement</h3>

<edit:with element="unknown">

<p>An <a>SVGUnknownElement</a> object represents an unknown element in the SVG namespace.</p>

<pre class="idl">interface <b>SVGUnknownElement</b> : <a>SVGGraphicsElement</a> {
};</pre>

</edit:with>


<h3 id="InterfaceSVGDefsElement">Interface SVGDefsElement</h3>

<edit:with element="defs">

<p>An <a>SVGDefsElement</a> object represents a <a>'defs'</a> element in the DOM.</p>

<pre class="idl">interface <b>SVGDefsElement</b> : <a>SVGGraphicsElement</a> {
};</pre>

</edit:with>


<h3 id="InterfaceSVGDescElement">Interface SVGDescElement</h3>

<edit:with element="desc">

<p>An <a>SVGDescElement</a> object represents a <a>'desc'</a> element in the DOM.</p>

<pre class="idl">interface <b>SVGDescElement</b> : <a>SVGElement</a> {
};</pre>

</edit:with>


<h3 id="InterfaceSVGMetadataElement">Interface SVGMetadataElement</h3>

<edit:with element="metadata">

<p>An <a>SVGMetadataElement</a> object represents a <a>'metadata'</a> element in the DOM.</p>

<pre class="idl">interface <b>SVGMetadataElement</b> : <a>SVGElement</a> {
};</pre>

</edit:with>


<h3 id="InterfaceSVGTitleElement">Interface SVGTitleElement</h3>

<edit:with element="title">

<p>An <a>SVGTitleElement</a> object represents a <a>'title'</a> element in the DOM.</p>

<pre class="idl">interface <b>SVGTitleElement</b> : <a>SVGElement</a> {
};</pre>

</edit:with>


<h3 id="InterfaceSVGSymbolElement">Interface SVGSymbolElement</h3>

<edit:with element="symbol">

<p>An <a>SVGSymbolElement</a> object represents a <a>'symbol'</a> element in the DOM.</p>

<pre class="idl">interface <b>SVGSymbolElement</b> : <a>SVGElement</a> {
};

<a>SVGSymbolElement</a> implements <a>SVGFitToViewBox</a>;</pre>

</edit:with>


<h3 id="InterfaceSVGUseElement">Interface SVGUseElement</h3>

<edit:with element="use">

<p>An <a>SVGUseElement</a> object represents a <a>'use'</a> element in the DOM.</p>

<pre class="idl">interface <b>SVGUseElement</b> : <a>SVGGraphicsElement</a> {
  [SameObject] readonly attribute <a>SVGAnimatedLength</a> <a href="struct.html#__svg__SVGUseElement__x">x</a>;
  [SameObject] readonly attribute <a>SVGAnimatedLength</a> <a href="struct.html#__svg__SVGUseElement__y">y</a>;
  [SameObject] readonly attribute <a>SVGAnimatedLength</a> <a href="struct.html#__svg__SVGUseElement__width">width</a>;
  [SameObject] readonly attribute <a>SVGAnimatedLength</a> <a href="struct.html#__svg__SVGUseElement__height">height</a>;
};

<a>SVGUseElement</a> implements <a>SVGURIReference</a>;</pre>

<p>The
<b id="__svg__SVGUseElement__x">x</b>,
<b id="__svg__SVGUseElement__y">y</b>,
<b id="__svg__SVGUseElement__width">width</b> and
<b id="__svg__SVGUseElement__height">height</b> IDL attributes
<a>reflect</a> the computed values of the <a>'x'</a>, <a>'y'</a>, <a>'width'</a> and
<a>'height'</a> properties and their corresponding
presentation attributes, respectively.</p>

</edit:with>


<h3 id="InterfaceSVGSwitchElement">Interface SVGSwitchElement</h3>

<edit:with element="switch">

<p>An <a>SVGSwitchElement</a> object represents a <a>'switch'</a> element in the DOM.</p>

<pre class="idl">interface <b>SVGSwitchElement</b> : <a>SVGGraphicsElement</a> {
};</pre>

</edit:with>


<h3 id="InterfaceGetSVGDocument">Interface GetSVGDocument</h3>

<p>This interface provides access to an SVG document embedded by reference
in another DOM-based language. The expectation is that the interface is
implemented on DOM objects that allow such SVG document references.</p>

<p>This interface is deprecated and may be dropped from future versions of
the SVG specification.  To access the SVG document inside an
<span class="element-name">'iframe'</span> or
<span class="element-name">'object'</span> element,
authors are suggested to use the <code>contentDocument</code>
attribute on the <a>HTMLIFrameElement</a> or <a>HTMLObjectElement</a>
interface, respectively.</p>

<p class="note">The <a>HTMLIFrameElement</a>, <a>HTMLEmbedElement</a>
and <a>HTMLObjectElement</a> interfaces all define their own getSVGDocument
method, which provides access to the SVG document in the same way that
the <a>GetSVGDocument</a> does.  Those three interfaces therefore do not need
to implement <a>GetSVGDocument</a>.  Still, authors are strongly recommended
to use contentDocument instead.</p>

<pre class="idl">[NoInterfaceObject]
interface <b>GetSVGDocument</b> {
  <a>Document</a> <a href="struct.html#__svg__GetSVGDocument__getSVGDocument">getSVGDocument</a>();
};</pre>

<p>The <b id="__svg__GetSVGDocument__getSVGDocument">getSVGDocument</b> method
is used to return a referenced SVG document.  When getSVGDocument() is called,
it must return the <a>Document</a> object referenced by the embedding element
that implements the <a>GetSVGDocument</a> interface; if there is no document,
null is returned.</p>

<p class="note">Note that this does no check to see whether the referenced
document is indeed an SVG document.  Instead, any document is returned.</p>
</div>

</body>
</html>
